(self.webpackChunkcontrol_mascotas=self.webpackChunkcontrol_mascotas||[]).push([[179],{2011:(mt,Ee,V)=>{"use strict";V.d(Ee,{Dh:()=>_e,GT:()=>fe,cc:()=>be,hO:()=>$e,on:()=>G,pX:()=>ie,xv:()=>ye});var I=V(4650),u=V(127),B=V(5813);mt=V.hmd(mt);const ae=["ngOnDestroy"],ie=(de,Ye,it,xe={})=>new Proxy(de,{get:(Se,Re)=>it.runOutsideAngular(()=>{var Ke;if(de[Re])return!(null===(Ke=xe?.spy)||void 0===Ke)&&Ke.get&&xe.spy.get(Re,de[Re]),de[Re];if(ae.indexOf(Re)>-1)return()=>{};const Je=Ye.toPromise().then(q=>{const Te=q&&q[Re];return"function"==typeof Te?Te.bind(q):Te&&Te.then?Te.then(X=>it.run(()=>X)):it.run(()=>Te)});return new Proxy(()=>{},{get:(q,Te)=>Je[Te],apply:(q,Te,X)=>Je.then(re=>{var he;const ce=re&&re(...X);return!(null===(he=xe?.spy)||void 0===he)&&he.apply&&xe.spy.apply(Re,X,ce),ce})})})}),fe=(de,Ye)=>{Ye.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(xe=>{Object.defineProperty(de.prototype,xe,Object.getOwnPropertyDescriptor(it.prototype||it,xe))})})};class ve{constructor(Ye){return Ye}}const _e=new I.InjectionToken("angularfire2.app.options"),ye=new I.InjectionToken("angularfire2.app.name");function G(de,Ye,it){const Se="object"==typeof it&&it||{};Se.name=Se.name||"string"==typeof it&&it||"[DEFAULT]";const Ke=u.Z.apps.filter(Je=>Je&&Je.name===Se.name)[0]||Ye.runOutsideAngular(()=>u.Z.initializeApp(de,Se));try{JSON.stringify(de)!==JSON.stringify(Ke.options)&&z("error",`${Ke.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Ke)}const z=(de,...Ye)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[de](...Ye)},Y={provide:ve,useFactory:G,deps:[_e,I.NgZone,[new I.Optional,ye]]};let $e=(()=>{class de{constructor(it){u.Z.registerVersion("angularfire",B.q4.full,"core"),u.Z.registerVersion("angularfire",B.q4.full,"app-compat"),u.Z.registerVersion("angular",I.VERSION.full,it.toString())}static initializeApp(it,xe){return{ngModule:de,providers:[{provide:_e,useValue:it},{provide:ye,useValue:xe}]}}}return de.\u0275fac=function(it){return new(it||de)(I.\u0275\u0275inject(I.PLATFORM_ID))},de.\u0275mod=I.\u0275\u0275defineNgModule({type:de}),de.\u0275inj=I.\u0275\u0275defineInjector({providers:[Y]}),de})();function be(de,Ye,it,xe,Se){const[,Re,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===de)||[];if(Re)return function le(de,Ye){try{return de.toString()===Ye.toString()}catch{return de===Ye}}(Se,Ke)||(ge("error",`${Ye} was already initialized on the ${it} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Se,was:Ke})),Re;{const Je=xe();return globalThis.\u0275AngularfireInstanceCache.push([de,Je,Se]),Je}}const He=!!mt.hot,ge=(de,...Ye)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[de](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Ee,V)=>{"use strict";V.d(Ee,{q4:()=>Mi,iC:()=>oo,HU:()=>wu,vb:()=>Lo,JM:()=>Bl});var I=V(4650),u=V(5867),B=V(5861),ae=V(9681),ie=V(2090),fe=V(4859),ve=V(1877),_e=V(8766);const ye="@firebase/installations",G="0.5.16",Y=`w:${G}`,$e="FIS_v2",Ye=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(S){return S instanceof ie.ZR&&S.code.includes("request-failed")}function xe({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Se(S){return{token:S.token,requestStatus:2,expiresIn:re(S.expiresIn),creationTime:Date.now()}}function Re(S,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(S,A){const U=(yield A.json()).error;return Ye.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Je({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function q(S,{refreshToken:A}){const x=Je(S);return x.append("Authorization",function he(S){return`${$e} ${S}`}(A)),x}function Te(S){return X.apply(this,arguments)}function X(){return(X=(0,B.Z)(function*(S){const A=yield S();return A.status>=500&&A.status<600?S():A})).apply(this,arguments)}function re(S){return Number(S.replace("s","000"))}function ce(S,A){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:A},{fid:x}){const U=xe(S),te=Je(S),pe=A.getImmediate({optional:!0});if(pe){const Ot=yield pe.getHeartbeatsHeader();Ot&&te.append("x-firebase-client",Ot)}const Qe={method:"POST",headers:te,body:JSON.stringify({fid:x,authVersion:$e,appId:S.appId,sdkVersion:Y})},bt=yield Te(()=>fetch(U,Qe));if(bt.ok){const Ot=yield bt.json();return{fid:Ot.fid||x,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:Se(Ot.authToken)}}throw yield Re("Create Installation",bt)})).apply(this,arguments)}function Ge(S){return new Promise(A=>{setTimeout(A,S)})}const on=/^[cdef][\w-]{21}$/;function nt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const x=function _n(S){return function vt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return on.test(x)?x:""}catch{return""}}function Mn(S){return`${S.appName}!${S.appId}`}const an=new Map;function ln(S,A){const x=Mn(S);Dn(x,A),function ss(S,A){const x=function Kr(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=S=>{Dn(S.data.key,S.data.fid)}),ii}();x&&x.postMessage({key:S,fid:A}),function si(){0===an.size&&ii&&(ii.close(),ii=null)}()}(x,A)}function Dn(S,A){const x=an.get(S);if(x)for(const U of x)U(A)}let ii=null;const Br="firebase-installations-store";let oi=null;function qs(){return oi||(oi=(0,_e.X3)("firebase-installations-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(Br)}})),oi}function ot(S,A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,B.Z)(function*(S,A){const x=Mn(S),te=(yield qs()).transaction(Br,"readwrite"),pe=te.objectStore(Br),ke=yield pe.get(x);return yield pe.put(A,x),yield te.done,(!ke||ke.fid!==A.fid)&&ln(S,A.fid),A})).apply(this,arguments)}function os(S){return mr.apply(this,arguments)}function mr(){return(mr=(0,B.Z)(function*(S){const A=Mn(S),U=(yield qs()).transaction(Br,"readwrite");yield U.objectStore(Br).delete(A),yield U.done})).apply(this,arguments)}function ai(S,A){return as.apply(this,arguments)}function as(){return(as=(0,B.Z)(function*(S,A){const x=Mn(S),te=(yield qs()).transaction(Br,"readwrite"),pe=te.objectStore(Br),ke=yield pe.get(x),Qe=A(ke);return void 0===Qe?yield pe.delete(x):yield pe.put(Qe,x),yield te.done,Qe&&(!ke||ke.fid!==Qe.fid)&&ln(S,Qe.fid),Qe})).apply(this,arguments)}function zn(S){return Un.apply(this,arguments)}function Un(){return(Un=(0,B.Z)(function*(S){let A;const x=yield ai(S.appConfig,U=>{const te=Ut(U),pe=Tt(S,te);return A=pe.registrationPromise,pe.installationEntry});return""===x.fid?{installationEntry:yield A}:{installationEntry:x,registrationPromise:A}})).apply(this,arguments)}function Ut(S){return Vt(S||{fid:nt(),registrationStatus:0})}function Tt(S,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ye.create("app-offline"))};const x={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},U=function wt(S,A){return yn.apply(this,arguments)}(S,x);return{installationEntry:x,registrationPromise:U}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:_r(S)}:{installationEntry:A}}function yn(){return(yn=(0,B.Z)(function*(S,A){try{const x=yield ce(S,A);return ot(S.appConfig,x)}catch(x){throw it(x)&&409===x.customData.serverCode?yield os(S.appConfig):yield ot(S.appConfig,{fid:A.fid,registrationStatus:0}),x}})).apply(this,arguments)}function _r(S){return On.apply(this,arguments)}function On(){return(On=(0,B.Z)(function*(S){let A=yield li(S.appConfig);for(;1===A.registrationStatus;)yield Ge(100),A=yield li(S.appConfig);if(0===A.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield zn(S);return U||x}return A})).apply(this,arguments)}function li(S){return ai(S,A=>{if(!A)throw Ye.create("installation-not-found");return Vt(A)})}function Vt(S){return function Ti(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function un(S,A){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:A},x){const U=gn(S,x),te=q(S,x),pe=A.getImmediate({optional:!0});if(pe){const Ot=yield pe.getHeartbeatsHeader();Ot&&te.append("x-firebase-client",Ot)}const Qe={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:Y,appId:S.appId}})},bt=yield Te(()=>fetch(U,Qe));if(bt.ok)return Se(yield bt.json());throw yield Re("Generate Auth Token",bt)})).apply(this,arguments)}function gn(S,{fid:A}){return`${xe(S)}/${A}/authTokens:generate`}function yr(S){return jr.apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(S,A=!1){let x;const U=yield ai(S.appConfig,pe=>{if(!Gt(pe))throw Ye.create("not-registered");const ke=pe.authToken;if(!A&&Z(ke))return pe;if(1===ke.requestStatus)return x=gt(S,A),pe;{if(!navigator.onLine)throw Ye.create("app-offline");const Qe=ee(pe);return x=kt(S,Qe),Qe}});return x?yield x:U.authToken})).apply(this,arguments)}function gt(S,A){return Le.apply(this,arguments)}function Le(){return(Le=(0,B.Z)(function*(S,A){let x=yield ft(S.appConfig);for(;1===x.authToken.requestStatus;)yield Ge(100),x=yield ft(S.appConfig);const U=x.authToken;return 0===U.requestStatus?yr(S,A):U})).apply(this,arguments)}function ft(S){return ai(S,A=>{if(!Gt(A))throw Ye.create("not-registered");return function Me(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function kt(S,A){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,B.Z)(function*(S,A){try{const x=yield un(S,A),U=Object.assign(Object.assign({},A),{authToken:x});return yield ot(S.appConfig,U),x}catch(x){if(!it(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield ot(S.appConfig,U)}else yield os(S.appConfig);throw x}})).apply(this,arguments)}function Gt(S){return void 0!==S&&2===S.registrationStatus}function Z(S){return 2===S.requestStatus&&!function W(S){const A=Date.now();return A<S.creationTime||S.creationTime+S.expiresIn<A+36e5}(S)}function ee(S){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:A})}function Xe(){return(Xe=(0,B.Z)(function*(S){const A=S,{installationEntry:x,registrationPromise:U}=yield zn(A);return U?U.catch(console.error):yr(A).catch(console.error),x.fid})).apply(this,arguments)}function fn(){return(fn=(0,B.Z)(function*(S,A=!1){const x=S;return yield Rn(x),(yield yr(x,A)).token})).apply(this,arguments)}function Rn(S){return dn.apply(this,arguments)}function dn(){return(dn=(0,B.Z)(function*(S){const{registrationPromise:A}=yield zn(S);A&&(yield A)})).apply(this,arguments)}function ls(S){return Ye.create("missing-app-config-values",{valueName:S})}const Mr="installations",Vn=S=>{const A=S.getProvider("app").getImmediate(),x=function Wt(S){if(!S||!S.options)throw ls("App Configuration");if(!S.name)throw ls("App Name");const A=["projectId","apiKey","appId"];for(const x of A)if(!S.options[x])throw ls(x);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(A);return{app:A,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Zs=S=>{const A=S.getProvider("app").getImmediate(),x=(0,ae._getProvider)(A,Mr).getImmediate();return{getId:()=>function ne(S){return Xe.apply(this,arguments)}(x),getToken:te=>function Ct(S){return fn.apply(this,arguments)}(x,te)}};(function yo(){(0,ae._registerComponent)(new fe.wA(Mr,Vn,"PUBLIC")),(0,ae._registerComponent)(new fe.wA("installations-internal",Zs,"PRIVATE"))})(),(0,ae.registerVersion)(ye,G),(0,ae.registerVersion)(ye,G,"esm2017");const ji="@firebase/remote-config",Qn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yl{constructor(A,x,U,te){this.client=A,this.storage=x,this.storageCache=U,this.logger=te}isCachedDataFresh(A,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,te=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${te}.`),te}fetch(A){var x=this;return(0,B.Z)(function*(){const[U,te]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(te&&x.isCachedDataFresh(A.cacheMaxAgeMillis,U))return te;A.eTag=te&&te.eTag;const pe=yield x.client.fetch(A),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(ke),pe})()}}function Qo(S=navigator){return S.languages&&S.languages[0]||S.language}class bo{constructor(A,x,U,te,pe,ke){this.firebaseInstallations=A,this.sdkVersion=x,this.namespace=U,this.projectId=te,this.apiKey=pe,this.appId=ke}fetch(A){var x=this;return(0,B.Z)(function*(){var U,te,pe;const[ke,Qe]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Et={sdk_version:x.sdkVersion,app_instance_id:ke,app_instance_id_token:Qe,app_id:x.appId,language_code:Qo()},Jn={method:"POST",headers:Ht,body:JSON.stringify(Et)},Gr=fetch(Ot,Jn),ua=new Promise((Qa,ha)=>{A.signal.addEventListener(()=>{const Iu=new Error("The operation was aborted.");Iu.name="AbortError",ha(Iu)})});let Za;try{yield Promise.race([Gr,ua]),Za=yield Gr}catch(Qa){let ha="fetch-client-network";throw"AbortError"===(null===(U=Qa)||void 0===U?void 0:U.name)&&(ha="fetch-timeout"),Qn.create(ha,{originalErrorMessage:null===(te=Qa)||void 0===te?void 0:te.message})}let jo=Za.status;const Ka=Za.headers.get("ETag")||void 0;let Uo,da;if(200===Za.status){let Qa;try{Qa=yield Za.json()}catch(ha){throw Qn.create("fetch-client-parse",{originalErrorMessage:null===(pe=ha)||void 0===pe?void 0:pe.message})}Uo=Qa.entries,da=Qa.state}if("INSTANCE_STATE_UNSPECIFIED"===da?jo=500:"NO_CHANGE"===da?jo=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(Uo={}),304!==jo&&200!==jo)throw Qn.create("fetch-status",{httpStatus:jo});return{status:jo,eTag:Ka,config:Uo}})()}}class bl{constructor(A,x){this.client=A,this.storage=x}fetch(A){var x=this;return(0,B.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:x,backoffCount:U}){var te=this;return(0,B.Z)(function*(){yield function dr(S,A){return new Promise((x,U)=>{const te=Math.max(A-Date.now(),0),pe=setTimeout(x,te);S.addEventListener(()=>{clearTimeout(pe),U(Qn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,x);try{const pe=yield te.client.fetch(A);return yield te.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function vl(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(pe))throw pe;const ke={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(ke),te.attemptFetch(A,ke)}})()}}class Do{constructor(A,x,U,te,pe){this.app=A,this._client=x,this._storageCache=U,this._storage=te,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rs(S,A){var x;const U=S.target.error||void 0;return Qn.create(A,{originalErrorMessage:U&&(null===(x=U)||void 0===x?void 0:x.message)})}const xs="app_namespace_store";class rr{constructor(A,x,U,te=function nr(){return new Promise((S,A)=>{var x;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=te=>{A(Rs(te,"storage-open"))},U.onsuccess=te=>{S(te.target.result)},U.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(U){A(Qn.create("storage-open",{originalErrorMessage:null===(x=U)||void 0===x?void 0:x.message}))}})}()){this.appId=A,this.appName=x,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var x=this;return(0,B.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,pe)=>{var ke;const bt=U.transaction([xs],"readonly").objectStore(xs),Ot=x.createCompositeKey(A);try{const Ht=bt.get(Ot);Ht.onerror=Et=>{pe(Rs(Et,"storage-get"))},Ht.onsuccess=Et=>{const Jn=Et.target.result;te(Jn?Jn.value:void 0)}}catch(Ht){pe(Qn.create("storage-get",{originalErrorMessage:null===(ke=Ht)||void 0===ke?void 0:ke.message}))}})})()}set(A,x){var U=this;return(0,B.Z)(function*(){const te=yield U.openDbPromise;return new Promise((pe,ke)=>{var Qe;const Ot=te.transaction([xs],"readwrite").objectStore(xs),Ht=U.createCompositeKey(A);try{const Et=Ot.put({compositeKey:Ht,value:x});Et.onerror=Jn=>{ke(Rs(Jn,"storage-set"))},Et.onsuccess=()=>{pe()}}catch(Et){ke(Qn.create("storage-set",{originalErrorMessage:null===(Qe=Et)||void 0===Qe?void 0:Qe.message}))}})})()}delete(A){var x=this;return(0,B.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,pe)=>{var ke;const bt=U.transaction([xs],"readwrite").objectStore(xs),Ot=x.createCompositeKey(A);try{const Ht=bt.delete(Ot);Ht.onerror=Et=>{pe(Rs(Et,"storage-delete"))},Ht.onsuccess=()=>{te()}}catch(Ht){pe(Qn.create("storage-delete",{originalErrorMessage:null===(ke=Ht)||void 0===ke?void 0:ke.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ir{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const x=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),te=A.storage.getActiveConfig(),pe=yield x;pe&&(A.lastFetchStatus=pe);const ke=yield U;ke&&(A.lastSuccessfulFetchTimestampMillis=ke);const Qe=yield te;Qe&&(A.activeConfig=Qe)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Na(){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function kn(){(0,ae._registerComponent)(new fe.wA("remote-config",function S(A,{instanceIdentifier:x}){const U=A.getProvider("app").getImmediate(),te=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ie.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:pe,apiKey:ke,appId:Qe}=U.options;if(!pe)throw Qn.create("registration-project-id");if(!ke)throw Qn.create("registration-api-key");if(!Qe)throw Qn.create("registration-app-id");const bt=new rr(Qe,U.name,x=x||"firebase"),Ot=new ir(bt),Ht=new ve.Yd(ji);Ht.logLevel=ve.in.ERROR;const Et=new bo(te,ae.SDK_VERSION,x,pe,ke,Qe),Jn=new bl(Et,bt),Gr=new yl(Jn,bt,Ot,Ht),ua=new Do(U,Gr,Ot,bt,Ht);return function ur(S){const A=(0,ie.m9)(S);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ua),ua},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ji,"0.3.15"),(0,ae.registerVersion)(ji,"0.3.15","esm2017")}();const Sn="/firebase-messaging-sw.js",ci="/firebase-cloud-messaging-push-scope",$i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Io="google.c.a.c_id",Ma="google.c.a.c_l",Oa="google.c.a.ts",du="google.c.a.e";var Ur=(()=>{return(S=Ur||(Ur={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Ur;var S})();function Hn(S){const A=new Uint8Array(S);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yr(S){const x=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),te=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)te[pe]=U.charCodeAt(pe);return te}const fs="fcm_token_details_db",$r="fcm_token_object_Store";function gc(S){return ks.apply(this,arguments)}function ks(){return ks=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(fs))return null;let A=null;return(yield(0,_e.X3)(fs,5,{upgrade:(U=(0,B.Z)(function*(te,pe,ke,Qe){var bt;if(pe<2||!te.objectStoreNames.contains($r))return;const Ot=Qe.objectStore($r),Ht=yield Ot.index("fcmSenderId").get(S);if(yield Ot.clear(),Ht)if(2===pe){const Et=Ht;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;A={token:Et.fcmToken,createTime:null!==(bt=Et.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:Hn(Et.vapidKey)}}}else if(3===pe){const Et=Ht;A={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Hn(Et.auth),p256dh:Hn(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Hn(Et.vapidKey)}}}else if(4===pe){const Et=Ht;A={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Hn(Et.auth),p256dh:Hn(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Hn(Et.vapidKey)}}}}),function(pe,ke,Qe,bt){return U.apply(this,arguments)})})).close(),yield(0,_e.Lj)(fs),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Gn(A)?A:null;var U}),ks.apply(this,arguments)}function Gn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:A}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const An="firebase-messaging-store";let Zn=null;function Jo(){return Zn||(Zn=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(An)}})),Zn}function Xo(S){return vi.apply(this,arguments)}function vi(){return(vi=(0,B.Z)(function*(S){const A=bi(S),U=yield(yield Jo()).transaction(An).objectStore(An).get(A);if(U)return U;{const te=yield gc(S.appConfig.senderId);if(te)return yield tn(S,te),te}})).apply(this,arguments)}function tn(S,A){return ps.apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(S,A){const x=bi(S),te=(yield Jo()).transaction(An,"readwrite");return yield te.objectStore(An).put(A,x),yield te.done,A})).apply(this,arguments)}function Ps(S){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,B.Z)(function*(S){const A=bi(S),U=(yield Jo()).transaction(An,"readwrite");yield U.objectStore(An).delete(A),yield U.done})).apply(this,arguments)}function bi({appConfig:S}){return S.appId}const Bn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function At(S,A){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,B.Z)(function*(S,A){var x;const U=yield ra(S),te=Pe(A),pe={method:"POST",headers:U,body:JSON.stringify(te)};let ke;try{ke=yield(yield fetch(Hi(S.appConfig),pe)).json()}catch(Qe){throw Bn.create("token-subscribe-failed",{errorInfo:null===(x=Qe)||void 0===x?void 0:x.toString()})}if(ke.error)throw Bn.create("token-subscribe-failed",{errorInfo:ke.error.message});if(!ke.token)throw Bn.create("token-subscribe-no-token");return ke.token})).apply(this,arguments)}function _c(S,A){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(S,A){var x;const U=yield ra(S),te=Pe(A.subscriptionOptions),pe={method:"PATCH",headers:U,body:JSON.stringify(te)};let ke;try{ke=yield(yield fetch(`${Hi(S.appConfig)}/${A.token}`,pe)).json()}catch(Qe){throw Bn.create("token-update-failed",{errorInfo:null===(x=Qe)||void 0===x?void 0:x.toString()})}if(ke.error)throw Bn.create("token-update-failed",{errorInfo:ke.error.message});if(!ke.token)throw Bn.create("token-update-no-token");return ke.token})).apply(this,arguments)}function ta(S,A){return na.apply(this,arguments)}function na(){return(na=(0,B.Z)(function*(S,A){var x;const te={method:"DELETE",headers:yield ra(S)};try{const ke=yield(yield fetch(`${Hi(S.appConfig)}/${A}`,te)).json();if(ke.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:ke.error.message})}catch(pe){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(x=pe)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Hi({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function ra(S){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,B.Z)(function*({appConfig:S,installations:A}){const x=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Pe({p256dh:S,auth:A,endpoint:x,vapidKey:U}){const te={web:{endpoint:x,auth:A,p256dh:S}};return U!==$i&&(te.web.applicationPubKey=U),te}const Kt=6048e5;function So(S){return ia.apply(this,arguments)}function ia(){return(ia=(0,B.Z)(function*(S){const A=yield br(S.swRegistration,S.vapidKey),x={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:A.endpoint,auth:Hn(A.getKey("auth")),p256dh:Hn(A.getKey("p256dh"))},U=yield Xo(S.firebaseDependencies);if(U){if(Il(U.subscriptionOptions,x))return Date.now()>=U.createTime+Kt?Gi(S,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield ta(S.firebaseDependencies,U.token)}catch(te){console.warn(te)}return No(S.firebaseDependencies,x)}return No(S.firebaseDependencies,x)})).apply(this,arguments)}function jn(S){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(S){const A=yield Xo(S.firebaseDependencies);A&&(yield ta(S.firebaseDependencies,A.token),yield Ps(S.firebaseDependencies));const x=yield S.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Gi(S,A){return ui.apply(this,arguments)}function ui(){return(ui=(0,B.Z)(function*(S,A){try{const x=yield _c(S.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:x,createTime:Date.now()});return yield tn(S.firebaseDependencies,U),x}catch(x){throw yield jn(S),x}})).apply(this,arguments)}function No(S,A){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,B.Z)(function*(S,A){const U={token:yield At(S,A),createTime:Date.now(),subscriptionOptions:A};return yield tn(S,U),U.token})).apply(this,arguments)}function br(S,A){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,B.Z)(function*(S,A){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yr(A)})})).apply(this,arguments)}function Il(S,A){return A.vapidKey===S.vapidKey&&A.endpoint===S.endpoint&&A.auth===S.auth&&A.p256dh===S.p256dh}function Ra(S){const A={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Yn(S,A){if(!A.notification)return;S.notification={};const x=A.notification.title;x&&(S.notification.title=x);const U=A.notification.body;U&&(S.notification.body=U);const te=A.notification.image;te&&(S.notification.image=te);const pe=A.notification.icon;pe&&(S.notification.icon=pe)}(A,S),function Hr(S,A){!A.data||(S.data=A.data)}(A,S),function Js(S,A){var x,U,te,pe,ke;if(!(A.fcmOptions||null!==(x=A.notification)&&void 0!==x&&x.click_action))return;S.fcmOptions={};const Qe=null!==(te=null===(U=A.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==te?te:null===(pe=A.notification)||void 0===pe?void 0:pe.click_action;Qe&&(S.fcmOptions.link=Qe);const bt=null===(ke=A.fcmOptions)||void 0===ke?void 0:ke.analytics_label;bt&&(S.fcmOptions.analyticsLabel=bt)}(A,S),A}function Wi(S){return"object"==typeof S&&!!S&&Io in S}function Jr(S,A){const x=[];for(let U=0;U<S.length;U++)x.push(S.charAt(U)),U<A.length&&x.push(A.charAt(U));return x.join("")}function Xs(S){return Bn.create("missing-app-config-values",{valueName:S})}Jr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yd{constructor(A,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function hu(S){if(!S||!S.options)throw Xs("App Configuration Object");if(!S.name)throw Xs("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:x}=S;for(const U of A)if(!x[U])throw Xs(U);return{appName:S.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:te,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function yc(S){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,B.Z)(function*(S){var A;try{S.swRegistration=yield navigator.serviceWorker.register(Sn,{scope:ci}),S.swRegistration.update().catch(()=>{})}catch(x){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=x)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function xa(S,A){return vc.apply(this,arguments)}function vc(){return(vc=(0,B.Z)(function*(S,A){if(!A&&!S.swRegistration&&(yield yc(S)),A||!S.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");S.swRegistration=A}})).apply(this,arguments)}function ka(S,A){return bc.apply(this,arguments)}function bc(){return(bc=(0,B.Z)(function*(S,A){A?S.vapidKey=A:S.vapidKey||(S.vapidKey=$i)})).apply(this,arguments)}function Pa(){return(Pa=(0,B.Z)(function*(S,A){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield ka(S,A?.vapidKey),yield xa(S,A?.serviceWorkerRegistration),So(S)})).apply(this,arguments)}function Fa(S,A,x){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,B.Z)(function*(S,A,x){const U=Sl(A);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Io],message_name:x[Ma],message_time:x[Oa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sl(S){switch(S){case Ur.NOTIFICATION_CLICKED:return"notification_open";case Ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function R(){return(R=(0,B.Z)(function*(S,A){const x=A.data;if(!x.isFirebaseMessaging)return;S.onMessageHandler&&x.messageType===Ur.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ra(x)):S.onMessageHandler.next(Ra(x)));const U=x.data;Wi(U)&&"1"===U[du]&&(yield Fa(S,x.messageType,U))})).apply(this,arguments)}const T="@firebase/messaging",P="0.10.0",H=S=>{const A=new yd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function C(S,A){return R.apply(this,arguments)}(A,x)),A},ue=S=>{const A=S.getProvider("messaging").getImmediate();return{getToken:U=>function El(S,A){return Pa.apply(this,arguments)}(A,U)}};function lt(){return nn.apply(this,arguments)}function nn(){return(nn=(0,B.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function De(){(0,ae._registerComponent)(new fe.wA("messaging",H,"PUBLIC")),(0,ae._registerComponent)(new fe.wA("messaging-internal",ue,"PRIVATE")),(0,ae.registerVersion)(T,P),(0,ae.registerVersion)(T,P,"esm2017")}();const zi="analytics",Mo="firebase_id",Ni="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sa="https://www.googletagmanager.com/gtag/js",sr=new ve.Yd("@firebase/analytics");function La(S){return Promise.all(S.map(A=>A.catch(x=>x)))}function Dc(S,A){const x=document.createElement("script");x.src=`${sa}?l=${S}&id=${A}`,x.async=!0,document.head.appendChild(x)}function vd(S,A,x,U,te,pe){return Al.apply(this,arguments)}function Al(){return(Al=(0,B.Z)(function*(S,A,x,U,te,pe){const ke=U[te];try{if(ke)yield A[ke];else{const bt=(yield La(x)).find(Ot=>Ot.measurementId===te);bt&&(yield A[bt.appId])}}catch(Qe){sr.error(Qe)}S("config",te,pe)})).apply(this,arguments)}function wc(S,A,x,U,te){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(S,A,x,U,te){try{let pe=[];if(te&&te.send_to){let ke=te.send_to;Array.isArray(ke)||(ke=[ke]);const Qe=yield La(x);for(const bt of ke){const Ot=Qe.find(Et=>Et.measurementId===bt),Ht=Ot&&A[Ot.appId];if(!Ht){pe=[];break}pe.push(Ht)}}0===pe.length&&(pe=Object.values(A)),yield Promise.all(pe),S("event",U,te||{})}catch(pe){sr.error(pe)}})).apply(this,arguments)}function bd(S){const A=window.document.getElementsByTagName("script");for(const x of Object.values(A))if(x.src&&x.src.includes(sa)&&x.src.includes(S))return x;return null}const Xr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),oa=new class ms{constructor(A={},x=1e3){this.throttleMetadata=A,this.intervalMillis=x}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,x){this.throttleMetadata[A]=x}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function _g(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Ml(S){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,B.Z)(function*(S){var A;const{appId:x,apiKey:U}=S,te={method:"GET",headers:_g(U)},pe=Ni.replace("{app-id}",x),ke=yield fetch(pe,te);if(200!==ke.status&&304!==ke.status){let Qe="";try{const bt=yield ke.json();null!==(A=bt.error)&&void 0!==A&&A.message&&(Qe=bt.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Qe})}return ke.json()})).apply(this,arguments)}function Kn(S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,B.Z)(function*(S,A=oa,x){const{appId:U,apiKey:te,measurementId:pe}=S.options;if(!U)throw Xr.create("no-app-id");if(!te){if(pe)return{measurementId:pe,appId:U};throw Xr.create("no-api-key")}const ke=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Cc;return setTimeout((0,B.Z)(function*(){Qe.abort()}),void 0!==x?x:6e4),Ol({appId:U,apiKey:te,measurementId:pe},ke,Qe,A)})).apply(this,arguments)}function Ol(S,A,x){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,B.Z)(function*(S,{throttleEndTimeMillis:A,backoffCount:x},U,te=oa){var pe,ke;const{appId:Qe,measurementId:bt}=S;try{yield Ba(U,A)}catch(Ot){if(bt)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${null===(pe=Ot)||void 0===pe?void 0:pe.message}]`),{appId:Qe,measurementId:bt};throw Ot}try{const Ot=yield Ml(S);return te.deleteThrottleMetadata(Qe),Ot}catch(Ot){const Ht=Ot;if(!Dd(Ht)){if(te.deleteThrottleMetadata(Qe),bt)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:Qe,measurementId:bt};throw Ot}const Et=503===Number(null===(ke=Ht?.customData)||void 0===ke?void 0:ke.httpStatus)?(0,ie.$s)(x,te.intervalMillis,30):(0,ie.$s)(x,te.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+Et,backoffCount:x+1};return te.setThrottleMetadata(Qe,Jn),sr.debug(`Calling attemptFetch again in ${Et} millis`),Ol(S,Jn,U,te)}})).apply(this,arguments)}function Ba(S,A){return new Promise((x,U)=>{const te=Math.max(A-Date.now(),0),pe=setTimeout(x,te);S.addEventListener(()=>{clearTimeout(pe),U(Xr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Dd(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Cc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let xo,$a;function ja(){return(ja=(0,B.Z)(function*(S,A,x,U,te){if(te&&te.global)S("event",x,U);else{const pe=yield A;S("event",x,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function _s(S){$a=S}function Id(S){xo=S}function df(){return xl.apply(this,arguments)}function xl(){return(xl=(0,B.Z)(function*(){var S;if(!(0,ie.hl)())return sr.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(A){return sr.warn(Xr.create("indexeddb-unavailable",{errorInfo:null===(S=A)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(S,A,x,U,te,pe,ke){var Qe;const bt=Kn(S);bt.then(Gr=>{x[Gr.measurementId]=Gr.appId,S.options.measurementId&&Gr.measurementId!==S.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gr=>sr.error(Gr)),A.push(bt);const Ot=df().then(Gr=>{if(Gr)return U.getId()}),[Ht,Et]=yield Promise.all([bt,Ot]);bd(pe)||Dc(pe,Ht.measurementId),$a&&(te("consent","default",$a),_s(void 0)),te("js",new Date);const Jn=null!==(Qe=ke?.config)&&void 0!==Qe?Qe:{};return Jn.origin="firebase",Jn.update=!0,null!=Et&&(Jn[Mo]=Et),te("config",Ht.measurementId,Jn),xo&&(te("set",xo),Id(void 0)),Ht.measurementId})).apply(this,arguments)}class mu{constructor(A){this.app=A}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},Ls=[];const la={};let ro,ei,ys="dataLayer",io=!1;function yu(S,A,x){!function _u(){const S=[];if((0,ie.ru)()&&S.push("This is a browser extension environment."),(0,ie.zI)()||S.push("Cookies are not available."),S.length>0){const A=S.map((U,te)=>`(${te+1}) ${U}`).join(" "),x=Xr.create("invalid-analytics-context",{errorInfo:A});sr.warn(x.message)}}();const U=S.options.appId;if(!U)throw Xr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Xr.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[U])throw Xr.create("already-exists",{id:U});if(!io){!function uf(S){let A=[];Array.isArray(window[S])?A=window[S]:window[S]=A}(ys);const{wrappedGtag:pe,gtagCore:ke}=function pu(S,A,x,U,te){let pe=function(...ke){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(pe=window[te]),window[te]=function fu(S,A,x,U){function pe(){return(pe=(0,B.Z)(function*(ke,Qe,bt){try{"event"===ke?yield wc(S,A,x,Qe,bt):"config"===ke?yield vd(S,A,x,U,Qe,bt):"consent"===ke?S("consent","update",bt):S("set",Qe)}catch(Ot){sr.error(Ot)}})).apply(this,arguments)}return function te(ke,Qe,bt){return pe.apply(this,arguments)}}(pe,S,A,x),{gtagCore:pe,wrappedGtag:window[te]}}(fi,Ls,la,ys,"gtag");ei=pe,ro=ke,io=!0}return fi[U]=function Ha(S,A,x,U,te,pe,ke){return kl.apply(this,arguments)}(S,Ls,la,A,ro,ys,x),new mu(S)}function hf(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,B.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const vu="@firebase/analytics";!function Di(){(0,ae._registerComponent)(new fe.wA(zi,(A,{options:x})=>yu(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new fe.wA("analytics-internal",function S(A){try{const x=A.getProvider(zi).getImmediate();return{logEvent:(U,te,pe)=>function Sc(S,A,x,U){S=(0,ie.m9)(S),function yg(S,A,x,U,te){return ja.apply(this,arguments)}(ei,fi[S.app.options.appId],A,x,U).catch(te=>sr.error(te))}(x,U,te,pe)}}catch(x){throw Xr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(vu,"0.8.4"),(0,ae.registerVersion)(vu,"0.8.4","esm2017")}();var qi=V(4408),Wa=V(7565);const Nc=new class so extends Wa.v{}(class Po extends qi.o{constructor(A,x){super(A,x),this.scheduler=A,this.work=x}schedule(A,x=0){return x>0?super.schedule(A,x):(this.delay=x,this.state=A,this.scheduler.flush(this),this)}execute(A,x){return x>0||this.closed?super.execute(A,x):this._execute(A,x)}requestAsyncId(A,x,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(A,x,U):(A.flush(this),0)}});var bu=V(4986),Mc=V(8505),Zi=V(9468),Ll=V(5363);const Mi=new I.Version("7.4.1"),za="__angularfire_symbol__analyticsIsSupportedValue",Fo="__angularfire_symbol__analyticsIsSupported",ca="__angularfire_symbol__remoteConfigIsSupportedValue",Vl="__angularfire_symbol__remoteConfigIsSupported",Oc="__angularfire_symbol__messagingIsSupportedValue",Du="__angularfire_symbol__messagingIsSupported";function Bl(S,A,x){if(A){if(1===A.length)return A[0];const pe=A.filter(ke=>ke.app===x);if(1===pe.length)return pe[0]}return x.container.getProvider(S).getImmediate({optional:!0})}globalThis[Fo]||(globalThis[Fo]=hf().then(S=>globalThis[za]=S).catch(()=>globalThis[za]=!1)),globalThis[Du]||(globalThis[Du]=lt().then(S=>globalThis[Oc]=S).catch(()=>globalThis[Oc]=!1)),globalThis[Vl]||(globalThis[Vl]=Na().then(S=>globalThis[ca]=S).catch(()=>globalThis[ca]=!1));const Lo=(S,A)=>{const x=A?[A]:(0,u.C6)(),U=[];return x.forEach(te=>{te.container.getProvider(S).instances.forEach(ke=>{U.includes(ke)||U.push(ke)})}),U};function Rc(){}class Oi{constructor(A,x=Nc){this.zone=A,this.delegate=x}now(){return this.delegate.now()}schedule(A,x,U){const te=this.zone;return this.delegate.schedule(function(ke){te.runGuarded(()=>{A.apply(this,[ke])})},x,U)}}class Ed{constructor(A){this.zone=A,this.task=null}call(A,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rc,{},Rc,Rc)),x.pipe((0,Mc.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wu=(()=>{class S{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Oi(Zone.current)),this.insideAngular=x.run(()=>new Oi(Zone.current,bu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(x){return new(x||S)(I.\u0275\u0275inject(I.NgZone))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Vo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function oo(S){return Vo(),function Ul(S){return function(x){return(x=x.lift(new Ed(S.ngZone))).pipe((0,Zi.R)(S.outsideAngular),(0,Ll.Q)(S.insideAngular))}}(Vo())(S)}},2090:(mt,Ee,V)=>{"use strict";V.d(Ee,{$s:()=>ft,BH:()=>qt,G6:()=>Re,L:()=>_e,LL:()=>an,Pz:()=>on,Sg:()=>nt,UG:()=>le,US:()=>fe,ZB:()=>z,ZR:()=>Mn,aH:()=>vt,b$:()=>de,eu:()=>Je,hl:()=>Ke,jU:()=>He,m9:()=>Gt,ne:()=>Un,pd:()=>as,r3:()=>yi,ru:()=>ge,tV:()=>ye,uI:()=>be,vZ:()=>ot,w1:()=>it,xO:()=>mr,xb:()=>oi,z$:()=>$e,zI:()=>q,zd:()=>ai});const ae=function(Z){const W=[];let ee=0;for(let Me=0;Me<Z.length;Me++){let ne=Z.charCodeAt(Me);ne<128?W[ee++]=ne:ne<2048?(W[ee++]=ne>>6|192,W[ee++]=63&ne|128):55296==(64512&ne)&&Me+1<Z.length&&56320==(64512&Z.charCodeAt(Me+1))?(ne=65536+((1023&ne)<<10)+(1023&Z.charCodeAt(++Me)),W[ee++]=ne>>18|240,W[ee++]=ne>>12&63|128,W[ee++]=ne>>6&63|128,W[ee++]=63&ne|128):(W[ee++]=ne>>12|224,W[ee++]=ne>>6&63|128,W[ee++]=63&ne|128)}return W},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,W){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let ne=0;ne<Z.length;ne+=3){const Xe=Z[ne],Ct=ne+1<Z.length,fn=Ct?Z[ne+1]:0,Rn=ne+2<Z.length,dn=Rn?Z[ne+2]:0;let Pt=(15&fn)<<2|dn>>6,$t=63&dn;Rn||($t=64,Ct||(Pt=64)),Me.push(ee[Xe>>2],ee[(3&Xe)<<4|fn>>4],ee[Pt],ee[$t])}return Me.join("")},encodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Z):this.encodeByteArray(ae(Z),W)},decodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Z):function(Z){const W=[];let ee=0,Me=0;for(;ee<Z.length;){const ne=Z[ee++];if(ne<128)W[Me++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Xe=Z[ee++];W[Me++]=String.fromCharCode((31&ne)<<6|63&Xe)}else if(ne>239&&ne<365){const Rn=((7&ne)<<18|(63&Z[ee++])<<12|(63&Z[ee++])<<6|63&Z[ee++])-65536;W[Me++]=String.fromCharCode(55296+(Rn>>10)),W[Me++]=String.fromCharCode(56320+(1023&Rn))}else{const Xe=Z[ee++],Ct=Z[ee++];W[Me++]=String.fromCharCode((15&ne)<<12|(63&Xe)<<6|63&Ct)}}return W.join("")}(this.decodeStringToByteArray(Z,W))},decodeStringToByteArray(Z,W){this.init_();const ee=W?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let ne=0;ne<Z.length;){const Xe=ee[Z.charAt(ne++)],fn=ne<Z.length?ee[Z.charAt(ne)]:0;++ne;const dn=ne<Z.length?ee[Z.charAt(ne)]:64;++ne;const qe=ne<Z.length?ee[Z.charAt(ne)]:64;if(++ne,null==Xe||null==fn||null==dn||null==qe)throw Error();Me.push(Xe<<2|fn>>4),64!==dn&&(Me.push(fn<<4&240|dn>>2),64!==qe&&Me.push(dn<<6&192|qe))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},_e=function(Z){return function(Z){const W=ae(Z);return fe.encodeByteArray(W,!0)}(Z).replace(/\./g,"")},ye=function(Z){try{return fe.decodeString(Z,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function z(Z,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return W}for(const ee in W)!W.hasOwnProperty(ee)||!Y(ee)||(Z[ee]=z(Z[ee],W[ee]));return Z}function Y(Z){return"__proto__"!==Z}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const Z=$e();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Re(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function Je(){return new Promise((Z,W)=>{try{let ee=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Me);ne.onsuccess=()=>{ne.result.close(),ee||self.indexedDB.deleteDatabase(Me),Z(!0)},ne.onupgradeneeded=()=>{ee=!1},ne.onerror=()=>{var Xe;W((null===(Xe=ne.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(ee){W(ee)}})}function q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=Z&&ye(Z[1]);return W&&JSON.parse(W)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},vt=()=>{var Z;return null===(Z=ce())||void 0===Z?void 0:Z.config},on=Z=>{var W;return null===(W=ce())||void 0===W?void 0:W[`_${Z}`]};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,ee)=>{this.resolve=W,this.reject=ee})}wrapCallback(W){return(ee,Me)=>{ee?this.reject(ee):this.resolve(Me),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(ee):W(ee,Me))}}}function nt(Z,W){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=W||"demo-project",ne=Z.iat||0,Xe=Z.sub||Z.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:ne,exp:ne+3600,auth_time:ne,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Ct)),""].join(".")}class Mn extends Error{constructor(W,ee,Me){super(ee),this.code=W,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(W,ee,Me){this.service=W,this.serviceName=ee,this.errors=Me}create(W,...ee){const Me=ee[0]||{},ne=`${this.service}/${W}`,Xe=this.errors[W],Ct=Xe?function ln(Z,W){return Z.replace(Ar,(ee,Me)=>{const ne=W[Me];return null!=ne?String(ne):`<${Me}?>`})}(Xe,Me):"Error";return new Mn(ne,`${this.serviceName}: ${Ct} (${ne}).`,Me)}}const Ar=/\{\$([^}]+)}/g;function yi(Z,W){return Object.prototype.hasOwnProperty.call(Z,W)}function oi(Z){for(const W in Z)if(Object.prototype.hasOwnProperty.call(Z,W))return!1;return!0}function ot(Z,W){if(Z===W)return!0;const ee=Object.keys(Z),Me=Object.keys(W);for(const ne of ee){if(!Me.includes(ne))return!1;const Xe=Z[ne],Ct=W[ne];if(Nr(Xe)&&Nr(Ct)){if(!ot(Xe,Ct))return!1}else if(Xe!==Ct)return!1}for(const ne of Me)if(!ee.includes(ne))return!1;return!0}function Nr(Z){return null!==Z&&"object"==typeof Z}function mr(Z){const W=[];for(const[ee,Me]of Object.entries(Z))Array.isArray(Me)?Me.forEach(ne=>{W.push(encodeURIComponent(ee)+"="+encodeURIComponent(ne))}):W.push(encodeURIComponent(ee)+"="+encodeURIComponent(Me));return W.length?"&"+W.join("&"):""}function ai(Z){const W={};return Z.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[ne,Xe]=Me.split("=");W[decodeURIComponent(ne)]=decodeURIComponent(Xe)}}),W}function as(Z){const W=Z.indexOf("?");if(!W)return"";const ee=Z.indexOf("#",W);return Z.substring(W,ee>0?ee:void 0)}function Un(Z,W){const ee=new Ut(Z,W);return ee.subscribe.bind(ee)}class Ut{constructor(W,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{W(this)}).catch(Me=>{this.error(Me)})}next(W){this.forEachObserver(ee=>{ee.next(W)})}error(W){this.forEachObserver(ee=>{ee.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,ee,Me){let ne;if(void 0===W&&void 0===ee&&void 0===Me)throw new Error("Missing Observer.");ne=function wt(Z,W){if("object"!=typeof Z||null===Z)return!1;for(const ee of W)if(ee in Z&&"function"==typeof Z[ee])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:ee,complete:Me},void 0===ne.next&&(ne.next=yn),void 0===ne.error&&(ne.error=yn),void 0===ne.complete&&(ne.complete=yn);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Xe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,W)}sendOne(W,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{ee(this.observers[W])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function ft(Z,W=1e3,ee=2){const Me=W*Math.pow(ee,Z),ne=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+ne)}function Gt(Z){return Z&&Z._delegate?Z._delegate:Z}},6179:(mt,Ee,V)=>{"use strict";var I=V(6895),u=V(4650);class B extends I.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends B{static makeCurrent(){(0,I.\u0275setRootDomAdapter)(new ae)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fe(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==t?null:function _e(n){ve=ve||document.createElement("a"),ve.setAttribute("href",n);const e=ve.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.\u0275parseCookieValue)(document.cookie,e)}}let ve,ie=null;const ye=new u.InjectionToken("TRANSITION_ID"),z=[{provide:u.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(u.ApplicationInitStatus).donePromise.then(()=>{const r=(0,I.\u0275getDOM)(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[ye,I.DOCUMENT,u.Injector],multi:!0}];let $e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const be=new u.InjectionToken("EventManagerPlugins");let le=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(be),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class He{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=(0,I.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ge=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),de=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ye),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ye))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Ye(n){(0,I.\u0275getDOM)().remove(n)}const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xe=/%COMP%/g;function X(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(n,i,t):(i=i.replace(xe,n),t.push(i))}return t}function re(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ce=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ViewEncapsulation.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ViewEncapsulation.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=X(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(le),u.\u0275\u0275inject(de),u.\u0275\u0275inject(u.APP_ID))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Fe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(it[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(on(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(on(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=it[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=it[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?e.style.setProperty(t,r,i&u.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,re(r)):this.eventManager.addEventListener(e,t,re(r))}}function on(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qt extends Fe{constructor(e,t,r,i){super(e),this.component=r;const l=X(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function q(n){return"_ngcontent-%COMP%".replace(xe,n)}(i+"-"+r.id),this.hostAttr=function Te(n){return"_nghost-%COMP%".replace(xe,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nt extends Fe{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=X(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _n=(()=>{class n extends He{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Mn=["alt","control","meta","shift"],an={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ar=(()=>{class n extends He{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.\u0275getDOM)().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),Mn.forEach(w=>{const N=r.indexOf(w);N>-1&&(r.splice(N,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let i=an[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mn.forEach(d=>{d!==i&&(0,ln[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const oi=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:I.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function si(){ae.makeCurrent()},multi:!0},{provide:I.DOCUMENT,useFactory:function yi(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),qs=new u.InjectionToken(""),ot=[{provide:u.\u0275TESTABILITY_GETTER,useClass:class Y{addToWindow(e){u.\u0275global.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(r=>{const i=u.\u0275global.getAllAngularTestabilities();let l=i.length,d=!1;const g=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,I.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.\u0275TESTABILITY,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]}],Nr=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function Ss(){return new u.ErrorHandler},deps:[]},{provide:be,useClass:_n,multi:!0,deps:[I.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:be,useClass:Ar,multi:!0,deps:[I.DOCUMENT]},{provide:ce,useClass:ce,deps:[le,de,u.APP_ID]},{provide:u.RendererFactory2,useExisting:ce},{provide:ge,useExisting:de},{provide:de,useClass:de,deps:[I.DOCUMENT]},{provide:le,useClass:le,deps:[be,u.NgZone]},{provide:I.XhrFactory,useClass:$e,deps:[]},[]];let os=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.APP_ID,useValue:t.appId},{provide:ye,useExisting:u.APP_ID},z]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(qs,12))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[...Nr,...ot],imports:[I.CommonModule,u.ApplicationModule]}),n})(),Un=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function zn(){return new Un((0,u.\u0275\u0275inject)(I.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var je=V(9751),qe=V(515),Pt=V(3269),$t=V(8996);function rt(...n){const e=(0,Pt.yG)(n);return(0,$t.D)(n,e)}var Zt=V(7579),vr=V(8421),Wt=V(5577),ls=V(1144),Mr=V(576),Ue=V(4004);const{isArray:Vn}=Array;function yo(n){return(0,Ue.U)(e=>function Zs(n,e){return Vn(e)?n(...e):n(e)}(n,e))}const ji=["addListener","removeListener"],tr=["addEventListener","removeEventListener"],cs=["on","off"];function $n(n,e,t,r){if((0,Mr.m)(t)&&(r=t,t=void 0),r)return $n(n,e,t).pipe(yo(r));const[i,l]=function wn(n){return(0,Mr.m)(n.addEventListener)&&(0,Mr.m)(n.removeEventListener)}(n)?tr.map(d=>g=>n[d](e,g,t)):function Qn(n){return(0,Mr.m)(n.addListener)&&(0,Mr.m)(n.removeListener)}(n)?ji.map(cr(n,e)):function Ta(n){return(0,Mr.m)(n.on)&&(0,Mr.m)(n.off)}(n)?cs.map(cr(n,e)):[];if(!i&&(0,ls.z)(n))return(0,Wt.z)(d=>$n(d,e,t))((0,vr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new je.y(d=>{const g=(..._)=>d.next(1<_.length?_:_[0]);return i(g),()=>l(g)})}function cr(n,e){return t=>r=>n[t](e,r)}var Ks=V(4986),_l=V(3532);function As(n){return n instanceof Date&&!isNaN(n)}const{isArray:Ms}=Array;function us(n){return 1===n.length&&Ms(n[0])?n[0]:n}var cn=V(5403);class rn extends Zt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Qr}=Array,{getPrototypeOf:Ko,prototype:vo,keys:Aa}=Object;function Or(n){if(1===n.length){const e=n[0];if(Qr(e))return{args:e,keys:null};if(function pc(n){return n&&"object"==typeof n&&Ko(n)===vo}(e)){const t=Aa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Os=V(4671);function yl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Qo=V(9672);function bo(...n){const e=(0,Pt.yG)(n),t=(0,Pt.jO)(n),{args:r,keys:i}=Or(n);if(0===r.length)return(0,$t.D)([],e);const l=new je.y(function dr(n,e,t=Os.y){return r=>{vl(e,()=>{const{length:i}=n,l=new Array(i);let d=i,g=i;for(let _=0;_<i;_++)vl(e,()=>{const w=(0,$t.D)(n[_],e);let N=!1;w.subscribe((0,cn.x)(r,k=>{l[_]=k,N||(N=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>yl(i,d):Os.y));return t?l.pipe(yo(t)):l}function vl(n,e,t){n?(0,Qo.f)(t,n,e):e()}var bl=V(5032);function Do(...n){const e=(0,Pt.jO)(n),t=us(n);return t.length?new je.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,vr.Xf)(t[d]).subscribe((0,cn.x)(r,g=>{if(i[d].push(g),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,N)=>!w.length&&l[N])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):qe.E}new je.y(bl.Z);var Rs=V(8189);function Yo(...n){return function xs(){return(0,Rs.J)(1)}()((0,$t.D)(n,(0,Pt.yG)(n)))}var nr=V(4482);function rr(n){return(0,nr.e)((e,t)=>{(0,vr.Xf)(n).subscribe((0,cn.x)(t,()=>t.complete(),bl.Z)),!t.closed&&e.subscribe(t)})}function ir(n,e){return(0,nr.e)((t,r)=>{let i=0;t.subscribe((0,cn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function kn(n){return n<=0?()=>qe.E:(0,nr.e)((e,t)=>{let r=0;e.subscribe((0,cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ds(...n){const e=(0,Pt.yG)(n);return(0,nr.e)((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function Na(n,e){return n===e}function qn(n,e){return(0,nr.e)((t,r)=>{let i=null,l=0,d=!1;const g=()=>d&&!i&&r.complete();t.subscribe((0,cn.x)(r,_=>{i?.unsubscribe();let w=0;const N=l++;(0,vr.Xf)(n(_,N)).subscribe(i=(0,cn.x)(r,k=>r.next(e?e(_,k,N,w++):k),()=>{i=null,g()}))},()=>{d=!0,g()}))})}var Sn=V(8505);function ci(...n){const e=(0,Pt.jO)(n);return(0,nr.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),g=!1;for(let _=0;_<i;_++)(0,vr.Xf)(n[_]).subscribe((0,cn.x)(r,w=>{l[_]=w,!g&&!d[_]&&(d[_]=!0,(g=d.every(Os.y))&&(d=null))},bl.Z));t.subscribe((0,cn.x)(r,_=>{if(g){const w=[_,...l];r.next(e?e(...w):w)}}))})}let Co=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n}),n})(),Ur=(()=>{class n extends Co{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const Hn=new u.InjectionToken("NgValueAccessor"),Yr={provide:Hn,useExisting:(0,u.forwardRef)(()=>fs),multi:!0};let fs=(()=>{class n extends Ur{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([Yr]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const wl={provide:Hn,useExisting:(0,u.forwardRef)(()=>ks),multi:!0},gc=new u.InjectionToken("CompositionEventMode");let ks=(()=>{class n extends Co{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $r(){const n=(0,I.\u0275getDOM)()?(0,I.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(gc,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u.\u0275\u0275ProvidersFeature([wl]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Si(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const An=new u.InjectionToken("NgValidators"),Zn=new u.InjectionToken("NgAsyncValidators");function ps(n){return Si(n.value)?{required:!0}:null}function At(n){return null}function Qs(n){return null!=n}function _c(n){return(0,u.\u0275isPromise)(n)?(0,$t.D)(n):n}function To(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ta(n,e){return e.map(t=>t(n))}function Hi(n){return n.map(e=>function na(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fs(n){return null!=n?function ra(n){if(!n)return null;const e=n.filter(Qs);return 0==e.length?null:function(t){return To(ta(t,e))}}(Hi(n)):null}function Kt(n){return null!=n?function Pe(n){if(!n)return null;const e=n.filter(Qs);return 0==e.length?null:function(t){return function du(...n){const e=(0,Pt.jO)(n),{args:t,keys:r}=Or(n),i=new je.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let _=d,w=d;for(let N=0;N<d;N++){let k=!1;(0,vr.Xf)(t[N]).subscribe((0,cn.x)(l,$=>{k||(k=!0,w--),g[N]=$},()=>_--,void 0,()=>{(!_||!k)&&(w||l.next(r?yl(r,g):g),l.complete())}))}});return e?i.pipe(yo(e)):i}(ta(t,e).map(_c)).pipe((0,Ue.U)(To))}}(Hi(n)):null}function So(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ao(n){return n?Array.isArray(n)?n:[n]:[]}function Gi(n,e){return Array.isArray(n)?n.includes(e):n===e}function ui(n,e){const t=Ao(e);return Ao(n).forEach(i=>{Gi(t,i)||t.push(i)}),t}function No(n,e){return Ao(e).filter(t=>!Gi(n,t))}class Ys{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class br extends Ys{get formDirective(){return null}get path(){return null}}class Ai extends Ys{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Il{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hr=(()=>{class n extends Il{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ai,2))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})(),Js=(()=>{class n extends Il{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(br,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const T="VALID",P="INVALID",H="PENDING",ue="DISABLED";function De(n){return(sn(n)?n.validators:n)||null}function lt(n){return Array.isArray(n)?Fs(n):n||null}function nn(n,e){return(sn(e)?e.asyncValidators:n)||null}function hn(n){return Array.isArray(n)?Kt(n):n||null}function sn(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class vn{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=lt(this._rawValidators),this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===T}get invalid(){return this.status===P}get pending(){return this.status==H}get disabled(){return this.status===ue}get enabled(){return this.status!==ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=lt(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hn(e)}addValidators(e){this.setValidators(ui(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ui(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(No(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(No(e,this._rawAsyncValidators))}hasValidator(e){return Gi(this._rawValidators,e)}hasAsyncValidator(e){return Gi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=H,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ue,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=T,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===T||this.status===H)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ue:T}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=H,this._hasOwnPendingAsyncValidator=!0;const t=_c(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.EventEmitter,this.statusChanges=new u.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?ue:this.errors?P:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(H)?H:this._anyControlsHaveStatus(P)?P:T}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Pn extends vn{constructor(e,t,r){super(De(t),nn(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function hr(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function en(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.\u0275RuntimeError(1e3,"");if(!r[t])throw new u.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function hi(n,e){La(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function uf(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Al(n,e)})}(n,e),function wc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vd(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Al(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sr(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function La(n,e){const t=function ia(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(So(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function jn(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(So(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();sa(e._rawValidators,i),sa(e._rawAsyncValidators,i)}function Al(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ic={provide:br,useExisting:(0,u.forwardRef)(()=>Rr)},Kn=(()=>Promise.resolve())();let Rr=(()=>{class n extends br{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.EventEmitter,this.form=new Pn({},Fs(t),Kt(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kn.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hi(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kn.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Kn.then(()=>{const r=this._findContainer(t.path),i=new Pn({});(function Oo(n,e){La(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kn.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Kn.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function ms(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(An,10),u.\u0275\u0275directiveInject(Zn,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.\u0275\u0275ProvidersFeature([Ic]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Ol(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ro(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ba=class extends vn{constructor(e=null,t,r){super(De(t),nn(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sn(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ro(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ol(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ol(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ro(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ua={provide:Ai,useExisting:(0,u.forwardRef)(()=>no)},to=(()=>Promise.resolve())();let no=(()=>{class n extends Ai{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new Ba,this._registered=!1,this.update=new u.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function oa(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===ks?t=l:function Nl(n){return Object.getPrototypeOf(n.constructor)===Ur}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Va(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){to.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.\u0275coerceToBoolean)(r);to.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function di(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(br,9),u.\u0275\u0275directiveInject(An,10),u.\u0275\u0275directiveInject(Zn,10),u.\u0275\u0275directiveInject(Hn,10),u.\u0275\u0275directiveInject(u.ChangeDetectorRef,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.\u0275\u0275ProvidersFeature([Ua]),u.\u0275\u0275InheritDefinitionFeature,u.\u0275\u0275NgOnChangesFeature]}),n})(),ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const $a={provide:Hn,useExisting:(0,u.forwardRef)(()=>_s),multi:!0};let _s=(()=>{class n extends Ur{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([$a]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();let Po=(()=>{class n{constructor(){this._validator=At}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):At,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();const bu={provide:An,useExisting:(0,u.forwardRef)(()=>Zi),multi:!0};let Zi=(()=>{class n extends Po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.\u0275coerceToBoolean,this.createValidator=t=>ps}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[u.\u0275\u0275ProvidersFeature([bu]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const Fo={provide:An,useExisting:(0,u.forwardRef)(()=>ca),multi:!0};let ca=(()=>{class n extends Po{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Di(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function bi(n){return e=>Si(e.value)||!function mc(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u.\u0275\u0275ProvidersFeature([Fo]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),Bl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[xl]}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Bl]}),n})();Math,Math,Math;const J_=["*"],Ze=["dialog"];function xb(n){return"string"==typeof n}function Kl(n){return null!=n}function zd(n){return(n||document.body).getBoundingClientRect()}const YC={animation:!0,transitionTimerDelayMs:5},qd=()=>{},{transitionTimerDelayMs:ly}=YC,Zd=new Map,Yi=(n,e,t,r)=>{let i=r.context||{};const l=Zd.get(e);if(l)switch(r.runningTransition){case"continue":return qe.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),Zd.delete(e)}const d=t(e,r.animation,i)||qd;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),rt(void 0).pipe(function ay(n){return e=>new je.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new Zt.x,_=new Zt.x,w=g.pipe(function Dl(...n){return e=>Yo(e,rt(...n))}(!0));Zd.set(e,{transition$:g,complete:()=>{_.next(),_.complete()},context:i});const N=function Fb(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const k=$n(e,"transitionend").pipe(rr(w),ir(({target:K})=>K===e));(function ur(...n){return 1===(n=us(n)).length?(0,vr.Xf)(n[0]):new je.y(function Sa(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,vr.Xf)(n[r]).subscribe((0,cn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function Ns(n=0,e,t=Ks.P){let r=-1;return null!=e&&((0,_l.K)(e)?t=e:r=e),new je.y(i=>{let l=As(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(N+ly).pipe(rr(w)),k,_).pipe(rr(w)).subscribe(()=>{Zd.delete(e),n.run(()=>{d(),g.next(),g.complete()})})}),g.asObservable()},uy=(n,e,t)=>{let{direction:r,maxSize:i,dimension:l}=t;const{classList:d}=n;function g(){d.add("collapse"),"show"===r?d.add("show"):d.remove("show")}if(e)return i||(i=function JC(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,l),t.maxSize=i,n.style[l]="show"!==r?i:"0px",d.remove("collapse"),d.remove("collapsing"),d.remove("show"),zd(n),d.add("collapsing")),n.style[l]="show"===r?i:"0px",()=>{g(),d.remove("collapsing"),n.style[l]=""};g()};let Uf=(()=>{class n{constructor(){this.animation=YC.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),Bb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),my=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),_y=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Uf))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zf=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.EventEmitter,this.shown=new u.EventEmitter,this.hidden=new u.EventEmitter,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Yi(this._zone,this._element.nativeElement,uy,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(_y),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();var ti=(()=>{return(n=ti||(ti={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ti;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Zb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Kb(n){const e=Array.from(n.querySelectorAll(Zb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule,Lo]}),n})(),Ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["",8,"navbar"]]}),n})(),Oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();class Gc{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Ry=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(kn(1)).subscribe(()=>{Yi(this._zone,this._el.nativeElement,(t,r)=>{r&&zd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class xy{close(e){}dismiss(e){}}class ky{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Zt.x,this._dismissed=new Zt.x,this._hidden=new Zt.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(rr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(rr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function kb(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():rt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Do(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Jf=(()=>{return(n=Jf||(Jf={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Jf;var n})();let kN=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Zt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.EventEmitter,this.shown=new Zt.x,this.hidden=new Zt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(kn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=Do(Yi(this._zone,t,()=>t.classList.remove("show"),r),Yi(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};Do(Yi(this._zone,this._elRef.nativeElement,(l,d)=>{d&&zd(l),l.classList.add("show")},t),Yi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{$n(t,"keydown").pipe(rr(this._closed$),ir(i=>i.which===ti.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Jf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;$n(this._dialogEl.nativeElement,"mousedown").pipe(rr(this._closed$),(0,Sn.b)(()=>r=!1),qn(()=>$n(t,"mouseup").pipe(rr(this._closed$),kn(1))),ir(({target:i})=>t===i)).subscribe(()=>{r=!0}),$n(t,"click").pipe(rr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Jf.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=Kb(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(I.DOCUMENT),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.\u0275\u0275viewQuery(Ze,7),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:J_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),u.\u0275\u0275projection(3),u.\u0275\u0275elementEnd()()),2&t&&u.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),H1=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hD=(()=>{class n{constructor(t,r,i,l,d,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=g,this._activeWindowCmptHasChanged=new Zt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=$n(e,"focusin").pipe(rr(t),(0,Ue.U)(l=>l.target));$n(e,"keydown").pipe(rr(t),ir(l=>l.which===ti.Tab),ci(i)).subscribe(([l,d])=>{const[g,_]=Kb(e);(d===g||d===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(g.focus(),l.preventDefault())}),r&&$n(e,"click").pipe(rr(t),ci(i),(0,Ue.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:Kl(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new xy,_=this._getContentRef(i.injector||t,r,g,i);let w=!1!==i.backdrop?this._attachBackdrop(l):void 0,N=this._attachWindowComponent(l,_.nodes),k=new ky(N,_,w,i.beforeDismiss);return this._registerModalRef(k),this._registerWindowCmpt(N),k.hidden.pipe(kn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=$=>{k.close($)},g.dismiss=$=>{k.dismiss($)},this._applyWindowOptions(N.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),k}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.createComponent)(Ry,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.createComponent)(kN,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Kl(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Kl(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof u.TemplateRef?this._createFromTemplateRef(r,i):xb(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new Gc([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new Gc([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Gc([[r]])}_createFromComponent(t,r,i,l){const d=u.Injector.create({providers:[{provide:xy,useValue:i}],parent:t}),g=(0,u.createComponent)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=g.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Gc([[_]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.ApplicationRef),u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(I.DOCUMENT),u.\u0275\u0275inject(H1),u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G1=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Uf))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fD=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(hD),u.\u0275\u0275inject(G1))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[fD]}),n})(),yD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),TD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),Wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();new u.InjectionToken("live announcer delay",{providedIn:"root",factory:function MD(){return 100}});let OD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();const Zy=[py,Bb,my,Gb,Ay,Oy,Py,yD,lo,Z1,dm,$y,hm,TD,Wy,ND,OD];let ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Zy,py,Bb,my,Gb,Ay,Oy,Py,yD,lo,Z1,dm,$y,hm,TD,Wy,ND,OD]}),n})();const ku_firestore={apiKey:"AIzaSyC03LRtK_BglGBAmz1q3y954B0KoJtESWs",authDomain:"control-mascotas-509c7.firebaseapp.com",projectId:"control-mascotas-509c7",storageBucket:"control-mascotas-509c7.appspot.com",messagingSenderId:"364653255440",appId:"1:364653255440:web:bc3436edaa0fb958caa395"};var Ji=V(2011),wr=V(5813);function zc(){return(0,nr.e)((n,e)=>{let t,r=!1;n.subscribe((0,cn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function sh(n,e,t,r,i){return(l,d)=>{let g=t,_=e,w=0;l.subscribe((0,cn.x)(d,N=>{const k=w++;_=g?n(_,N,k):(g=!0,N),r&&d.next(_)},i&&(()=>{g&&d.next(_),d.complete()})))}}function il(n,e){return(0,nr.e)(sh(n,e,arguments.length>=2,!0))}V(1277);var It,oh=V(3942),Ae=V(5861),Xl=V(9681),ah=V(4859),sl=V(1877),In=V(2090),Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ya={},np=np||{},zt=Ky||self;function gm(){}function rp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function lh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ip="closure_uid_"+(1e9*Math.random()>>>0),Qy=0;function lE(n,e,t){return n.call.apply(n.bind,arguments)}function mm(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lE:mm).apply(null,arguments)}function ch(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[i].apply(r,d)}}function va(){this.s=this.s,this.o=this.o}va.prototype.s=!1,va.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function xD(n){Object.prototype.hasOwnProperty.call(n,ip)&&n[ip]||(n[ip]=++Qy)}(this)},va.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ym=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bm(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rp(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ki.prototype.h=function(){this.defaultPrevented=!0};var kD=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",gm,e),zt.removeEventListener("test",gm,e)}catch{}return n}();function uh(n){return/^[\s\xa0]*$/.test(n)}var Dm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yy(n,e){return n<e?-1:n>e?1:0}function sp(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function ba(n){return-1!=sp().indexOf(n)}function wm(n){return wm[" "](n),n}wm[" "]=gm;var dh,n,cE=ba("Opera"),Pu=ba("Trident")||ba("MSIE"),Jy=ba("Edge"),op=Jy||Pu,ap=ba("Gecko")&&!(-1!=sp().toLowerCase().indexOf("webkit")&&!ba("Edge"))&&!(ba("Trident")||ba("MSIE"))&&!ba("Edge"),Xy=-1!=sp().toLowerCase().indexOf("webkit")&&!ba("Edge");function Im(){var n=zt.document;return n?n.documentMode:void 0}e:{var lp="",cp=(n=sp(),ap?/rv:([^\);]+)(\)|;)/.exec(n):Jy?/Edge\/([\d\.]+)/.exec(n):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xy?/WebKit\/(\S+)/.exec(n):cE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cp&&(lp=cp?cp[1]:""),Pu){var up=Im();if(null!=up&&up>parseFloat(lp)){dh=String(up);break e}}dh=lp}var ev={};var uE=zt.document&&Pu&&(Im()||parseInt(dh,10))||void 0;function hh(n,e){if(ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ap){e:{try{wm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hh.X.h.call(this)}}xi(hh,ki);var dE={2:"touch",3:"pen",4:"mouse"};hh.prototype.h=function(){hh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ir="closure_listenable_"+(1e6*Math.random()|0),VD=0;function hE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++VD,this.ba=this.ea=!1}function Cm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Em(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BD(n){const e={};for(const t in n)e[t]=n[t];return e}const nv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<nv.length;l++)t=nv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ec(n){this.src=n,this.g={},this.h=0}function iv(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=ym(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Cm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sv(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}ec.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=sv(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new hE(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var Tm="closure_lm_"+(1e6*Math.random()|0),ov={};function av(n,e,t,r,i){if(r&&r.once)return Sm(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)av(n,e[l],t,r,i);return null}return t=Am(t),n&&n[Ir]?n.N(e,t,lh(r)?!!r.capture:!!r,i):fE(n,e,t,!1,r,i)}function fE(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=lh(i)?!!i.capture:!!i,g=co(n);if(g||(n[Tm]=g=new ec(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function lv(){const e=ol;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(uv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sm(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sm(n,e[l],t,r,i);return null}return t=Am(t),n&&n[Ir]?n.O(e,t,lh(r)?!!r.capture:!!r,i):fE(n,e,t,!0,r,i)}function Ho(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ho(n,e[l],t,r,i);else r=lh(r)?!!r.capture:!!r,t=Am(t),n&&n[Ir]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sv(l=n.g[e],t,r,i))&&(Cm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=co(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sv(e,t,r,i)),(t=-1<n?e[n]:null)&&cv(t))}function cv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ir])iv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=co(e))?(iv(t,n),0==t.h&&(t.src=null,e[Tm]=null)):Cm(n)}}}function uv(n){return n in ov?ov[n]:ov[n]="on"+n}function ol(n,e){if(n.ba)n=!0;else{e=new hh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&cv(n),n=t.call(r,e)}return n}function co(n){return(n=n[Tm])instanceof ec?n:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Am(n){return"function"==typeof n?n:(n[uo]||(n[uo]=function(e){return n.handleEvent(e)}),n[uo])}function gi(){va.call(this),this.i=new ec(this),this.P=this,this.I=null}function Pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ki(e,n);else if(e instanceof ki)e.target=e.target||n;else{var i=e;rv(e=new ki(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Nm(d,r,!0,e)&&i}if(i=Nm(d=e.g=n,r,!0,e)&&i,i=Nm(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Nm(d=e.g=t[l],r,!1,e)&&i}function Nm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,_=d.ha||d.src;d.ea&&iv(n.i,d),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}xi(gi,va),gi.prototype[Ir]=!0,gi.prototype.removeEventListener=function(n,e,t,r){Ho(this,n,e,t,r)},gi.prototype.M=function(){if(gi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cm(t[r]);delete n.g[e],n.h--}}this.I=null},gi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dv=zt.JSON.stringify;function pE(){var n=HD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mm,fh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gE,n=>n.reset());class gE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jD(n){zt.setTimeout(()=>{throw n},0)}function UD(n,e){Mm||function $D(){var n=zt.Promise.resolve(void 0);Mm=function(){n.then(GD)}}(),ph||(Mm(),ph=!0),HD.add(n,e)}var ph=!1,HD=new class hv{constructor(){this.h=this.g=null}add(e,t){const r=fh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function GD(){for(var n;n=pE();){try{n.h.call(n.g)}catch(t){jD(t)}var e=fh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ph=!1}function dp(n,e){gi.call(this),this.h=n||1,this.g=e||zt,this.j=pi(this.lb,this),this.l=Date.now()}function hp(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function gh(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function Om(n){n.g=gh(()=>{n.g=null,n.i&&(n.i=!1,Om(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(dp,gi),(It=dp.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pi(this,"tick"),this.ca&&(hp(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){dp.X.M.call(this),hp(this),delete this.g};class fv extends va{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Om(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fu(n){va.call(this),this.h=n,this.g={}}xi(Fu,va);var Rm=[];function xm(n,e,t,r){Array.isArray(t)||(t&&(Rm[0]=t.toString()),t=Rm);for(var i=0;i<t.length;i++){var l=av(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function km(n){Em(n.g,function(e,t){this.g.hasOwnProperty(t)&&cv(e)},n),n.g={}}function mh(){this.g=!0}function Lu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return dv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Fu.prototype.M=function(){Fu.X.M.call(this),km(this)},Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mh.prototype.Aa=function(){this.g=!1},mh.prototype.info=function(){};var qc={},gv=null;function fp(){return gv=gv||new gi}function mv(n){ki.call(this,qc.Pa,n)}function _h(n){const e=fp();Pi(e,new mv(e))}function _v(n,e){ki.call(this,qc.STAT_EVENT,n),this.stat=e}function Xi(n){const e=fp();Pi(e,new _v(e,n))}function yv(n,e){ki.call(this,qc.Qa,n),this.size=e}function yh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}qc.Pa="serverreachability",xi(mv,ki),qc.STAT_EVENT="statevent",xi(_v,ki),qc.Qa="timingevent",xi(yv,ki);var pp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Pm(){}function Dv(){}Pm.prototype.h=null;var _p,Vu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gp(){ki.call(this,"d")}function mp(){ki.call(this,"c")}function vh(){}function Bu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Fu(this),this.O=wv,this.T=new dp(n=op?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}xi(gp,ki),xi(mp,ki),xi(vh,Pm),vh.prototype.g=function(){return new XMLHttpRequest},vh.prototype.i=function(){return{}},_p=new vh;var wv=45e3,yp={},bh={};function vp(n,e,t){n.K=1,n.v=Ih(Go(e)),n.s=t,n.P=!0,Zc(n,null)}function Zc(n,e){n.F=Date.now(),bp(n),n.A=Go(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),wp(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Fm,n.g=Dw(n.l,t?e:null,!n.s),0<n.N&&(n.L=new fv(pi(n.La,n,n.g),n.N)),xm(n.S,n.g,"readystatechange",n.ib),e=n.H?BD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),_h(),function pv(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),_=0;_<g.length;_++){var w=g[_].split("=");if(1<w.length){var N=w[0];w=w[1];var k=N.split("_");d=2<=k.length&&"type"==k[1]?d+(N+"=")+w+"&":d+(N+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ZD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function KD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Dh(n,t),i==bh){4==e&&(n.o=4,Xi(14),r=!1),Lu(n.j,n.m,null,"[Incomplete Response]");break}if(i==yp){n.o=4,Xi(15),Lu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Lu(n.j,n.m,i,null),Iv(n,i)}ZD(n)&&i!=bh&&i!=yp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ap(e),e.K=!0,Xi(11))):(Lu(n.j,n.m,t,"[Invalid Chunked Response]"),Kc(n),wh(n))}function Dh(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bh:(t=Number(e.substring(t,r)),isNaN(t)?yp:(r+=1)+t>e.length?bh:(e=e.substr(r,t),n.C=r+t,e))}function bp(n){n.V=Date.now()+n.O,Lm(n,n.O)}function Lm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yh(pi(n.gb,n),e)}function Vm(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function wh(n){0==n.l.G||n.I||_w(n.l,n)}function Kc(n){Vm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hp(n.T),km(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Iv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ev(t.h,n)))if(!n.J&&Ev(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Np(t),Sp(t)}kv(t),Xi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=yh(pi(t.cb,t),6e3));if(1>=sw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Gu(t,11)}else if((n.J||t.g==n)&&Np(t),!uh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const N=w[3];null!=N&&(t.ma=N,t.j.info("VER="+t.ma));const k=w[4];null!=k&&(t.Ca=k,t.j.info("SVER="+t.Ca));const $=w[5];null!=$&&"number"==typeof $&&0<$&&(t.J=r=1.5*$,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const oe=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var l=r.h;l.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Tv(l,l.h),l.h=null))}if(r.D){const we=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.za=we,ar(r.F,r.D,we))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=bw(r,r.H?r.ka:null,r.V),d.J){Sv(r.h,d);var g=d,_=r.J;_&&g.setTimeout(_),g.B&&(Vm(g),bp(g)),r.g=d}else gw(r);0<t.i.length&&Ah(t)}else"stop"!=w[0]&&"close"!=w[0]||Gu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Gu(t,7):Rv(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}_h()}catch{}}function QD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function mE(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ft(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(It=Bu.prototype).setTimeout=function(n){this.O=n},It.ib=function(n){n=n.target;const e=this.L;e&&3==nc(n)?e.l():this.La(n)},It.La=function(n){try{if(n==this.g)e:{const N=nc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>N)&&(3!=N||op||this.g&&(this.h.h||this.g.fa()||Sh(this.g)))){this.I||4!=N||7==e||_h(),Vm(this);var t=this.g.aa();this.Y=t;t:if(ZD(this)){var r=Sh(this.g);n="";var i=r.length,l=4==nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kc(this),wh(this);var d="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function WD(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,N,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uh(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Xi(12),Kc(this),wh(this);break e}Lu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Iv(this,t)}this.P?(KD(this,N,d),op&&this.i&&3==N&&(xm(this.S,this.T,"tick",this.hb),this.T.start())):(Lu(this.j,this.m,d,null),Iv(this,d)),4==N&&Kc(this),this.i&&!this.I&&(4==N?_w(this.l,this):(this.i=!1,bp(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),Kc(this),wh(this)}}}catch{}},It.hb=function(){if(this.g){var n=nc(this.g),e=this.g.fa();this.C<e.length&&(Vm(this),KD(this,n,e),this.i&&4!=n&&bp(this))}},It.cancel=function(){this.I=!0,Kc(this)},It.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function zD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_h(),Xi(17)),Kc(this),this.o=2,wh(this)):Lm(this,this.V-n)};var YD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Uu){this.h=void 0!==e?e:n.h,$u(this,n.j),this.s=n.s,this.g=n.g,or(this,n.m),this.l=n.l,e=n.i;var t=new tc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_E(this,t),this.o=n.o}else n&&(t=String(n).match(YD))?(this.h=!!e,$u(this,t[1]||"",!0),this.s=Dp(t[2]||""),this.g=Dp(t[3]||"",!0),or(this,t[4]),this.l=Dp(t[5]||"",!0),_E(this,t[6]||"",!0),this.o=Dp(t[7]||"")):(this.h=!!e,this.i=new tc(null,this.h))}function Go(n){return new Uu(n)}function $u(n,e,t){n.j=t?Dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function or(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _E(n,e,t){e instanceof tc?(n.i=e,function nw(n,e){e&&!n.j&&(Qc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ew(this,r),wp(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ch(e,vE)),n.i=new tc(e,n.h))}function ar(n,e,t){n.i.set(e,t)}function Ih(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ch(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,JD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function JD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Uu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ch(e,Cv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ch(e,Cv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ch(t,"/"==t.charAt(0)?yE:XD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ch(t,bE)),n.join("")};var Cv=/[#\/\?@]/g,XD=/[#\?:]/g,yE=/[#\?]/g,vE=/[#\?@]/g,bE=/#/g;function tc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qc(n){n.g||(n.g=new Map,n.h=0,n.i&&function ju(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ew(n,e){Qc(n),e=Hu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tw(n,e){return Qc(n),e=Hu(n,e),n.g.has(e)}function wp(n,e,t){ew(n,e),0<t.length&&(n.i=null,n.g.set(Hu(n,e),vm(t)),n.h+=t.length)}function Hu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iw(n){this.l=n||Ip,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=tc.prototype).add=function(n,e){Qc(this),this.i=null,n=Hu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){Qc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},It.oa=function(){Qc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},It.W=function(n){Qc(this);let e=[];if("string"==typeof n)tw(this,n)&&(e=e.concat(this.g.get(Hu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return Qc(this),this.i=null,tw(this,n=Hu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var Ip=10;function Eh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sw(n){return n.h?1:n.g?n.g.size:0}function Ev(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tv(n,e){n.g?n.g.add(e):n.h=e}function Sv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Av(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vm(n.i)}function Bm(){}function DE(){this.g=new Bm}function ow(n,e,t){const r=t||"";try{QD(n,function(i,l){let d=i;lh(i)&&(d=dv(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Um(n){this.l=n.ac||null,this.j=n.jb||!1}function Nv(n,e){gi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=aw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iw.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bm.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},Bm.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},xi(Um,Pm),Um.prototype.g=function(){return new Nv(this.l,this.j)},Um.prototype.i=function(n){return function(){return n}}({}),xi(Nv,gi);var aw=0;function IE(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Th(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yc(n)}function Yc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Nv.prototype).open=function(n,e){if(this.readyState!=aw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yc(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Th(this)),this.readyState=aw},It.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IE(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Th(this):Yc(this),3==this.readyState&&IE(this)}},It.Va=function(n){this.g&&(this.response=this.responseText=n,Th(this))},It.Ua=function(n){this.g&&(this.response=n,Th(this))},It.ga=function(){this.g&&Th(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Nv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CE=zt.JSON.parse;function Pr(n){gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mv,this.K=this.L=!1}xi(Pr,gi);var Mv="",Cp=/^https?$/i,EE=["POST","PUT"];function lw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cw(n),Ep(n)}function cw(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function uw(n){if(n.h&&typeof np<"u"&&(!n.C[1]||4!=nc(n)||2!=n.aa()))if(n.v&&4==nc(n))gh(n.Ha,0,n);else if(Pi(n,"readystatechange"),4==nc(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(YD)[1]||null;if(!i&&zt.self&&zt.self.location){var l=zt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Cp.test(i?i.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var d=2<nc(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",cw(n)}}finally{Ep(n)}}}function Ep(n,e){if(n.g){dw(n);const t=n.g,r=n.C[0]?gm:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function dw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function nc(n){return n.g?n.g.readyState:0}function Sh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Mv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hw(n){let e="";return Em(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $m(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ar(n,e,t))}function Tp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ov(n){this.Ca=0,this.i=[],this.j=new mh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Tp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Tp("baseRetryDelayMs",5e3,n),this.bb=Tp("retryDelaySeedMs",1e4,n),this.$a=Tp("forwardChannelMaxRetries",2,n),this.ta=Tp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new iw(n&&n.concurrentRequestLimit),this.Fa=new DE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rv(n){if(fw(n),3==n.G){var e=n.U++,t=Go(n.F);ar(t,"SID",n.I),ar(t,"RID",e),ar(t,"TYPE","terminate"),Nh(n,t),(e=new Bu(n,n.j,e,void 0)).K=2,e.v=Ih(Go(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dw(e.l,null),e.g.da(e.v)),e.F=Date.now(),bp(e)}vw(n)}function Sp(n){n.g&&(Ap(n),n.g.cancel(),n.g=null)}function fw(n){Sp(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Np(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Ah(n){Eh(n.h)||n.m||(n.m=!0,UD(n.Ja,n),n.C=0)}function xv(n,e){var t;t=e?e.m:n.U++;const r=Go(n.F);ar(r,"SID",n.I),ar(r,"RID",t),ar(r,"AID",n.T),Nh(n,r),n.o&&n.s&&$m(r,n.o,n.s),t=new Bu(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=pw(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Tv(n.h,t),vp(t,r,e)}function Nh(n,e){n.ia&&Em(n.ia,function(t,r){ar(e,r,t)}),n.l&&QD({},function(t,r){ar(e,r,t)})}function pw(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let _=0;_<t;_++){let w=i[_].h;const N=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),g=!1;else try{ow(N,d,"req"+w+"_")}catch{r&&r(N)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function gw(n){n.g||n.u||(n.Z=1,UD(n.Ia,n),n.A=0)}function kv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=yh(pi(n.Ia,n),yw(n,n.A)),n.A++,0))}function Ap(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function mw(n){n.g=new Bu(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Go(n.sa);ar(e,"RID","rpc"),ar(e,"SID",n.I),ar(e,"CI",n.L?"0":"1"),ar(e,"AID",n.T),ar(e,"TYPE","xmlhttp"),Nh(n,e),n.o&&n.s&&$m(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ih(Go(e)),t.s=null,t.P=!0,Zc(t,n)}function Np(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function _w(n,e){var t=null;if(n.g==e){Np(n),Ap(n),n.g=null;var r=2}else{if(!Ev(n.h,e))return;t=e.D,Sv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pi(r=fp(),new yv(r,t)),Ah(n)}else gw(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function SE(n,e){return!(sw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=yh(pi(n.Ja,n,e),yw(n,n.C)),n.C++,0)))}(n,e)||2==r&&kv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Gu(n,5);break;case 4:Gu(n,10);break;case 3:Gu(n,6);break;default:Gu(n,2)}}function yw(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Gu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pi(n.kb,n);t||(t=new Uu("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||$u(t,"https"),Ih(t)),function wE(n,e){const t=new mh;if(zt.Image){const r=new Image;r.onload=ch(jm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ch(jm,t,r,"TestLoadImage: error",!1,e),r.onabort=ch(jm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ch(jm,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xi(2);n.G=0,n.l&&n.l.va(e),vw(n),fw(n)}function vw(n){if(n.G=0,n.la=[],n.l){const e=Av(n.h);(0!=e.length||0!=n.i.length)&&(bm(n.la,e),bm(n.la,n.i),n.h.i.length=0,vm(n.i),n.i.length=0),n.l.ua()}}function bw(n,e,t){var r=t instanceof Uu?Go(t):new Uu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),or(r,r.m);else{var i=zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Uu(null,void 0);r&&$u(l,r),e&&(l.g=e),i&&or(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&ar(r,t,e),ar(r,"VER",n.ma),Nh(n,r),r}function Dw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pr(t&&n.Da&&!n.ra?new Um({jb:!0}):n.ra)).Ka(n.H),e}function ww(){}function Hm(){if(Pu&&!(10<=Number(uE)))throw Error("Environmental error: no available transport.")}function Es(n,e){gi.call(this),this.g=new Ov(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!uh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wu(this)}function Gm(n){gp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Pv(){mp.call(this),this.status=1}function Wu(n){this.g=n}(It=Pr.prototype).Ka=function(n){this.L=n},It.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_p.g(),this.C=function bv(n){return n.h||(n.h=n.i())}(this.u?this.u:_p),this.g.onreadystatechange=pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void lw(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=zt.FormData&&n instanceof zt.FormData,!(0<=ym(EE,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dw(this),0<this.B&&((this.K=function TE(n){return Pu&&function tv(){return function PD(n){var e=ev;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Dm(String(dh)).split("."),t=Dm("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Yy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Yy(0==i[2].length,0==l[2].length)||Yy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.qa,this)):this.A=gh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){lw(this,l)}},It.qa=function(){typeof np<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),Ep(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),Pr.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?uw(this):this.fb())},It.fb=function(){uw(this)},It.aa=function(){try{return 2<nc(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CE(e)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=Ov.prototype).ma=8,It.G=1,It.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Bu(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=BD(l),rv(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pw(this,i,e),ar(t=Go(this.F),"RID",n),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),Nh(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(hw(l)))+"&"+e:this.o&&$m(t,this.o,l)),Tv(this.h,i),this.Ya&&ar(t,"TYPE","init"),this.O?(ar(t,"$req",e),ar(t,"SID","null"),i.Z=!0,vp(i,t,null)):vp(i,t,e),this.G=2}}else 3==this.G&&(n?xv(this,n):0==this.i.length||Eh(this.h)||xv(this))},It.Ia=function(){if(this.u=null,mw(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=yh(pi(this.eb,this),n)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xi(10),Sp(this),mw(this))},It.cb=function(){null!=this.v&&(this.v=null,Sp(this),kv(this),Xi(19))},It.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Xi(2)):(this.j.info("Failed to ping google.com"),Xi(1))},(It=ww.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},Hm.prototype.g=function(n,e){return new Es(n,e)},xi(Es,gi),Es.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Xi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=bw(n,null,n.V),Ah(n)},Es.prototype.close=function(){Rv(this.g)},Es.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ah(e)},Es.prototype.M=function(){this.g.l=null,delete this.j,Rv(this.g),delete this.g,Es.X.M.call(this)},xi(Gm,gp),xi(Pv,mp),xi(Wu,ww),Wu.prototype.xa=function(){Pi(this.g,"a")},Wu.prototype.wa=function(n){Pi(this.g,new Gm(n))},Wu.prototype.va=function(n){Pi(this.g,new Pv)},Wu.prototype.ua=function(){Pi(this.g,"b")},Hm.prototype.createWebChannel=Hm.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,pp.NO_ERROR=0,pp.TIMEOUT=8,pp.HTTP_ERROR=6,vv.COMPLETE="complete",Dv.EventType=Vu,Vu.OPEN="a",Vu.CLOSE="b",Vu.ERROR="c",Vu.MESSAGE="d",gi.prototype.listen=gi.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.Oa,Pr.prototype.getLastErrorCode=Pr.prototype.Ea,Pr.prototype.getStatus=Pr.prototype.aa,Pr.prototype.getResponseJson=Pr.prototype.Sa,Pr.prototype.getResponseText=Pr.prototype.fa,Pr.prototype.send=Pr.prototype.da,Pr.prototype.setWithCredentials=Pr.prototype.Ka;var Fv=ya.createWebChannelTransport=function(){return new Hm},Iw=ya.getStatEventTarget=function(){return fp()},Wm=ya.ErrorCode=pp,AE=ya.EventType=vv,Lv=ya.Event=qc,zm=ya.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Cw=ya.FetchXmlHttpFactory=Um,Mh=ya.WebChannel=Dv,NE=ya.XhrIo=Pr;const Ew="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let Oh="9.13.0";const rc=new sl.Yd("@firebase/firestore");function Jc(){return rc.logLevel}function We(n,...e){if(rc.logLevel<=sl.in.DEBUG){const t=e.map(Rh);rc.debug(`Firestore (${Oh}): ${n}`,...t)}}function zr(n,...e){if(rc.logLevel<=sl.in.ERROR){const t=e.map(Rh);rc.error(`Firestore (${Oh}): ${n}`,...t)}}function ic(n,...e){if(rc.logLevel<=sl.in.WARN){const t=e.map(Rh);rc.warn(`Firestore (${Oh}): ${n}`,...t)}}function Rh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function Lt(n,e){n||yt()}function st(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class OE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Aw{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ri,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const w=d;e.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ri)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new Vv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new ni(e)}}class RE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new RE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZN{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,We("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.A=t.token,new qm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Nw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PE(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Mp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Mw(n){return n+"\0"}class lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new lr(0,0))}static max(){return new Bt(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xh{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends xh{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const Ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends xh{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return Ow.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Be(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Be(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Be(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(r+=g,i++):(l(),i++)}if(l(),d)throw new Be(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(bn.fromString(e))}static fromName(e){return new tt(bn.fromString(e).popFirst(5))}static empty(){return new tt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new bn(e.slice()))}}class Op{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Zm(n){return n.fields.find(e=>2===e.kind)}function Xc(n){return n.fields.filter(e=>2!==e.kind)}Op.UNKNOWN_ID=-1;class eu{constructor(e,t){this.fieldPath=e,this.kind=t}}class kh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kh(0,Us.min())}}function Bv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(1e9===r?new lr(t+1,0):new lr(t,r));return new Us(i,tt.empty(),e)}function jv(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(Bt.min(),tt.empty(),-1)}static max(){return new Us(Bt.max(),tt.empty(),-1)}}function Km(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,Ae.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==kw)throw n;We("LocalStore","Unexpectedly lost primary lease")}),Qm.apply(this,arguments)}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,l=0,d=!1;e.forEach(g=>{++i,g.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new me((r,i)=>{const l=e.length,d=new Array(l);let g=0;for(let _=0;_<l;_++){const w=_;t(e[w]).next(N=>{d[w]=N,++g,g===l&&r(d)},N=>i(N))}})}static doWhile(e,t){return new me((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Rp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ri,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new kp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=qu(r.target.error);this.P.reject(new kp(e,i))}}static open(e,t,r,i){try{return new Rp(t,e.transaction(i,r))}catch(l){throw new kp(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(We("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ll(t)}}class Wo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Wo.D((0,In.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return We("SimpleDb","Removing database:",e),zu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,In.hl)())return!1;if(Wo.N())return!0;const e=(0,In.z$)(),t=Wo.D(e),r=0<t&&t<10,i=Wo.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(We("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new kp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new Be(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Be(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new kp(e,g))},l.onupgradeneeded=d=>{We("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{We("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.F(e);const _=Rp.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(N=>(_.V(),N)).catch(N=>(_.abort(N),me.reject(N))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,N="FirebaseError"!==w.name&&g<3;if(We("SimpleDb","Transaction failed with error:",w.message,"Retrying:",N),l.close(),!N)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xp{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return zu(this.U.delete())}}class kp extends Be{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function al(n){return"IndexedDbTransactionError"===n.name}class ll{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(We("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zu(r)}add(e){return We("SimpleDb","ADD",this.store.name,e,e),zu(this.store.add(e))}get(e){return zu(this.store.get(e)).next(t=>(void 0===t&&(t=null),We("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return We("SimpleDb","DELETE",this.store.name,e),zu(this.store.delete(e))}count(){return We("SimpleDb","COUNT",this.store.name),zu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,g)=>{l.push(g)}).next(()=>l)}{const i=this.store.getAll(r.range);return new me((l,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{l(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){We("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=l=>{const d=qu(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new me((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const _=new xp(g),w=t(g.primaryKey,g.value,_);if(w instanceof me){const N=w.catch(k=>(_.done(),me.reject(k)));r.push(N)}_.isDone?i():null===_.G?g.continue():g.continue(_.G)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zu(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=qu(r.target.error);t(i)}})}let Pp=!1;function qu(n){const e=Wo.D((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pp||(Pp=!0,setTimeout(()=>{throw r},0)),r}}return n}class LE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;We("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{We("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){al(r)?We("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield sc(r)}yield t.nt(6e4)}))}}class VE{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return me.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return We("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(g=>{i-=g,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(g=>(We("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=jv(l);Km(d,r)>0&&(r=d)}),new Us(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Fp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$s.at=-1;class Fr{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new Fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lp(this.root,e,this.comparator,!0)}}class Lp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Ii.RED,this.left=i??Ii.EMPTY,this.right=l??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ii(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ln(this.comparator);return t.data=e,t}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ph(n){return n.hasNext()?n.getNext():void 0}class ho{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ho([])}unionWith(e){let t=new Ln(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const $v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=$v.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ac(n){return"string"==typeof n?qr.fromBase64String(n):qr.fromUint8Array(n)}function Hv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fw(n){const e=n.mapValue.fields.__previous_value__;return Hv(e)?Fw(e):e}function Vp(n){const e=oc(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}class BE{constructor(e,t,r,i,l,d,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}function Zu(n){return null==n}function Fh(n){return 0===n&&1/n==-1/0}function Gv(n){return"number"==typeof n&&Number.isInteger(n)&&!Fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bp={nullValue:"NULL_VALUE"};function Ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hv(n)?4:Bh(n)?9007199254740991:10:yt()}function Da(n,e){if(n===e)return!0;const t=Ku(n);if(t!==Ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vp(n).isEqual(Vp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=oc(r.timestampValue),d=oc(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ac(n.bytesValue).isEqual(ac(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pr(r.geoPointValue.latitude)===pr(i.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pr(r.integerValue)===pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=pr(r.doubleValue),d=pr(i.doubleValue);return l===d?Fh(l)===Fh(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Mp(n.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Fp(l)!==Fp(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!Da(l[g],d[g])))return!1;return!0}(n,e);default:return yt()}var i}function Lh(n,e){return void 0!==(n.values||[]).find(t=>Da(t,e))}function tu(n,e){if(n===e)return 0;const t=Ku(n),r=Ku(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=pr(i.integerValue||i.doubleValue),g=pr(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Wv(n.timestampValue,e.timestampValue);case 4:return Wv(Vp(n),Vp(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=ac(i),g=ac(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),g=l.split("/");for(let _=0;_<d.length&&_<g.length;_++){const w=Yt(d[_],g[_]);if(0!==w)return w}return Yt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Yt(pr(i.latitude),pr(l.latitude));return 0!==d?d:Yt(pr(i.longitude),pr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],g=l.values||[];for(let _=0;_<d.length&&_<g.length;++_){const w=tu(d[_],g[_]);if(w)return w}return Yt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===cc.mapValue&&l===cc.mapValue)return 0;if(i===cc.mapValue)return 1;if(l===cc.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),_=l.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let N=0;N<g.length&&N<w.length;++N){const k=Yt(g[N],w[N]);if(0!==k)return k;const $=tu(d[g[N]],_[w[N]]);if(0!==$)return $}return Yt(g.length,w.length)}(n.mapValue,e.mapValue);default:throw yt()}}function Wv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=oc(n),r=oc(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Qu(n){return Fi(n)}function Fi(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=oc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ac(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=Fi(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of i)d?d=!1:l+=",",l+=`${g}:${Fi(r.fields[g])}`;return l+"}"}(n.mapValue):yt();var e}function zo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zv(n){return!!n&&"integerValue"in n}function jp(n){return!!n&&"arrayValue"in n}function Lw(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Up(n){return!!n&&"mapValue"in n}function Vh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Bh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UE(n){return"nullValue"in n?Bp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zo(lc.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function qv(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zo(lc.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cc:yt()}function Zv(n,e){const t=tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Kv(n,e){const t=tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(t)}setAll(e){let t=Cr.emptyPath(),r={},i=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}d?r[g.lastSegment()]=Vh(d):i.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cl(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ci(Vh(this.value))}}function Qv(n){const e=[];return cl(n.fields,(t,r)=>{const i=new Cr([t]);if(Up(r)){const l=Qv(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new ho(e)}class er{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new er(e,0,Bt.min(),Bt.min(),Ci.empty(),0)}static newFoundDocument(e,t,r){return new er(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new er(e,2,t,Bt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Bt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yv{constructor(e,t=null,r=[],i=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=g,this.ht=null}}function Jv(n,e=null,t=[],r=[],i=null,l=null,d=null){return new Yv(n,e,t,r,i,l,d)}function nu(n){const e=st(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Qu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qu(r)).join(",")),e.ht=t}return e.ht}function Yu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!jw(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Da(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t0(n.startAt,e.startAt)&&t0(n.endAt,e.endAt)}function Jm(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $p(n,e){return n.filters.filter(t=>t instanceof Er&&t.field.isEqual(e))}function Vw(n,e,t){let r=Bp,i=!0;for(const l of $p(n,e)){let d=Bp,g=!0;switch(l.op){case"<":case"<=":d=UE(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=Bp}Zv({value:r,inclusive:i},{value:d,inclusive:g})<0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Zv({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Xm(n,e,t){let r=cc,i=!0;for(const l of $p(n,e)){let d=cc,g=!0;switch(l.op){case">=":case">":d=qv(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=cc}Kv({value:r,inclusive:i},{value:d,inclusive:g})>0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Kv({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Er extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new $E(e,t,r):"array-contains"===t?new HE(e,r):"in"===t?new QN(e,r):"not-in"===t?new GE(e,r):"array-contains-any"===t?new WE(e,r):new Er(e,t,r)}static lt(e,t,r){return"in"===t?new Bw(e,r):new Xv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(tu(t,this.value)):null!==t&&Ku(this.value)===Ku(t)&&this.ft(tu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $E extends Er{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.ft(t)}}class Bw extends Er{constructor(e,t){super(e,"in",t),this.keys=e0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xv extends Er{constructor(e,t){super(e,"not-in",t),this.keys=e0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class HE extends Er{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&Lh(t.arrayValue,this.value)}}class QN extends Er{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lh(this.value.arrayValue,t)}}class GE extends Er{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lh(this.value.arrayValue,t)}}class WE extends Er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lh(this.value.arrayValue,r))}}class ul{constructor(e,t){this.position=e,this.inclusive=t}}class Ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function jw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Uw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?tt.comparator(tt.fromName(d.referenceValue),t.key):tu(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function t0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Da(n.position[t],e.position[t]))return!1;return!0}class dl{constructor(e,t=null,r=[],i=[],l=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=_,this._t=null,this.wt=null}}function $w(n,e,t,r,i,l,d,g){return new dl(n,e,t,r,i,l,d,g)}function jh(n){return new dl(n)}function n0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function e_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function t_(n){return null!==n.collectionGroup}function Xu(n){const e=st(n);if(null===e._t){e._t=[];const t=e_(e),r=r0(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Ju(t)),e._t.push(new Ju(Cr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ju(Cr.keyField(),l))}}}return e._t}function es(n){const e=st(n);if(!e.wt)if("F"===e.limitType)e.wt=Jv(e.path,e.collectionGroup,Xu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xu(e))t.push(new Ju(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ul(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ul(e.startAt.position,e.startAt.inclusive):null;e.wt=Jv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function n_(n,e,t){return new dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hp(n,e){return Yu(es(n),es(e))&&n.limitType===e.limitType}function s0(n){return`${nu(es(n))}|lt:${n.limitType}`}function r_(n){return`Query(target=${function Ym(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Qu(r.value)}`;var r}).join(", ")}]`),Zu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Qu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Qu(t)).join(",")),`Target(${e})`}(es(n))}; limitType=${n.limitType})`}function i_(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const g=Uw(i,l,d);return i.inclusive?g<=0:g<0}(t.startAt,Xu(t),r)||t.endAt&&!function(i,l,d){const g=Uw(i,l,d);return i.inclusive?g>=0:g>0}(t.endAt,Xu(t),r)));var t,r}function Hw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Gw(n){return(e,t)=>{let r=!1;for(const i of Xu(n)){const l=zE(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function zE(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(i,l,d){const g=l.data.field(i),_=d.data.field(i);return null!==g&&null!==_?tu(g,_):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}function Ww(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function zw(n){return{integerValue:""+n}}function qw(n,e){return Gv(e)?zw(e):Ww(n,e)}class s_{constructor(){this._=void 0}}function o_(n,e,t){return n instanceof uc?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof ru?a0(n,e):n instanceof ed?a_(n,e):function(r,i){const l=o0(r,i),d=Zw(l)+Zw(r.yt);return zv(l)&&zv(r.yt)?zw(d):Ww(r.It,d)}(n,e)}function YN(n,e,t){return n instanceof ru?a0(n,e):n instanceof ed?a_(n,e):t}function o0(n,e){return n instanceof td?zv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class uc extends s_{}class ru extends s_{constructor(e){super(),this.elements=e}}function a0(n,e){const t=l0(e);for(const r of n.elements)t.some(i=>Da(i,r))||t.push(r);return{arrayValue:{values:t}}}class ed extends s_{constructor(e){super(),this.elements=e}}function a_(n,e){let t=l0(e);for(const r of n.elements)t=t.filter(i=>!Da(i,r));return{arrayValue:{values:t}}}class td extends s_{constructor(e,t){super(),this.It=e,this.yt=t}}function Zw(n){return pr(n.integerValue||n.doubleValue)}function l0(n){return jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gp{constructor(e,t){this.field=e,this.transform=t}}class ZE{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class l_{}function Kw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Uh(n.key,gr.none()):new rd(n.key,n.data,gr.none());{const t=n.data,r=Ci.empty();let i=new Ln(Cr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new dc(n.key,r,new ho(i.toArray()),gr.none())}}function KE(n,e,t){n instanceof rd?function(r,i,l){const d=r.value.clone(),g=c0(r.fieldTransforms,i,l.transformResults);d.setAll(g),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof dc?function(r,i,l){if(!nd(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=c0(r.fieldTransforms,i,l.transformResults),g=i.data;g.setAll(Jw(r)),g.setAll(d),i.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hs(n,e,t,r){return n instanceof rd?function(i,l,d,g){if(!nd(i.precondition,l))return d;const _=i.value.clone(),w=u0(i.fieldTransforms,g,l);return _.setAll(w),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof dc?function(i,l,d,g){if(!nd(i.precondition,l))return d;const _=u0(i.fieldTransforms,g,l),w=l.data;return w.setAll(Jw(i)),w.setAll(_),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(N=>N.field))}(n,e,t,r):(d=t,nd(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function Qw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=o0(r.transform,i||null);null!=l&&(null===t&&(t=Ci.empty()),t.set(r.field,l))}return t||null}function Yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mp(t,r,(i,l)=>function qE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ru&&r instanceof ru||t instanceof ed&&r instanceof ed?Mp(t.elements,r.elements,Da):t instanceof td&&r instanceof td?Da(t.yt,r.yt):t instanceof uc&&r instanceof uc);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class rd extends l_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dc extends l_{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c0(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,g=e.data.field(l.field);r.set(l.field,YN(d,g,t[i]))}return r}function u0(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,o_(l,d,e))}return r}class Uh extends l_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gs extends l_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QE{constructor(e){this.count=e}}var Lr,Cn;function fo(n){switch(n){default:return yt();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function Xw(n){if(void 0===n)return zr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Lr.OK:return Ce.OK;case Lr.CANCELLED:return Ce.CANCELLED;case Lr.UNKNOWN:return Ce.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return Ce.INTERNAL;case Lr.UNAVAILABLE:return Ce.UNAVAILABLE;case Lr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Lr.NOT_FOUND:return Ce.NOT_FOUND;case Lr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Lr.ABORTED:return Ce.ABORTED;case Lr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Lr.DATA_LOSS:return Ce.DATA_LOSS;default:return yt()}}(Cn=Lr||(Lr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}const YE=new Fr(tt.comparator);function Ws(){return YE}const c_=new Fr(tt.comparator);function $h(...n){let e=c_;for(const t of n)e=e.insert(t.key,t);return e}function d0(n){let e=c_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wa(){return Hh()}function h0(){return Hh()}function Hh(){return new hl(n=>n.toString(),(n,e)=>n.isEqual(e))}const JE=new Fr(tt.comparator),eI=new Ln(tt.comparator);function Xt(...n){let e=eI;for(const t of n)e=e.add(t);return e}const f0=new Ln(Yt);function Ia(){return f0}class id{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new id(Bt.min(),i,Ia(),Ws(),Xt())}}class sd{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sd(r,t,Xt(),Xt(),Xt())}}class qo{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class p0{constructor(e,t){this.targetId=e,this.At=t}}class XE{constructor(e,t,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class g0{constructor(){this.Rt=0,this.bt=tI(),this.Pt=qr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Xt(),t=Xt(),r=Xt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new sd(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=tI()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class eT{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ws(),this.qt=m0(),this.Kt=new Ln(Yt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(Jm(l))if(0===r){const d=new tt(l.path);this.jt(t,d,er.newNoDocument(d,Bt.min()))}else Lt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const g=this.Xt(d);if(g){if(l.current&&Jm(g.target)){const _=new tt(g.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,er.newNoDocument(_,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Xt();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new id(e,t,this.Kt,this.Ut,r);return this.Ut=Ws(),this.qt=m0(),this.Kt=new Ln(Yt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new g0,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ln(Yt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new g0),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function m0(){return new Fr(tt.comparator)}function tI(){return new Fr(tt.comparator)}const nI={asc:"ASCENDING",desc:"DESCENDING"},tT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rI{constructor(e,t){this.databaseId=e,this.gt=t}}function Gh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _0(n,e){return n.gt?e.toBase64():e.toUint8Array()}function nT(n,e){return Gh(n,e.toTimestamp())}function Zr(n){return Lt(!!n),Bt.fromTimestamp(function(e){const t=oc(e);return new lr(t.seconds,t.nanos)}(n))}function Wp(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function y0(n){const e=bn.fromString(n);return Lt(oI(e)),e}function Wh(n,e){return Wp(n.databaseId,e.path)}function Ca(n,e){const t=y0(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(v0(t))}function u_(n,e){return Wp(n.databaseId,e)}function zp(n){const e=y0(n);return 4===e.length?bn.emptyPath():v0(e)}function iu(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v0(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iI(n,e,t){return{name:Wh(n,e),fields:t.value.mapValue.fields}}function b0(n,e,t){const r=Ca(n,e.name),i=Zr(e.updateTime),l=new Ci({mapValue:{fields:e.fields}}),d=er.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function qp(n,e){let t;if(e instanceof rd)t={update:iI(n,e.key,e.value)};else if(e instanceof Uh)t={delete:Wh(n,e.key)};else if(e instanceof dc)t={update:iI(n,e.key,e.data),updateMask:aT(e.fieldMask)};else{if(!(e instanceof Gs))return yt();t={verify:Wh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof uc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ru)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ed)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yt()),t;var i}function D0(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?gr.updateTime(Zr(i.updateTime)):void 0!==i.exists?gr.exists(i.exists):gr.none():gr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let g=null;"setToServerValue"in d?(Lt("REQUEST_TIME"===d.setToServerValue),g=new uc):"appendMissingElements"in d?g=new ru(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new ed(d.removeAllFromArray.values||[]):"increment"in d?g=new td(l,d.increment):yt();const _=Cr.fromServerFormat(d.fieldPath);return new Gp(_,g)}(n,i)):[];var i;if(e.update){const i=Ca(n,e.update.name),l=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ho((e.updateMask.fieldPaths||[]).map(w=>Cr.fromServerFormat(w)));return new dc(i,l,d,t,r)}return new rd(i,l,t,r)}if(e.delete){const i=Ca(n,e.delete);return new Uh(i,t)}if(e.verify){const i=Ca(n,e.verify);return new Gs(i,t)}return yt()}function w0(n,e){return{documents:[u_(n,e.path)]}}function d_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=u_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=u_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(N=>function(k){if("=="===k.op){if(jE(k.value))return{unaryFilter:{field:zh(k.field),op:"IS_NAN"}};if(Lw(k.value))return{unaryFilter:{field:zh(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(jE(k.value))return{unaryFilter:{field:zh(k.field),op:"IS_NOT_NAN"}};if(Lw(k.value))return{unaryFilter:{field:zh(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zh(k.field),op:JN(k.op),value:k.value}}}(N));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:zh((N=w).field),direction:oT(N.dir)};var N})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||Zu(w)?w:{value:w});var w,g,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function I0(n){let e=zp(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const N=t.from[0];N.allDescendants?i=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=C0(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(N=>{return new Ju(qh((k=N).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let g=null;t.limit&&(g=function(N){let k;return k="object"==typeof N?N.value:N,Zu(k)?null:k}(t.limit));let _=null;var N;t.startAt&&(_=new ul((N=t.startAt).values||[],!!N.before));let w=null;return t.endAt&&(w=function(N){return new ul(N.values||[],!N.before)}(t.endAt)),$w(e,i,d,l,g,"F",_,w)}function C0(n){return n?void 0!==n.unaryFilter?[Zp(n)]:void 0!==n.fieldFilter?[E0(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>C0(e)).reduce((e,t)=>e.concat(t)):yt():[]}function oT(n){return nI[n]}function JN(n){return tT[n]}function zh(n){return{fieldPath:n.canonicalString()}}function qh(n){return Cr.fromServerFormat(n.fieldPath)}function E0(n){return Er.create(qh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Zp(n){switch(n.unaryFilter.op){case"IS_NAN":const e=qh(n.unaryFilter.field);return Er.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=qh(n.unaryFilter.field);return Er.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qh(n.unaryFilter.field);return Er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qh(n.unaryFilter.field);return Er.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function aT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ts(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T0(e)),e=od(n.get(t),e);return T0(e)}function od(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function T0(n){return n+"\x01\x01"}function Zo(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&yt(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:yt()}l=d+2}return new bn(r)}const h_=["userId","batchId"];function f_(n,e){return[n,ts(e)]}function p_(n,e,t){return[n,ts(e),t]}const S0={},Zh=["prefixPath","collectionGroup","readTime","documentId"],lT=["prefixPath","collectionGroup","documentId"],XN=["collectionGroup","readTime","prefixPath","documentId"],eM=["canonicalId","targetId"],tM=["targetId","path"],aI=["path","targetId"],cT=["collectionId","parent"],lI=["indexId","uid"],uT=["uid","sequenceNumber"],dT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cI=["indexId","uid","orderedDocumentKey"],uI=["userId","collectionPath","documentId"],dI=["userId","collectionPath","largestBatchId"],hT=["userId","collectionGroup","largestBatchId"],hI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fI=[...hI,"documentOverlays"],g_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fT=g_,pI=[...fT,"indexConfiguration","indexState","indexEntries"];class Kp extends FE{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ei(n,e){const t=st(n);return Wo.M(t.ie,e)}class A0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&KE(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hs(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hs(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=h0();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(i.key)?null:g;const _=Kw(d,g);null!==_&&r.set(i.key,_),d.isValidDocument()||d.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Mp(this.mutations,e.mutations,(t,r)=>Yw(t,r))&&Mp(this.baseMutations,e.baseMutations,(t,r)=>Yw(t,r))}}class N0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=JE;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new N0(e,t,r,i)}}class M0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class su{constructor(e,t,r,i,l=Bt.min(),d=Bt.min(),g=qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gI{constructor(e){this.re=e}}function mI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:m_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Wh(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Gh(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ad(e.version)};else{if(!e.isUnknownDocument())return yt();r.unknownDocument={path:t.path.toArray(),version:ad(e.version)}}var i,l;return r}function m_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ld(n){const e=new lr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function cd(n,e){const t=(e.baseMutations||[]).map(l=>D0(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>D0(n.re,l)),i=lr.fromMillis(e.localWriteTimeMs);return new A0(e.batchId,i,t,r)}function Qp(n){const e=ld(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ld(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=es(jh(zp(i.documents[0])))):r=es(I0(n.query)),new su(r,n.targetId,0,n.lastListenSequenceNumber,e,t,qr.fromBase64String(n.resumeToken))}function _I(n,e){const t=ad(e.snapshotVersion),r=ad(e.lastLimboFreeSnapshotVersion);let i;i=Jm(e.target)?w0(n.re,e.target):d_(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function O0(n){const e=I0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?n_(e,e.limit,"L"):e}function R0(n,e){return new M0(e.largestBatchId,D0(n.re,e.overlayMutation))}function yI(n,e){const t=e.path.lastSegment();return[n,ts(e.path.popLast()),t]}function vI(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ad(r.readTime),documentKey:ts(r.documentKey.path),largestBatchId:r.largestBatchId}}class gT{getBundleMetadata(e,t){return s(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ld(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return s(e).put({bundleId:(r=t).id,createTime:ad(Zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return o(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:O0(i.bundledQuery),readTime:ld(i.readTime)};var i})}saveNamedQuery(e,t){return o(e).put({name:(r=t).name,readTime:ad(Zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function s(n){return Ei(n,"bundles")}function o(n){return Ei(n,"namedQueries")}class a{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new a(e,t.uid||"")}getOverlay(e,t){return c(e).get(yI(this.userId,t)).next(r=>r?R0(this.It,r):null)}getOverlays(e,t){const r=wa();return me.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const g=new M0(t,d);i.push(this.ue(e,g))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(ts(d.getCollectionPath())));const l=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(c(e).Y("collectionPathOverlayIndex",g))}),me.waitFor(l)}getOverlaysForCollection(e,t,r){const i=wa(),l=ts(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return c(e).W("collectionPathOverlayIndex",d).next(g=>{for(const _ of g){const w=R0(this.It,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=wa();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c(e).Z({index:"collectionGroupOverlayIndex",range:g},(_,w,N)=>{const k=R0(this.It,w);l.size()<i||k.largestBatchId===d?(l.set(k.getKey(),k),d=k.largestBatchId):N.done()}).next(()=>l)}ue(e,t){return c(e).put(function(r,i,l){const[d,g,_]=yI(i,l.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:qp(r.re,l.mutation)}}(this.It,this.userId,t))}}function c(n){return Ei(n,"documentOverlays")}class h{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Fh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ac(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Bh(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):yt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),tt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function p(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function v(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=p(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}h.Te=new h;class D{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=v(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=v(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class E{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class M{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class F{constructor(){this.Be=new D,this.Le=new E(this.Be),this.Ue=new M(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class j{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new j(this.indexId,this.documentKey,this.arrayValue,r)}}function Q(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=se(n.arrayValue,e.arrayValue),0!==t?t:(t=se(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function se(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Oe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Zm(e);if(void 0!==t&&!this.ze(t))return!1;const r=Xc(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ze{constructor(){this.Ye=new et}addToCollectionParentIndex(e,t){return this.Ye.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Us.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class et{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ln(bn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(bn.comparator)).toArray()}}const _t=new Uint8Array(0);class Rt{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new et,this.Ze=new hl(r=>nu(r),(r,i)=>Yu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:ts(i)};return Ve(e).put(l)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Mw(t),""],!1,!0);return Ve(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Zo(d.parent))}return r})}addFieldIndex(e,t){const r=En(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=Wn(e);return l.next(g=>{d.put(vI(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=En(e),i=Wn(e),l=xt(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=xt(e);let i=!0;const l=new Map;return me.forEach(this.tn(t),d=>this.en(e,d).next(g=>{i&&(i=!!g),l.set(d,g)})).next(()=>{if(i){let d=Xt();const g=[];return me.forEach(l,(_,w)=>{var N;We("IndexedDbIndexManager",`Using index ${N=_,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${nu(t)}`);const k=function(Dt,ut){const at=Zm(ut);if(void 0===at)return null;for(const ht of $p(Dt,at.fieldPath))switch(ht.op){case"array-contains-any":return ht.value.arrayValue.values||[];case"array-contains":return[ht.value]}return null}(w,_),$=function(Dt,ut){const at=new Map;for(const ht of Xc(ut))for(const Jt of $p(Dt,ht.fieldPath))switch(Jt.op){case"==":case"in":at.set(ht.fieldPath.canonicalString(),Jt.value);break;case"not-in":case"!=":return at.set(ht.fieldPath.canonicalString(),Jt.value),Array.from(at.values())}return null}(w,_),K=function(Dt,ut){const at=[];let ht=!0;for(const Jt of Xc(ut)){const xn=0===Jt.kind?Vw(Dt,Jt.fieldPath,Dt.startAt):Xm(Dt,Jt.fieldPath,Dt.startAt);at.push(xn.value),ht&&(ht=xn.inclusive)}return new ul(at,ht)}(w,_),oe=function(Dt,ut){const at=[];let ht=!0;for(const Jt of Xc(ut)){const xn=0===Jt.kind?Xm(Dt,Jt.fieldPath,Dt.endAt):Vw(Dt,Jt.fieldPath,Dt.endAt);at.push(xn.value),ht&&(ht=xn.inclusive)}return new ul(at,ht)}(w,_),we=this.nn(_,w,K),Ne=this.nn(_,w,oe),ct=this.sn(_,w,$),dt=this.rn(_.indexId,k,we,K.inclusive,Ne,oe.inclusive,ct);return me.forEach(dt,Dt=>r.J(Dt,t.limit).next(ut=>{ut.forEach(at=>{const ht=tt.fromSegments(at.documentKey);d.has(ht)||(d=d.add(ht),g.push(ht))})}))}).next(()=>g)}return me.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,g){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),N=[];for(let k=0;k<_;++k){const $=t?this.on(t[k/w]):_t,K=this.un(e,$,r[k%w],i),oe=this.cn(e,$,l[k%w],d),we=g.map(Ne=>this.un(e,$,Ne,!0));N.push(...this.createRange(K,oe,we))}return N}un(e,t,r,i){const l=new j(e,tt.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new j(e,tt.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new Oe(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const g of l)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return me.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new Ln(Cr.comparator),_=!1;for(const w of d.filters){const N=w;N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?_=!0:g=g.add(N.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new F;for(const i of Xc(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);h.Te.ce(l,d)}return r.$e()}on(e){const t=new F;return h.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new F;return h.Te.ce(zo(this.databaseId,t),r.qe(function(i){const l=Xc(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new F);let l=0;for(const d of Xc(e)){const g=r[l++];for(const _ of i)if(this.ln(t,d.fieldPath)&&jp(g))i=this.fn(i,d,g);else{const w=_.qe(d.kind);h.Te.ce(g,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of i){const _=new F;_.seed(g.$e()),h.Te.ce(d,_.qe(t.kind)),l.push(_)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Er&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=En(e),i=Wn(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return me.forEach(l,g=>i.get([g.indexId,this.uid]).next(_=>{d.push(function(w,N){const k=N?new kh(N.sequenceNumber,new Us(ld(N.readTime),new tt(Zo(N.documentKey)),N.largestBatchId)):kh.empty(),$=w.fields.map(([K,oe])=>new eu(Cr.fromServerFormat(K),oe));return new Op(w.indexId,w.collectionGroup,$,k)}(g,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=En(e),l=Wn(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>me.forEach(g,_=>l.put(vI(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?me.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),me.forEach(g,_=>this.wn(e,i,_).next(w=>{const N=this.mn(l,_);return w.isEqual(N)?me.resolve():this.gn(e,l,_,w,N)}))))})}yn(e,t,r,i){return xt(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return xt(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=xt(e);let l=new Ln(Q);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{l=l.add(new j(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}mn(e,t){let r=new Ln(Q);const i=this.an(t,e);if(null==i)return r;const l=Zm(t);if(null!=l){const d=e.data.field(l.fieldPath);if(jp(d))for(const g of d.arrayValue.values||[])r=r.add(new j(t.indexId,e.key,this.on(g),i))}else r=r.add(new j(t.indexId,e.key,_t,i));return r}gn(e,t,r,i,l){We("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,_,w,N,k){const $=g.getIterator(),K=_.getIterator();let oe=Ph($),we=Ph(K);for(;oe||we;){let Ne=!1,ct=!1;if(oe&&we){const dt=w(oe,we);dt<0?ct=!0:dt>0&&(Ne=!0)}else null!=oe?ct=!0:Ne=!0;Ne?(N(we),we=Ph(K)):ct?(k(oe),oe=Ph($)):(oe=Ph($),we=Ph(K))}}(i,l,Q,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),me.waitFor(d)}_n(e){let t=1;return Wn(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Q(d,g)).filter((d,g,_)=>!g||0!==Q(d,_[g-1]));const i=[];i.push(e);for(const d of r){const g=Q(d,e),_=Q(d,t);if(0===g)i[0]=e.Ke();else if(g>0&&_<0)i.push(d),i.push(d.Ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,_t,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,_t,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ou)}getMinOffset(e,t){return me.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||yt())).next(ou)}}function Ve(n){return Ei(n,"collectionParents")}function xt(n){return Ei(n,"indexEntries")}function En(n){return Ei(n,"indexConfiguration")}function Wn(n){return Ei(n,"indexState")}function ou(n){Lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Km(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Us(e.readTime,e.documentKey,t)}const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ns{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ns(e,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y_(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const _=r.Z({range:d},(N,k,$)=>(g++,$.delete()));l.push(_.next(()=>{Lt(1===g)}));const w=[];for(const N of t.mutations){const k=p_(e,N.key.path,t.batchId);l.push(i.delete(k)),w.push(N.key)}return me.waitFor(l).next(()=>w)}function Kh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(41943040,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);class Qh{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Qh(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=au(e),d=fl(e);return d.add({}).next(g=>{Lt("number"==typeof g);const _=new A0(g,t,r,i),w=function($,K,oe){const we=oe.baseMutations.map(ct=>qp($.re,ct)),Ne=oe.mutations.map(ct=>qp($.re,ct));return{userId:K,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:we,mutations:Ne}}(this.It,this.userId,_),N=[];let k=new Ln(($,K)=>Yt($.canonicalString(),K.canonicalString()));for(const $ of i){const K=p_(this.userId,$.key.path,g);k=k.add($.key.path.popLast()),N.push(d.put(w)),N.push(l.put(K,S0))}return k.forEach($=>{N.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.In[g]=_.keys()}),me.waitFor(N).next(()=>_)})}lookupMutationBatch(e,t){return fl(e).get(t).next(r=>r?(Lt(r.userId===this.userId),cd(this.It,r)):null)}Tn(e,t){return this.In[t]?me.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return fl(e).Z({index:"userMutationsIndex",range:i},(d,g,_)=>{g.userId===this.userId&&(Lt(g.batchId>=r),l=cd(this.It,g)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).W("userMutationsIndex",t).next(r=>r.map(i=>cd(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=f_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return au(e).Z({range:i},(d,g,_)=>{const[w,N,k]=d,$=Zo(N);if(w===this.userId&&t.path.isEqual($))return fl(e).get(k).next(K=>{if(!K)throw yt();Lt(K.userId===this.userId),l.push(cd(this.It,K))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Yt);const i=[];return t.forEach(l=>{const d=f_(this.userId,l.path),g=IDBKeyRange.lowerBound(d),_=au(e).Z({range:g},(w,N,k)=>{const[$,K,oe]=w,we=Zo(K);$===this.userId&&l.path.isEqual(we)?r=r.add(oe):k.done()});i.push(_)}),me.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=f_(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new Ln(Yt);return au(e).Z({range:d},(_,w,N)=>{const[k,$,K]=_,oe=Zo($);k===this.userId&&r.isPrefixOf(oe)?oe.length===i&&(g=g.add(K)):N.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(fl(e).get(l).next(d=>{if(null===d)throw yt();Lt(d.userId===this.userId),r.push(cd(this.It,d))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return y_(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return au(e).Z({range:r},(l,d,g)=>{if(l[0]===this.userId){const _=Zo(l[1]);i.push(_)}else g.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return v_(e,this.userId,t)}Rn(e){return b_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function v_(n,e,t){const r=f_(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return au(n).Z({range:l,X:!0},(g,_,w)=>{const[N,k,$]=g;N===e&&k===i&&(d=!0),w.done()}).next(()=>d)}function fl(n){return Ei(n,"mutations")}function au(n){return Ei(n,"documentMutations")}function b_(n){return Ei(n,"mutationQueues")}class Yp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yp(0)}static vn(){return new Yp(-1)}}class sk{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Yp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Bt.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>D_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return D_(e).Z((d,g)=>{const _=Qp(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>me.waitFor(l)).next(()=>i)}forEachTarget(e,t){return D_(e).Z((r,i)=>{const l=Qp(i);t(l)})}Vn(e){return nM(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}Sn(e,t){return nM(e).put("targetGlobalKey",t)}Dn(e,t){return D_(e).put(_I(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=nu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return D_(e).Z({range:i,index:"queryTargetsIndex"},(d,g,_)=>{const w=Qp(g);Yu(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yh(e);return t.forEach(d=>{const g=ts(d.path);i.push(l.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,d))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yh(e);return me.forEach(t,l=>{const d=ts(l.path);return me.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yh(e);let l=Xt();return i.Z({range:r,X:!0},(d,g,_)=>{const w=Zo(d[1]),N=new tt(w);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=ts(t.path),i=IDBKeyRange.bound([r],[Mw(r)],!1,!0);let l=0;return Yh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return D_(e).get(t).next(r=>r?Qp(r):null)}}function D_(n){return Ei(n,"targets")}function nM(n){return Ei(n,"targetGlobal")}function Yh(n){return Ei(n,"targetDocuments")}function rM([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class ok{constructor(e){this.xn=e,this.buffer=new Ln(rM),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;We("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){al(r)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield sc(r)}yield t.Fn(3e5)}))}}class lk{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve($s.at);const r=new ok(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,g,_,w;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),i=this.params.maximumSequenceNumbersToCollect):i=k,d=Date.now(),this.nthSequenceNumber(e,i))).next(k=>(r=k,g=Date.now(),this.removeTargets(e,r,t))).next(k=>(l=k,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(w=Date.now(),Jc()<=sl.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-N}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(_-g)+`ms\n\tRemoved ${k} documents in `+(w-_)+`ms\nTotal Duration: ${w-N}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:k})))}}class ck{constructor(e,t){this.db=e,this.garbageCollector=new lk(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return bI(e,r)}removeReference(e,t,r){return bI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bI(e,t)}Gn(e,t){return function(r,i){let l=!1;return b_(r).tt(d=>v_(r,d,i).next(g=>(g&&(l=!0),me.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,g)=>{if(g<=t){const _=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Bt.min()),Yh(e).delete([0,ts(d.path)])))});i.push(_)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bI(e,t)}Kn(e,t){const r=Yh(e);let i,l=$s.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:_,sequenceNumber:w})=>{0===d?(l!==$s.at&&t(new tt(Zo(i)),l),l=w,i=_):l=$s.at}).next(()=>{l!==$s.at&&t(new tt(Zo(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bI(n,e){return Yh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ts(e.path),sequenceNumber:r}));var r}class iM{constructor(){this.changes=new hl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uk{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jp(e).put(r)}removeEntry(e,t,r){return Jp(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],m_(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=er.newInvalidDocument(t);return Jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(x0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:er.newInvalidDocument(t)};return Jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(x0(t))},(i,l)=>{r={document:this.jn(t,l),size:Kh(l)}}).next(()=>r)}getEntries(e,t){let r=Ws();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Ws(),i=new Fr(tt.comparator);return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);r=r.insert(l,g),i=i.insert(l,Kh(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return me.resolve();let i=new Ln(lM);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(x0(i.first()),x0(i.last())),d=i.getIterator();let g=d.getNext();return Jp(e).Z({index:"documentKeyIndex",range:l},(_,w,N)=>{const k=tt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&lM(g,k)<0;)r(g,null),g=d.getNext();g&&g.isEqual(k)&&(r(g,w),g=d.hasNext()?d.getNext():null),g?N.j(x0(g)):N.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),m_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jp(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let g=Ws();for(const _ of d){const w=this.jn(tt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(e,t,r,i){let l=Ws();const d=aM(t,r),g=aM(t,Us.max());return Jp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(_,w,N)=>{const k=this.jn(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(k.key,k),l.size===i&&N.done()}).next(()=>l)}newChangeBuffer(e){return new dk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oM(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}Qn(e,t){return oM(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function pT(n,e){let t;if(e.document)t=b0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),i=ld(e.noDocument.readTime);t=er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const r=tt.fromSegments(e.unknownDocument.path),i=ld(e.unknownDocument.version);t=er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new lr(r[0],r[1]);return Bt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return er.newInvalidDocument(e)}}function sM(n){return new uk(n)}class dk extends iM{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new hl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ln((l,d)=>Yt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const _=mI(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Kh(_)-g.size,t.push(this.Yn.addEntry(e,l,_))}else if(r-=g.size,this.trackRemovals){const _=mI(this.Yn.It,d.convertToNoDocument(Bt.min()));t.push(this.Yn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function oM(n){return Ei(n,"remoteDocumentGlobal")}function Jp(n){return Ei(n,"remoteDocumentsV14")}function x0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aM(n,e){const t=e.documentKey.path.toArray();return[n,m_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lM(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Yt(t[l],r[l]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class hk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Hs(r.mutation,i,ho.empty(),lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xt()){const i=wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=$h();return l.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,i){let l=Ws();const d=Hh(),g=Hh();return t.forEach((_,w)=>{const N=r.get(w.key);i.has(w.key)&&(void 0===N||N.mutation instanceof dc)?l=l.insert(w.key,w):void 0!==N&&(d.set(w.key,N.mutation.getFieldMask()),Hs(N.mutation,w,N.mutation.getFieldMask(),lr.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((w,N)=>d.set(w,N)),t.forEach((w,N)=>{var k;return g.set(w,new hk(N,null!==(k=d.get(w))&&void 0!==k?k:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Hh();let i=new Fr((d,g)=>d-g),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let N=r.get(_)||ho.empty();N=g.applyToLocalView(w,N),r.set(_,N);const k=(i.get(g.batchId)||Xt()).add(_);i=i.insert(g.batchId,k)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),w=_.key,N=_.value,k=h0();N.forEach($=>{if(!l.has($)){const K=Kw(t.get($),r.get($));null!==K&&k.set($,K),l=l.add($)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,k))}return me.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):t_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):me.resolve(wa());let g=-1,_=l;return d.next(w=>me.forEach(w,(N,k)=>(g<k.largestBatchId&&(g=k.largestBatchId),l.get(N)?me.resolve():this.getBaseDocument(e,N,k).next($=>{_=_.insert(N,$)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,_,w,Xt())).next(N=>({batchId:g,changes:d0(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(r=>{let i=$h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=$h();return this.indexManager.getCollectionParents(e,i).next(d=>me.forEach(d,g=>{const _=(w=t,N=g.child(i),new dl(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,N;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((N,k)=>{l=l.insert(N,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,er.newInvalidDocument(w)))});let d=$h();return i.forEach((g,_)=>{const w=l.get(g);void 0!==w&&Hs(w.mutation,_,ho.empty(),lr.now()),i_(t,_)&&(d=d.insert(g,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(er.newInvalidDocument(t))}}class fk{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return me.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Zr(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:O0(r.bundledQuery),readTime:Zr(r.readTime)}),me.resolve();var r}}class pk{constructor(){this.overlays=new Fr(tt.comparator),this.es=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wa();return me.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=wa(),l=t.length+1,d=new tt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Fr((w,N)=>w-N);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let N=l.get(w.largestBatchId);null===N&&(N=wa(),l=l.insert(w.largestBatchId,N)),N.set(w.getKey(),w)}}const g=wa(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,N)=>g.set(w,N)),!(g.size()>=i)););return me.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new M0(t,r));let l=this.es.get(t);void 0===l&&(l=Xt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class mT{constructor(){this.ns=new Ln(rs.ss),this.rs=new Ln(rs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new rs(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new rs(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new tt(new bn([])),r=new rs(t,e),i=new rs(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new tt(new bn([])),r=new rs(t,e),i=new rs(t,e+1);let l=Xt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new rs(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return tt.comparator(e.key,t.key)||Yt(e._s,t._s)}static os(e,t){return Yt(e._s,t._s)||tt.comparator(e.key,t.key)}}class gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ln(rs.ss)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new A0(l,t,r,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new rs(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return me.resolve(d)}lookupMutationBatch(e,t){return me.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rs(t,0),i=new rs(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const g=this.ys(d._s);l.push(g)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Yt);return t.forEach(i=>{const l=new rs(i,0),d=new rs(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),me.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;tt.isDocumentKey(l)||(l=l.child(""));const d=new rs(new tt(l),0);let g=new Ln(Yt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(g=g.add(_._s)),!0)},d),me.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return me.forEach(t.mutations,i=>{const l=new rs(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new rs(t,0),i=this.gs.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mk{constructor(e){this.Es=e,this.docs=new Fr(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=Ws();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():er.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=Ws();const l=new tt(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:_}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Km(jv(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){yt()}As(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _k(this)}getSize(e){return me.resolve(this.size)}}class _k extends iM{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class yk{constructor(e){this.persistence=e,this.Rs=new hl(t=>nu(t),Yu),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mT,this.targetCount=0,this.vs=Yp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),me.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Yp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Dn(t),me.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),me.waitFor(l).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.Ps.containsKey(t))}}class uM{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $s(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new yk(this),this.indexManager=new ze,this.remoteDocumentCache=new mk(r=>this.referenceDelegate.xs(r)),this.It=new gI(t),this.Ns=new fk(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new gk(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new vk(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return me.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class vk extends FE{constructor(e){super(),this.currentSequenceNumber=e}}class DI{constructor(e){this.persistence=e,this.Fs=new mT,this.$s=null}static Bs(e){return new DI(e)}get Ls(){if(this.$s)return this.$s;throw yt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),me.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ls,r=>{const i=tt.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return me.or([()=>me.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class bk{constructor(e){this.It=e}$(e,t,r,i){const l=new Rp("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h_,{unique:!0}),g.createObjectStore("documentMutations"),dM(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=me.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),dM(e)),d=d.next(()=>function(g){const _=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(g,_){return _.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h_,{unique:!0});const N=_.store("mutations"),k=w.map($=>N.put($));return me.waitFor(k)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:uI});_.createIndex("collectionPathOverlayIndex",dI,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",hT,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:Zh});_.createIndex("documentKeyIndex",lT),_.createIndex("collectionGroupIndex",XN)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:lI}).createIndex("sequenceNumberIndex",uT,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:dT}).createIndex("documentKeyIndex",cI,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Kh(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>me.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>me.forEach(g,_=>{Lt(_.userId===l.userId);const w=cd(this.It,_);return y_(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,g)=>{const _=new bn(d),w=[0,ts(_)];l.push(t.get(w).next(N=>N?me.resolve():t.put({targetId:0,path:ts(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:cT});const r=t.store("collectionParents"),i=new et,l=d=>{if(i.add(d)){const g=d.lastSegment(),_=d.popLast();return r.put({collectionId:g,parent:ts(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const _=new bn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,_],w)=>{const N=Zo(g);return l(N.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=Qp(i),d=_I(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const g=t.store("remoteDocumentsV14"),_=(w=d,w.document?new tt(bn.fromString(w.document.name).popFirst(5)):w.noDocument?tt.fromSegments(w.noDocument.path):w.unknownDocument?tt.fromSegments(w.unknownDocument.path):yt()).path.toArray();var w;const N={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(N))}).next(()=>me.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=sM(this.It),l=new uM(DI.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(_=>{var w;let N=null!==(w=g.get(_.userId))&&void 0!==w?w:Xt();cd(this.It,_).keys().forEach(k=>N=N.add(k)),g.set(_.userId,N)}),me.forEach(g,(_,w)=>{const N=new ni(w),k=a.oe(this.It,N),$=l.getIndexManager(N),K=Qh.oe(N,this.It,$,l.referenceDelegate);return new cM(i,K,k,$).recalculateAndSaveOverlaysForDocumentKeys(new Kp(t,$s.at),_).next()})})}}function dM(n){n.createObjectStore("targetDocuments",{keyPath:tM}).createIndex("documentTargetsIndex",aI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eM,{unique:!0}),n.createObjectStore("targetGlobal")}const _T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yT{constructor(e,t,r,i,l,d,g,_,w,N,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=g,this.Js=w,this.Ys=N,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=$=>Promise.resolve(),!yT.C())throw new Be(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ck(this,i),this.ii=t+"main",this.It=new gI(_),this.ri=new Wo(this.ii,this.Xs,new bk(this.It)),this.Cs=new sk(this.referenceDelegate,this.It),this.remoteDocumentCache=sM(this.It),this.Ns=new gT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===N&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(Ce.FAILED_PRECONDITION,_T);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $s(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(al(e))return We("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return k0(e).get("owner").next(t=>me.resolve(this.mi(t)))}gi(e){return wI(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ei(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),g=l.filter(_=>-1===d.indexOf(_));return me.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?me.resolve(!0):k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Be(Ce.FAILED_PRECONDITION,_T);return!1}}return!(!this.networkEnabled||!this.inForeground)||wI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&We("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Kp(t,$s.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>wI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Qh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rt(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return a.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){We("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?pI:14===d?fT:13===d?g_:12===d?fI:11===d?hI:void yt();var d;let g;return this.ri.runTransaction(e,i,l,_=>(g=new Kp(_,this.Ss?this.Ss.next():$s.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(Ce.FAILED_PRECONDITION,kw);return r(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Vi(e){return k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(Ce.FAILED_PRECONDITION,_T)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return k0(e).put("owner",t)}static C(){return Wo.C()}_i(e){const t=k0(e);return t.get("owner").next(r=>this.mi(r)?(We("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return We("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function k0(n){return Ei(n,"owner")}function wI(n){return Ei(n,"clientMetadata")}function vT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class bT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Xt(),i=Xt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new bT(e,t.fromCache,r,i)}}class hM{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(n0(t))return me.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=n_(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Xt(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,g);return this.$i(t,w,d,_.readTime)?this.ki(e,n_(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,r,i){return n0(t)||i.isEqual(Bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(Jc()<=sl.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),r_(t)),this.Bi(e,d,t,Bv(i,-1)))})}Fi(e,t){let r=new Ln(Gw(e));return t.forEach((i,l)=>{i_(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return Jc()<=sl.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",r_(t)),this.Ni.getDocumentsMatchingQuery(e,t,Us.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class Dk{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Fr(Yt),this.qi=new hl(l=>nu(l),Yu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function fM(n,e,t,r){return new Dk(n,e,t,r)}function pM(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,Ae.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let _=Xt();for(const w of i){d.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}for(const w of l){g.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),DT.apply(this,arguments)}function wk(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,_,w){const N=_.batch,k=N.keys();let $=me.resolve();return k.forEach(K=>{$=$.next(()=>w.getEntry(g,K)).next(oe=>{const we=_.docVersions.get(K);Lt(null!==we),oe.version.compareTo(we)<0&&(N.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),w.addEntry(oe)))})}),$.next(()=>d.mutationQueue.removeMutationBatch(g,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Xt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gM(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ik(n,e){const t=st(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((N,k)=>{const $=i.get(k);if(!$)return;g.push(t.Cs.removeMatchingKeys(l,N.removedDocuments,k).next(()=>t.Cs.addMatchingKeys(l,N.addedDocuments,k)));let K=$.withSequenceNumber(l.currentSequenceNumber);var oe,we,Ne;e.targetMismatches.has(k)?K=K.withResumeToken(qr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):N.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(N.resumeToken,r)),i=i.insert(k,K),we=K,Ne=N,(0===(oe=$).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,K))});let _=Ws(),w=Xt();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,N))}),g.push(mM(l,d,e.documentUpdates).next(N=>{_=N.Wi,w=N.zi})),!r.isEqual(Bt.min())){const N=t.Cs.getLastRemoteSnapshotVersion(l).next(k=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(N)}return me.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,w)).next(()=>_)}).then(l=>(t.Ui=i,l))}function mM(n,e,t){let r=Xt(),i=Xt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Ws();return t.forEach((g,_)=>{const w=l.get(g);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Bt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):We("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",_.version)}),{Wi:d,zi:i}})}function Ck(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,me.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new su(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function I_(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=(0,Ae.Z)(function*(n,e,t){const r=st(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!al(d))throw d;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),wT.apply(this,arguments)}function II(n,e,t){const r=st(n);let i=Bt.min(),l=Xt();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,_,w){const N=st(g),k=N.qi.get(w);return void 0!==k?me.resolve(N.Ui.get(k)):N.Cs.getTargetData(_,w)}(r,d,es(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Bt.min(),t?l:Xt())).next(g=>(vM(r,Hw(e),g),{documents:g,Hi:l})))}function _M(n,e){const t=st(n),r=st(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function yM(n,e){const t=st(n),r=t.Ki.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Bv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vM(t,e,i),i))}function vM(n,e,t){let r=n.Ki.get(e)||Bt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function IT(){return IT=(0,Ae.Z)(function*(n,e,t,r){const i=st(n);let l=Xt(),d=Ws();for(const w of t){const N=e.Ji(w.metadata.name);w.document&&(l=l.add(N));const k=e.Yi(w);k.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(N,k)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield w_(i,(w=r,es(jh(bn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>mM(w,g,d).next(N=>(g.apply(w),N)).next(N=>i.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Cs.addMatchingKeys(w,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,N.Wi,N.zi)).next(()=>N.Wi)))}),IT.apply(this,arguments)}function Tk(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,Ae.Z)(function*(n,e,t=Xt()){const r=yield w_(n,es(O0(e.bundledQuery))),i=st(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Zr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const g=r.withResumeToken(qr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(l,g).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),CT.apply(this,arguments)}function bM(n,e){return`firestore_clients_${n}_${e}`}function DM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ET(n,e){return`firestore_targets_${n}_${e}`}class CI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Be(i.error.code,i.error.message))),d?new CI(e,t,i.state,l):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class P0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Be(r.error.code,r.error.message))),l?new P0(e,r.state,i):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Ia();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Gv(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new EI(e,l):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class TT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new TT(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ST{constructor(){this.activeTargetIds=Ia()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AT{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Fr(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=bM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ST),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(bM(e.persistenceKey,i));if(l){const d=EI.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ET(this.persistenceKey,e));if(r){const i=P0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ET(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We("SharedClientState","READ",e,t),t}setItem(e,t){We("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){We("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(We("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=$s.at;if(null!=l)try{const g=JSON.parse(l);Lt("number"==typeof g),d=g}catch(g){zr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);i!==$s.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new CI(this.currentUser,e,t,r),l=DM(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=DM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=ET(this.persistenceKey,e),l=new P0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return EI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return CI.Zi(new ni(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return P0.Zi(i,t)}yr(e){return TT.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);We("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],g=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||g.push(_)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ia();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class wM{constructor(){this.Lr=new ST,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ST,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sk{qr(e){}shutdown(){}}class IM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nk{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Mk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);We("RestConnection","Sending: ",d,r);const g={};return this.lo(g,i,l),this.fo(e,d,g,r).then(_=>(We("RestConnection","Received: ",_),_),_=>{throw ic("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Ak[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const g=new NE;g.setWithCredentials(!0),g.listenOnce(AE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wm.NO_ERROR:const w=g.getResponseJson();We("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Wm.TIMEOUT:We("Connection",'RPC "'+e+'" timed out'),d(new Be(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Wm.HTTP_ERROR:const N=g.getStatus();if(We("Connection",'RPC "'+e+'" failed with status:',N,"response text:",g.getResponseText()),N>0){const k=g.getResponseJson().error;if(k&&k.status&&k.message){const $=function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(oe)>=0?oe:Ce.UNKNOWN}(k.status);d(new Be($,k.message))}else d(new Be(Ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Be(Ce.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{We("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);g.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Fv(),d=Iw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Cw({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=i.join("");We("Connection","Creating WebChannel: "+_,g);const w=l.createWebChannel(_,g);let N=!1,k=!1;const $=new Nk({Hr:oe=>{k?We("Connection","Not sending because WebChannel is closed:",oe):(N||(We("Connection","Opening WebChannel transport."),w.open(),N=!0),We("Connection","WebChannel sending:",oe),w.send(oe))},Jr:()=>w.close()}),K=(oe,we,Ne)=>{oe.listen(we,ct=>{try{Ne(ct)}catch(dt){setTimeout(()=>{throw dt},0)}})};return K(w,Mh.EventType.OPEN,()=>{k||We("Connection","WebChannel transport opened.")}),K(w,Mh.EventType.CLOSE,()=>{k||(k=!0,We("Connection","WebChannel transport closed"),$.io())}),K(w,Mh.EventType.ERROR,oe=>{k||(k=!0,ic("Connection","WebChannel transport errored:",oe),$.io(new Be(Ce.UNAVAILABLE,"The operation could not be completed")))}),K(w,Mh.EventType.MESSAGE,oe=>{var we;if(!k){const Ne=oe.data[0];Lt(!!Ne);const ct=Ne,dt=ct.error||(null===(we=ct[0])||void 0===we?void 0:we.error);if(dt){We("Connection","WebChannel received error:",dt);const Dt=dt.status;let ut=function(ht){const Jt=Lr[ht];if(void 0!==Jt)return Xw(Jt)}(Dt),at=dt.message;void 0===ut&&(ut=Ce.INTERNAL,at="Unknown error status: "+Dt+" with message "+dt.message),k=!0,$.io(new Be(ut,at)),w.close()}else We("Connection","WebChannel received:",Ne),$.ro(Ne)}}),K(d,Lv.STAT_EVENT,oe=>{oe.stat===zm.PROXY?We("Connection","Detected buffering proxy"):oe.stat===zm.NOPROXY&&We("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.so()},0),$}}function CM(){return typeof window<"u"?window:null}function TI(){return typeof document<"u"?document:null}function F0(n){return new rI(n,!0)}class NT{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class EM{constructor(e,t,r,i,l,d,g,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new NT(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Be(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ok extends EM{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function rT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:yt(),i=e.targetChange.targetIds||[],l=function(_,w){return _.gt?(Lt(void 0===w||"string"==typeof w),qr.fromBase64String(w||"")):(Lt(void 0===w||w instanceof Uint8Array),qr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const w=void 0===_.code?Ce.UNKNOWN:Xw(_.code);return new Be(w,_.message||"")}(d);t=new XE(r,i,l,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Ca(n,r.document.name),l=Zr(r.document.updateTime),d=new Ci({mapValue:{fields:r.document.fields}}),g=er.newFoundDocument(i,l,d);t=new qo(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Ca(n,r.document),l=r.readTime?Zr(r.readTime):Bt.min(),d=er.newNoDocument(i,l);t=new qo([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ca(n,r.document);t=new qo([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return yt();{const r=e.filter,l=new QE(r.count||0);t=new p0(r.targetId,l)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Bt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Zr(l.readTime):Bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=iu(this.It),t.addTarget=function(i,l){let d;const g=l.target;return d=Jm(g)?{documents:w0(i,g)}:{query:d_(i,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=_0(i,l.resumeToken):l.snapshotVersion.compareTo(Bt.min())>0&&(d.readTime=Gh(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function sT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=iu(this.It),t.removeTarget=e,this.Bo(t)}}class Rk extends EM{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function iT(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let l=Zr(r.updateTime?r.updateTime:i);return l.isEqual(Bt.min())&&(l=Zr(i)),new ZE(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.Zo(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=iu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qp(this.It,r))};this.Bo(t)}}class xk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(Ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(Ce.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class Pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zr(t),this.ou=!1):We("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Fk{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(g=>{r.enqueueAndForget((0,Ae.Z)(function*(){var _;ud(d)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ae.Z)(function*(w){const N=st(w);N._u.add(4),yield C_(N),N.gu.set("Unknown"),N._u.delete(4),yield L0(N)}),function(w){return _.apply(this,arguments)})(d))}))}),this.gu=new Pk(r,i)}}function L0(n){return OT.apply(this,arguments)}function OT(){return OT=(0,Ae.Z)(function*(n){if(ud(n))for(const e of n.wu)yield e(!0)}),OT.apply(this,arguments)}function C_(n){return RT.apply(this,arguments)}function RT(){return RT=(0,Ae.Z)(function*(n){for(const e of n.wu)yield e(!1)}),RT.apply(this,arguments)}function SI(n,e){const t=st(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),PT(t)?kT(t):T_(t).ko()&&xT(t,e))}function V0(n,e){const t=st(n),r=T_(t);t.du.delete(e),r.ko()&&TM(t,e),0===t.du.size&&(r.ko()?r.Fo():ud(t)&&t.gu.set("Unknown"))}function xT(n,e){n.yu.Mt(e.targetId),T_(n).zo(e)}function TM(n,e){n.yu.Mt(e),T_(n).Ho(e)}function kT(n){n.yu=new eT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),T_(n).start(),n.gu.uu()}function PT(n){return ud(n)&&!T_(n).No()&&n.du.size>0}function ud(n){return 0===st(n)._u.size}function SM(n){n.yu=void 0}function Lk(n){return FT.apply(this,arguments)}function FT(){return FT=(0,Ae.Z)(function*(n){n.du.forEach((e,t)=>{xT(n,e)})}),FT.apply(this,arguments)}function Vk(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,Ae.Z)(function*(n,e){SM(n),PT(n)?(n.gu.hu(e),kT(n)):n.gu.set("Unknown")}),LT.apply(this,arguments)}function Bk(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,Ae.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof XE&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(i,l){const d=l.cause;for(const g of l.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i.du.delete(g),i.yu.removeTarget(g))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AI(n,r)}else if(e instanceof qo?n.yu.Gt(e):e instanceof p0?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Bt.min()))try{const r=yield gM(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.te(l);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=i.du.get(_);w&&i.du.set(_,w.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const _=i.du.get(g);if(!_)return;i.du.set(g,_.withResumeToken(qr.EMPTY_BYTE_STRING,_.snapshotVersion)),TM(i,g);const w=new su(_.target,g,1,_.sequenceNumber);xT(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield AI(n,r)}var r}),VT.apply(this,arguments)}function AI(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,Ae.Z)(function*(n,e,t){if(!al(e))throw e;n._u.add(1),yield C_(n),n.gu.set("Offline"),t||(t=()=>gM(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield L0(n)}))}),BT.apply(this,arguments)}function AM(n,e){return e().catch(t=>AI(n,t,e))}function E_(n){return jT.apply(this,arguments)}function jT(){return jT=(0,Ae.Z)(function*(n){const e=st(n),t=Jh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jk(e);)try{const i=yield Ck(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Uk(e,i)}catch(i){yield AI(e,i)}NM(e)&&MM(e)}),jT.apply(this,arguments)}function jk(n){return ud(n)&&n.fu.length<10}function Uk(n,e){n.fu.push(e);const t=Jh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function NM(n){return ud(n)&&!Jh(n).No()&&n.fu.length>0}function MM(n){Jh(n).start()}function $k(n){return UT.apply(this,arguments)}function UT(){return UT=(0,Ae.Z)(function*(n){Jh(n).eu()}),UT.apply(this,arguments)}function Hk(n){return $T.apply(this,arguments)}function $T(){return $T=(0,Ae.Z)(function*(n){const e=Jh(n);for(const t of n.fu)e.Xo(t.mutations)}),$T.apply(this,arguments)}function Gk(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,Ae.Z)(function*(n,e,t){const r=n.fu.shift(),i=N0.from(r,e,t);yield AM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield E_(n)}),HT.apply(this,arguments)}function Wk(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,Ae.Z)(function*(n,e){var t;e&&Jh(n).Yo&&(yield(t=(0,Ae.Z)(function*(r,i){if(fo(l=i.code)&&l!==Ce.ABORTED){const d=r.fu.shift();Jh(r).Mo(),yield AM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield E_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),NM(n)&&MM(n)}),GT.apply(this,arguments)}function OM(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,Ae.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=ud(t);t._u.add(3),yield C_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield L0(t)}),WT.apply(this,arguments)}function zT(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,Ae.Z)(function*(n,e){const t=st(n);e?(t._u.delete(2),yield L0(t)):e||(t._u.add(2),yield C_(t),t.gu.set("Unknown"))}),qT.apply(this,arguments)}function T_(n){return n.pu||(n.pu=function(e,t,r){const i=st(e);return i.su(),new Ok(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Lk.bind(null,n),Zr:Vk.bind(null,n),Wo:Bk.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.pu.Mo(),PT(n)?kT(n):n.gu.set("Unknown")):(yield n.pu.stop(),SM(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Jh(n){return n.Iu||(n.Iu=function(e,t,r){const i=st(e);return i.su(),new Rk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:$k.bind(null,n),Zr:Wk.bind(null,n),tu:Hk.bind(null,n),Zo:Gk.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Iu.Mo(),yield E_(n)):(yield n.Iu.stop(),n.fu.length>0&&(We("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ZT{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,g=new ZT(e,t,d,i,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(n,e){if(zr("AsyncQueue",`${e}: ${n}`),al(n))return new Be(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class A_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=$h(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new A_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof A_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new A_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RM{constructor(){this.Tu=new Fr(tt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):yt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class N_{constructor(e,t,r,i,l,d,g,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new N_(e,t,A_.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class zk{constructor(){this.Au=void 0,this.listeners=[]}}class qk{constructor(){this.queries=new hl(e=>s0(e),Hp),this.onlineState="Unknown",this.Ru=new Set}}function KT(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Ae.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new zk),i)try{l.Au=yield t.onListen(r)}catch(d){const g=S_(d,`Initialization of query '${r_(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&XT(t)}),QT.apply(this,arguments)}function YT(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,Ae.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),JT.apply(this,arguments)}function Zk(n,e){const t=st(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.Pu(i)&&(r=!0);d.Au=i}}r&&XT(t)}function Kk(n,e,t){const r=st(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function XT(n){n.Ru.forEach(e=>{e.next()})}class eS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new N_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=N_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Qk{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class xM{constructor(e){this.It=e}Ji(e){return Ca(this.It,e)}Yi(e){return e.metadata.exists?b0(this.It,e.document,!1):er.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Zr(e)}}class Yk{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=bn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new xM(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||Xt()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function Ek(n,e,t,r){return IT.apply(this,arguments)}(e.localStore,new xM(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Tk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function kM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PM{constructor(e){this.key=e}}class FM{constructor(e){this.key=e}}class LM{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Xt(),this.mutatedKeys=Xt(),this.Gu=Gw(e),this.Qu=new A_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new RM,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((N,k)=>{const $=i.get(N),K=i_(this.query,k)?k:null,oe=!!$&&this.mutatedKeys.has($.key),we=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Ne=!1;$&&K?$.data.isEqual(K.data)?oe!==we&&(r.track({type:3,doc:K}),Ne=!0):this.Hu($,K)||(r.track({type:2,doc:K}),Ne=!0,(_&&this.Gu(K,_)>0||w&&this.Gu(K,w)<0)&&(g=!0)):!$&&K?(r.track({type:0,doc:K}),Ne=!0):$&&!K&&(r.track({type:1,doc:$}),Ne=!0,(_||w)&&(g=!0)),Ne&&(K?(d=d.add(K),l=we?l.add(N):l.delete(N)):(d=d.delete(N),l=l.delete(N)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const N="F"===this.query.limitType?d.last():d.first();d=d.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((w,N)=>function(k,$){const K=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return K(k)-K($)}(w.type,N.type)||this.Gu(w.doc,N.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.qu;return this.qu=g,0!==l.length||_?{snapshot:new N_(this.query,e.Qu,i,l,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new RM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Xt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new FM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new PM(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Xt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return N_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Jk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Xk{constructor(e){this.key=e,this.nc=!1}}class eP{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new hl(g=>s0(g),Hp),this.rc=new Map,this.oc=new Set,this.uc=new Fr(tt.comparator),this.cc=new Map,this.ac=new mT,this.hc={},this.lc=new Map,this.fc=Yp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function tP(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,Ae.Z)(function*(n,e){const t=CS(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield w_(t.localStore,es(e));t.isPrimaryClient&&SI(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield nS(t,e,r,"current"===g,d.resumeToken)}return i}),tS.apply(this,arguments)}function nS(n,e,t,r,i){return rS.apply(this,arguments)}function rS(){return rS=(0,Ae.Z)(function*(n,e,t,r,i){n._c=(k,$,K)=>{return(oe=(0,Ae.Z)(function*(we,Ne,ct,dt){let Dt=Ne.view.Wu(ct);Dt.$i&&(Dt=yield II(we.localStore,Ne.query,!1).then(({documents:ht})=>Ne.view.Wu(ht,Dt)));const ut=dt&&dt.targetChanges.get(Ne.targetId),at=Ne.view.applyChanges(Dt,we.isPrimaryClient,ut);return fS(we,Ne.targetId,at.Xu),at.snapshot}),function(we,Ne,ct,dt){return oe.apply(this,arguments)})(n,k,$,K);var oe};const l=yield II(n.localStore,e,!0),d=new LM(e,l.Hi),g=d.Wu(l.documents),_=sd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(g,n.isPrimaryClient,_);fS(n,t,w.Xu);const N=new Jk(e,t,d);return n.ic.set(e,N),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),rS.apply(this,arguments)}function nP(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Ae.Z)(function*(n,e){const t=st(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!Hp(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield I_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),V0(t.remoteStore,r.targetId),M_(t,r.targetId)}).catch(sc))):(M_(t,r.targetId),yield I_(t.localStore,r.targetId,!0))}),iS.apply(this,arguments)}function sS(){return sS=(0,Ae.Z)(function*(n,e,t){const r=ES(n);try{const i=yield function(l,d){const g=st(l),_=lr.now(),w=d.reduce(($,K)=>$.add(K.key),Xt());let N,k;return g.persistence.runTransaction("Locally write mutations","readwrite",$=>{let K=Ws(),oe=Xt();return g.Gi.getEntries($,w).next(we=>{K=we,K.forEach((Ne,ct)=>{ct.isValidDocument()||(oe=oe.add(Ne))})}).next(()=>g.localDocuments.getOverlayedDocuments($,K)).next(we=>{N=we;const Ne=[];for(const ct of d){const dt=Qw(ct,N.get(ct.key).overlayedDocument);null!=dt&&Ne.push(new dc(ct.key,dt,Qv(dt.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch($,_,Ne,d)}).next(we=>{k=we;const Ne=we.applyToLocalDocumentSet(N,oe);return g.documentOverlayCache.saveOverlays($,we.batchId,Ne)})}).then(()=>({batchId:k.batchId,changes:d0(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,g){let _=l.hc[l.currentUser.toKey()];_||(_=new Fr(Yt)),_=_.insert(d,g),l.hc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield dd(r,i.changes),yield E_(r.remoteStore)}catch(i){const l=S_(i,"Failed to persist write");t.reject(l)}}),sS.apply(this,arguments)}function VM(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,Ae.Z)(function*(n,e){const t=st(n);try{const r=yield Ik(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Lt(d.nc):i.removedDocuments.size>0&&(Lt(d.nc),d.nc=!1))}),yield dd(t,r,e)}catch(r){yield sc(r)}}),oS.apply(this,arguments)}function BM(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const g=d.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(l,d){const g=st(l);g.onlineState=d;let _=!1;g.queries.forEach((w,N)=>{for(const k of N.listeners)k.bu(d)&&(_=!0)}),_&&XT(g)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iP(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,Ae.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Fr(tt.comparator);d=d.insert(l,er.newNoDocument(l,Bt.min()));const g=Xt().add(l),_=new id(Bt.min(),new Map,new Ln(Yt),d,g);yield VM(r,_),r.uc=r.uc.remove(l),r.cc.delete(e),pS(r)}else yield I_(r.localStore,e,!1).then(()=>M_(r,e,t)).catch(sc)}),aS.apply(this,arguments)}function sP(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Ae.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const i=yield wk(t.localStore,e);hS(t,r,null),dS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,i)}catch(i){yield sc(i)}}),lS.apply(this,arguments)}function oP(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Ae.Z)(function*(n,e,t){const r=st(n);try{const i=yield function(l,d){const g=st(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,d).next(N=>(Lt(null!==N),w=N.keys(),g.mutationQueue.removeMutationBatch(_,N))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(r.localStore,e);hS(r,e,t),dS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,i)}catch(i){yield sc(i)}}),cS.apply(this,arguments)}function uS(){return uS=(0,Ae.Z)(function*(n,e){const t=st(n);ud(t.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=st(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=S_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),uS.apply(this,arguments)}function dS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function hS(n,e,t){const r=st(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function M_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||jM(n,r)})}function jM(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(V0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),pS(n))}function fS(n,e,t){for(const r of t)r instanceof PM?(n.ac.addReference(r.key,e),lP(n,r)):r instanceof FM?(We("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||jM(n,r.key)):yt()}function lP(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(We("SyncEngine","New document in limbo: "+t),n.oc.add(r),pS(n))}function pS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new tt(bn.fromString(e)),r=n.fc.next();n.cc.set(r,new Xk(t)),n.uc=n.uc.insert(t,r),SI(n.remoteStore,new su(es(jh(t.path)),r,2,$s.at))}}function dd(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,Ae.Z)(function*(n,e,t){const r=st(n),i=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{d.push(r._c(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const N=bT.Ci(_.targetId,w);l.push(N)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(g=(0,Ae.Z)(function*(_,w){const N=st(_);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>me.forEach(w,$=>me.forEach($.Si,K=>N.persistence.referenceDelegate.addReference(k,$.targetId,K)).next(()=>me.forEach($.Di,K=>N.persistence.referenceDelegate.removeReference(k,$.targetId,K)))))}catch(k){if(!al(k))throw k;We("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const $=k.targetId;if(!k.fromCache){const K=N.Ui.get($),we=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);N.Ui=N.Ui.insert($,we)}}}),function(_,w){return g.apply(this,arguments)})(r.localStore,l))}),gS.apply(this,arguments)}function cP(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,Ae.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield pM(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Be(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.ji)}var i}),mS.apply(this,arguments)}function uP(n,e){const t=st(n),r=t.cc.get(e);if(r&&r.nc)return Xt().add(r.key);{let i=Xt();const l=t.rc.get(e);if(!l)return i;for(const d of l){const g=t.ic.get(d);i=i.unionWith(g.view.ju)}return i}}function dP(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,Ae.Z)(function*(n,e){const t=st(n),r=yield II(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&fS(t,e.targetId,i.Xu),i}),_S.apply(this,arguments)}function hP(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,Ae.Z)(function*(n,e){const t=st(n);return yM(t.localStore,e).then(r=>dd(t,r))}),yS.apply(this,arguments)}function fP(n,e,t,r){return vS.apply(this,arguments)}function vS(){return vS=(0,Ae.Z)(function*(n,e,t,r){const i=st(n),l=yield function(d,g){const _=st(d),w=st(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",N=>w.Tn(N,g).next(k=>k?_.localDocuments.getDocuments(N,k):me.resolve(null)))}(i.localStore,e);var g;null!==l?("pending"===t?yield E_(i.remoteStore):"acknowledged"===t||"rejected"===t?(hS(i,e,r||null),dS(i,e),g=e,st(st(i.localStore).mutationQueue).An(g)):yt(),yield dd(i,l)):We("SyncEngine","Cannot apply mutation batch with id: "+e)}),vS.apply(this,arguments)}function bS(){return bS=(0,Ae.Z)(function*(n,e){const t=st(n);if(CS(t),ES(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UM(t,r.toArray());t.dc=!0,yield zT(t.remoteStore,!0);for(const l of i)SI(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(M_(t,d),I_(t.localStore,d,!0))),V0(t.remoteStore,d)}),yield i,yield UM(t,r),function(l){const d=st(l);d.cc.forEach((g,_)=>{V0(d.remoteStore,_)}),d.ac.fs(),d.cc=new Map,d.uc=new Fr(tt.comparator)}(t),t.dc=!1,yield zT(t.remoteStore,!1)}}),bS.apply(this,arguments)}function UM(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,Ae.Z)(function*(n,e,t){const r=st(n),i=[],l=[];for(const d of e){let g;const _=r.rc.get(d);if(_&&0!==_.length){g=yield w_(r.localStore,es(_[0]));for(const w of _){const N=r.ic.get(w),k=yield dP(r,N);k.snapshot&&l.push(k.snapshot)}}else{const w=yield _M(r.localStore,d);g=yield w_(r.localStore,w),yield nS(r,$M(w),d,!1,g.resumeToken)}i.push(g)}return r.sc.Wo(l),i}),DS.apply(this,arguments)}function $M(n){return $w(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gP(n){const e=st(n);return st(st(e.localStore).persistence).vi()}function mP(n,e,t,r){return wS.apply(this,arguments)}function wS(){return wS=(0,Ae.Z)(function*(n,e,t,r){const i=st(n);if(i.dc)return void We("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield yM(i.localStore,Hw(l[0])),g=id.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,qr.EMPTY_BYTE_STRING);yield dd(i,d,g);break}case"rejected":yield I_(i.localStore,e,!0),M_(i,e,r);break;default:yt()}}),wS.apply(this,arguments)}function _P(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,Ae.Z)(function*(n,e,t){const r=CS(n);if(r.dc){for(const i of e){if(r.rc.has(i)){We("SyncEngine","Adding an already active target "+i);continue}const l=yield _M(r.localStore,i),d=yield w_(r.localStore,l);yield nS(r,$M(l),d.targetId,!1,d.resumeToken),SI(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield I_(r.localStore,i,!1).then(()=>{V0(r.remoteStore,i),M_(r,i)}).catch(sc))}}),IS.apply(this,arguments)}function CS(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iP.bind(null,e),e.sc.Wo=Zk.bind(null,e.eventManager),e.sc.wc=Kk.bind(null,e.eventManager),e}function ES(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oP.bind(null,e),e}class HM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.It=F0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return fM(this.persistence,new hM,e.initialUser,this.It)}yc(e){return new uM(DI.Bs,this.It)}gc(e){return new wM}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GM extends HM{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield ES(r.Ac.syncEngine),yield E_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return fM(this.persistence,new hM,e.initialUser,this.It)}Tc(e,t){return new ak(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new VE(t,this.persistence);return new LE(e.asyncQueue,r)}yc(e){const t=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ns.withCacheSize(this.cacheSizeBytes):ns.DEFAULT;return new yT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,CM(),TI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new wM}}class vP extends GM{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof AT&&(r.sharedClientState.syncEngine={Fr:fP.bind(null,i),$r:mP.bind(null,i),Br:_P.bind(null,i),vi:gP.bind(null,i),Mr:hP.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ae.Z)(function*(d){yield function pP(n,e){return bS.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=CM();if(!AT.C(t))throw new Be(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class TS{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>BM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cP.bind(null,r.syncEngine),yield zT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qk}createDatastore(e){const t=F0(e.databaseInfo.databaseId),r=new Mk(e.databaseInfo);return new xk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=g=>BM(this.syncEngine,g,0),d=IM.C()?new IM:new Sk,new Fk(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,g,_,w){const N=new eP(r,i,l,d,g,_);return w&&(N.dc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=st(t);We("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield C_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function SS(n,e,t){if(!t)throw new Be(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WM(n,e,t,r){if(!0===e&&!0===r)throw new Be(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zM(n){if(!tt.isDocumentKey(n))throw new Be(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qM(n){if(tt.isDocumentKey(n))throw new Be(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=NI(n);throw new Be(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ZM(n,e){if(e<=0)throw new Be(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const KM=new Map;class QM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,WM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Sw;switch(t.type){case"gapi":return new xE(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KM.get(e);t&&(We("ComponentProvider","Removing Datastore"),KM.delete(e),t.terminate())}(this),Promise.resolve()}}class Tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class zs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class lu extends zs{constructor(e,t,r){super(e,t,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new tt(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function JM(n,e,...t){if(n=(0,In.m9)(n),SS("collection","path",e),n instanceof B0){const r=bn.fromString(e,...t);return qM(r),new lu(n,null,r)}{if(!(n instanceof Tr||n instanceof lu))throw new Be(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return qM(r),new lu(n.firestore,null,r)}}function MI(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=Nw.R()),SS("doc","path",e),n instanceof B0){const r=bn.fromString(e,...t);return zM(r),new Tr(n,null,new tt(r))}{if(!(n instanceof Tr||n instanceof lu))throw new Be(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return zM(r),new Tr(n.firestore,n instanceof lu?n.converter:null,new tt(r))}}function XM(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof Tr||n instanceof lu)&&(e instanceof Tr||e instanceof lu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function AS(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof zs&&e instanceof zs&&n.firestore===e.firestore&&Hp(n._query,e._query)&&n.converter===e.converter}function eO(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class OI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class DP{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ri,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new Qk(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ae.Z)(function*(l,d){const g=st(l),_=iu(g.It)+"/documents",w={documents:d.map(K=>Wh(g.It,K))},N=yield g._o("BatchGetDocuments",_,w,d.length),k=new Map;N.forEach(K=>{const oe=function sI(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=Ca(t,r.found.name),l=Zr(r.found.updateTime),d=new Ci({mapValue:{fields:r.found.fields}});return er.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=Ca(t,r.missing),l=Zr(r.readTime);return er.newNoDocument(i,l)}(n,e):yt()}(g.It,K);k.set(oe.key.toString(),oe)});const $=[];return d.forEach(K=>{const oe=k.get(K.toString());Lt(!!oe),$.push(oe)}),$}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=tt.fromPath(i);e.mutations.push(new Gs(l,e.precondition(l)))}),yield(r=(0,Ae.Z)(function*(i,l){const d=st(i),g=iu(d.It)+"/documents",_={writes:l.map(w=>qp(d.It,w))};yield d.ao("Commit",g,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?gr.exists(!1):gr.updateTime(t):gr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Be(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gr.updateTime(t)}return gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EP{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new NT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ae.Z)(function*(){const t=new CP(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Zu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fo(t)}return!1}}class TP{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=Nw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ae.Z)(function*(g){We("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(We("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=S_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tO(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(l){r.isEqual(l)||(yield pM(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),NS.apply(this,arguments)}function nO(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OS(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>OM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>OM(e.remoteStore,l)),n.onlineComponents=e}),MS.apply(this,arguments)}function OS(n){return RS.apply(this,arguments)}function RS(){return RS=(0,Ae.Z)(function*(n){return n.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield tO(n,new HM)),n.offlineComponents}),RS.apply(this,arguments)}function RI(n){return xS.apply(this,arguments)}function xS(){return xS=(0,Ae.Z)(function*(n){return n.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield nO(n,new TS)),n.onlineComponents}),xS.apply(this,arguments)}function rO(n){return OS(n).then(e=>e.persistence)}function xI(n){return OS(n).then(e=>e.localStore)}function kS(n){return RI(n).then(e=>e.remoteStore)}function PS(n){return RI(n).then(e=>e.syncEngine)}function O_(n){return FS.apply(this,arguments)}function FS(){return FS=(0,Ae.Z)(function*(n){const e=yield RI(n),t=e.eventManager;return t.onListen=tP.bind(null,e.syncEngine),t.onUnlisten=nP.bind(null,e.syncEngine),t}),FS.apply(this,arguments)}function sO(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,g,_){const w=new OI({next:k=>{l.enqueueAndForget(()=>YT(i,N));const $=k.docs.has(d);!$&&k.fromCache?_.reject(new Be(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&k.fromCache&&g&&"server"===g.source?_.reject(new Be(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),N=new eS(jh(d.path),w,{includeMetadataChanges:!0,Nu:!0});return KT(i,N)}(yield O_(n),n.asyncQueue,e,t,r)})),r.promise}function oO(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,g,_){const w=new OI({next:k=>{l.enqueueAndForget(()=>YT(i,N)),k.fromCache&&"server"===g.source?_.reject(new Be(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),N=new eS(d,w,{includeMetadataChanges:!0,Nu:!0});return KT(i,N)}(yield O_(n),n.asyncQueue,e,t,r)})),r.promise}class kP{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new NT(this,"async_queue_retry"),this.Wc=()=>{const t=TI();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=TI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=TI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ri;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!al(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,zr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=ZT.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&yt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function LS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PP{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends B0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kP,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aO(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||aO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new BE(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new TP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function lO(n,e,t){const r=new ri;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield tO(n,t),yield nO(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===Ce.FAILED_PRECONDITION||d.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;ic("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function cO(n){if(n._initialized||n._terminated)throw new Be(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cu(qr.fromBase64String(e))}catch(t){throw new Be(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cu(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class kI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const WP=/^__.*__$/;class zP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new rd(e,this.data,t,this.fieldTransforms)}}class uO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class PI{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new PI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return VI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(dO(this.sa)&&WP.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class qP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||F0(e)}da(e,t,r,i=!1){return new PI({sa:e,methodName:t,fa:r,path:Cr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function eg(n){const e=n._freezeSettings(),t=F0(n._databaseId);return new qP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);US("Data must be an object, but it was:",d,r);const g=pO(r,d);let _,w;if(l.merge)_=new ho(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const N=[];for(const k of l.mergeFields){const $=$S(e,k,t);if(!d.contains($))throw new Be(Ce.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);mO(N,$)||N.push($)}_=new ho(N),w=d.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,w=d.fieldTransforms;return new zP(new Ci(g),_,w)}class j0 extends Xp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}function hO(n,e,t){return new PI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class VS extends Xp{_toFieldTransform(e){return new Gp(e.path,new uc)}isEqual(e){return e instanceof VS}}class ZP extends Xp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=hO(this,e,!0),r=this._a.map(l=>tg(l,t)),i=new ru(r);return new Gp(e.path,i)}isEqual(e){return this===e}}class KP extends Xp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=hO(this,e,!0),r=this._a.map(l=>tg(l,t)),i=new ed(r);return new Gp(e.path,i)}isEqual(e){return this===e}}class QP extends Xp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new td(e.It,qw(e.It,this.wa));return new Gp(e.path,t)}isEqual(e){return this===e}}function BS(n,e,t,r){const i=n.da(1,e,t);US("Data must be an object, but it was:",i,r);const l=[],d=Ci.empty();cl(r,(_,w)=>{const N=LI(e,_,t);w=(0,In.m9)(w);const k=i.ca(N);if(w instanceof j0)l.push(N);else{const $=tg(w,k);null!=$&&(l.push(N),d.set(N,$))}});const g=new ho(l);return new uO(d,g,i.fieldTransforms)}function jS(n,e,t,r,i,l){const d=n.da(1,e,t),g=[$S(e,r,t)],_=[i];if(l.length%2!=0)throw new Be(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<l.length;$+=2)g.push($S(e,l[$])),_.push(l[$+1]);const w=[],N=Ci.empty();for(let $=g.length-1;$>=0;--$)if(!mO(w,g[$])){const K=g[$];let oe=_[$];oe=(0,In.m9)(oe);const we=d.ca(K);if(oe instanceof j0)w.push(K);else{const Ne=tg(oe,we);null!=Ne&&(w.push(K),N.set(K,Ne))}}const k=new ho(w);return new uO(N,k,d.fieldTransforms)}function fO(n,e,t,r=!1){return tg(t,n.da(r?4:3,e))}function tg(n,e){if(gO(n=(0,In.m9)(n)))return US("Unsupported field value:",e,n),pO(n,e);if(n instanceof Xp)return function(t,r){if(!dO(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let g=tg(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,In.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qw(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=lr.fromDate(t);return{timestampValue:Gh(r.It,i)}}if(t instanceof lr){const i=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gh(r.It,i)}}if(t instanceof kI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cu)return{bytesValue:_0(r.It,t._byteString)};if(t instanceof Tr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${NI(t)}`)}(n,e)}function pO(n,e){const t={};return Pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(n,(r,i)=>{const l=tg(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function gO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof kI||n instanceof cu||n instanceof Tr||n instanceof Xp)}function US(n,e,t){if(!gO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=NI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function $S(n,e,t){if((e=(0,In.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return LI(n,e);throw VI("Field path arguments must be of type string or ",n,!1,void 0,t)}const YP=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(YP)>=0)throw VI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw VI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function VI(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Be(Ce.INVALID_ARGUMENT,g+n+_)}function mO(n,e){return n.some(t=>t.isEqual(e))}class U0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JP extends U0{data(){return super.data()}}function BI(n,e){return"string"==typeof e?LI(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function _O(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}function Xh(n,...e){for(const t of e)n=t._apply(n);return n}class XP extends $0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=eg(e.firestore),r=function(i,l,d,g,_,w,N){let k;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Be(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){IO(N,w);const K=[];for(const oe of N)K.push(wO(g,i,oe));k={arrayValue:{values:K}}}else k=wO(g,i,N)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||IO(N,w),k=fO(d,"where",N,"in"===w||"not-in"===w);const $=Er.create(_,w,k);return function(K,oe){if(oe.dt()){const Ne=e_(K);if(null!==Ne&&!Ne.isEqual(oe.field))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${oe.field.toString()}'`);const ct=r0(K);null!==ct&&CO(0,oe.field,ct)}const we=function(Ne,ct){for(const dt of Ne.filters)if(ct.indexOf(dt.op)>=0)return dt.op;return null}(K,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==we)throw new Be(Ce.INVALID_ARGUMENT,we===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${we.toString()}' filters.`)}(i,$),$}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new zs(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class tF extends $0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ju(i,l);return function(g,_){if(null===r0(g)){const w=e_(g);null!==w&&CO(0,w,_.field)}}(r,d),d}(e._query,this.ma,this.pa);return new zs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new dl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class yO extends $0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new zs(e.firestore,e.converter,n_(e._query,this.Ia,this.Ta))}}class vO extends $0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DO(e,this.type,this.Ea,this.Aa);return new zs(e.firestore,e.converter,(i=t,new dl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class bO extends $0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DO(e,this.type,this.Ea,this.Aa);return new zs(e.firestore,e.converter,(i=t,new dl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function DO(n,e,t,r){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof U0)return function(i,l,d,g,_){if(!g)throw new Be(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const N of Xu(i))if(N.field.isKeyField())w.push(zo(l,g.key));else{const k=g.data.field(N.field);if(Hv(k))throw new Be(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const $=N.field.canonicalString();throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}w.push(k)}return new ul(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=eg(n.firestore);return function(l,d,g,_,w,N){const k=l.explicitOrderBy;if(w.length>k.length)throw new Be(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let K=0;K<w.length;K++){const oe=w[K];if(k[K].field.isKeyField()){if("string"!=typeof oe)throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof oe}`);if(!t_(l)&&-1!==oe.indexOf("/"))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${oe}' contains a slash.`);const we=l.path.child(bn.fromString(oe));if(!tt.isDocumentKey(we))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const Ne=new tt(we);$.push(zo(d,Ne))}else{const we=fO(g,_,oe);$.push(we)}}return new ul($,N)}(n._query,n.firestore._databaseId,i,e,t,r)}}function wO(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t_(e)&&-1!==t.indexOf("/"))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!tt.isDocumentKey(r))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(n,new tt(r))}if(t instanceof Tr)return zo(n,t._key);throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NI(t)}.`)}function IO(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function CO(n,e,t){if(!t.isEqual(e))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HS{convertValue(e,t="none"){switch(Ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){const r={};return cl(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new kI(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vp(e));default:return null}}convertTimestamp(e){const t=oc(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);Lt(oI(r));const i=new lc(r.get(1),r.get(3)),l=new tt(r.popFirst(5));return i.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function jI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cF extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}class ng{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends U0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new H0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class H0 extends fd{data(e={}){return super.data(e)}}class ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ng(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new H0(this._firestore,this._userDataWriter,r.key,r,new ng(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new H0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ng(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new H0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ng(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:uF(d.type),doc:g,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function EO(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&AS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function TO(n,e,t){n=Tn(n,Tr);const r=Tn(n.firestore,Sr),i=jI(n.converter,e,t);return R_(r,[FI(eg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,gr.none())])}function SO(n,e,t,...r){n=Tn(n,Tr);const i=Tn(n.firestore,Sr),l=eg(i);let d;return d="string"==typeof(e=(0,In.m9)(e))||e instanceof hd?jS(l,"updateDoc",n._key,e,t,r):BS(l,"updateDoc",n._key,e),R_(i,[d.toMutation(n._key,gr.exists(!0))])}function AO(n,...e){var t,r,i;n=(0,In.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||LS(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(LS(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(i=k.complete)||void 0===i?void 0:i.bind(k)}let _,w,N;if(n instanceof Tr)w=Tn(n.firestore,Sr),N=jh(n._key.path),_={next:k=>{e[d]&&e[d](GS(w,n,k))},error:e[d+1],complete:e[d+2]};else{const k=Tn(n,zs);w=Tn(k.firestore,Sr),N=k._query;const $=new tf(w);_={next:K=>{e[d]&&e[d](new ef(w,$,k,K))},error:e[d+1],complete:e[d+2]},_O(n._query)}return function(k,$,K,oe){const we=new OI(oe),Ne=new eS($,we,K);return k.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return KT(yield O_(k),Ne)})),()=>{we.bc(),k.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return YT(yield O_(k),Ne)}))}}(mi(w),N,g,_)}function R_(n,e){return function(t,r){const i=new ri;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function rP(n,e,t){return sS.apply(this,arguments)}(yield PS(t),r,i)})),i.promise}(mi(n),e)}function GS(n,e,t){const r=t.docs.get(e._key),i=new tf(n);return new fd(n,i,e._key,r,new ng(t.hasPendingWrites,t.fromCache),e.converter)}const bF={maxAttempts:5};class NO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,t,r){this._verifyNotCommitted();const i=nf(e,this._firestore),l=jI(i.converter,t,r),d=FI(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,gr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=nf(e,this._firestore);let d;return d="string"==typeof(t=(0,In.m9)(t))||t instanceof hd?jS(this._dataReader,"WriteBatch.update",l._key,t,r,i):BS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new Uh(t._key,gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new Be(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class DF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eg(e)}get(e){const t=nf(e,this._firestore),r=new cF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return yt();const l=i[0];if(l.isFoundDocument())return new U0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new U0(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const i=nf(e,this._firestore),l=jI(i.converter,t,r),d=FI(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=nf(e,this._firestore);let d;return d="string"==typeof(t=(0,In.m9)(t))||t instanceof hd?jS(this._dataReader,"Transaction.update",l._key,t,r,i):BS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),r=new tf(this._firestore);return super.get(e).then(i=>new fd(this._firestore,r,t._key,i._document,new ng(!1,!1),t.converter))}}function WS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OO(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function RO(){if(!function KN(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Oh=Xl.SDK_VERSION,(0,Xl._registerComponent)(new ah.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new Sr(new Aw(t.getProvider("auth-internal")),new ZN(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Be(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(g.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Xl.registerVersion)(Ew,"3.7.2",n),(0,Xl.registerVersion)(Ew,"3.7.2","esm2017")}();class G0{constructor(e){this._delegate=e}static fromBase64String(e){return RO(),new G0(cu.fromBase64String(e))}static fromUint8Array(e){return OO(),new G0(cu.fromUint8Array(e))}toBase64(){return RO(),this._delegate.toBase64()}toUint8Array(){return OO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zS(n){return function MF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OF{enableIndexedDbPersistence(e,t){return function LP(n,e){cO(n=Tn(n,Sr));const t=mi(n),r=n._freezeSettings(),i=new TS;return lO(t,i,new GM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function VP(n){cO(n=Tn(n,Sr));const e=mi(n),t=n._freezeSettings(),r=new TS;return lO(e,r,new vP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BP(n){if(n._initialized&&!n._terminated)throw new Be(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!Wo.C())return Promise.resolve();const i=r+"main";yield Wo.delete(i)}),function(r){return t.apply(this,arguments)})(vT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof lc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YM(n,e,t,r={}){var i;const l=(n=Tn(n,B0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=ni.MOCK_USER;else{d=(0,In.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Be(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ni(_)}n._authCredentials=new OE(new Vv(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function UP(n){return function SP(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield rO(n),t=yield kS(n);return e.setNetworkEnabled(!0),function(r){const i=st(r);return i._u.delete(0),L0(i)}(t)}))}(mi(n=Tn(n,Sr)))}(this._delegate)}disableNetwork(){return function $P(n){return function AP(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield rO(n),t=yield kS(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(i){const l=st(i);l._u.add(0),yield C_(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=Tn(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,WM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jP(n){return function(e){const t=new ri;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function aP(n,e){return uS.apply(this,arguments)}(yield PS(e),t)})),t.promise}(mi(n=Tn(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function vF(n,e){return function OP(n,e){const t=new OI(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield O_(n),i=t,st(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield O_(n),i=t,void st(r).Ru.delete(i);var r,i}))}}(mi(n=Tn(n,Sr)),LS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new x_(this,JM(this._delegate,e))}catch(t){throw po(t,"collection()","Firestore.collection()")}}doc(e){try{return new pl(this,MI(this._delegate,e))}catch(t){throw po(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new go(this,function bP(n,e){if(n=Tn(n,B0),SS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zs(n,null,(t=e,new dl(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw po(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wF(n,e,t){n=Tn(n,Sr);const r=Object.assign(Object.assign({},bF),t);return function(i){if(i.maxAttempts<1)throw new Be(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const g=new ri;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const _=yield function iO(n){return RI(n).then(e=>e.datastore)}(i);new EP(i.asyncQueue,_,d,l,g).run()})),g.promise}(mi(n),i=>e(new DF(n,i)),r)}(this._delegate,t=>e(new kO(this,t)))}batch(){return mi(this._delegate),new PO(new NO(this._delegate,e=>R_(this._delegate,e)))}loadBundle(e){return function HP(n,e){const t=mi(n=Tn(n,Sr)),r=new PP;return function RP(n,e,t,r){const i=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return eO(_,w);if(_ instanceof ArrayBuffer)return eO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new DP(_,d);var _}(t,F0(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function yP(n,e,t){const r=st(n);var i;(i=(0,Ae.Z)(function*(l,d,g){try{const _=yield d.getMetadata();if(yield function($,K){const oe=st($),we=Zr(K.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Ne=>oe.Ns.getBundleMetadata(Ne,K.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(we)>=0)}(l.localStore,_))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:($=_).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);g._updateProgress(kM(_));const w=new Yk(_,l.localStore,d.It);let N=yield d.mc();for(;N;){const $=yield w.Fu(N);$&&g._updateProgress($),N=yield d.mc()}const k=yield w.complete();return yield dd(l,k.Lu,void 0),yield function($,K){const oe=st($);return oe.persistence.runTransaction("Save bundle","readwrite",we=>oe.Ns.saveBundleMetadata(we,K))}(l.localStore,_),g._completeWith(k.progress),Promise.resolve(k.Bu)}catch(_){return ic("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var $}),function(l,d,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield PS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GP(n,e){return function xP(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const i=st(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield xI(n),e)}))}(mi(n=Tn(n,Sr)),e).then(t=>t?new zs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new go(this,t):null)}}class UI extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new G0(new cu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pl.forKey(t,this.firestore,null)}}class kO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UI(e)}get(e){const t=ig(e);return this._delegate.get(t).then(r=>new W0(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ig(e);return r?(WS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class PO{constructor(e){this._delegate=e}set(e,t,r){const i=ig(e);return r?(WS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new H0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new z0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new rg(e,new UI(e),t),i.set(t,l)),l}}rg.INSTANCES=new WeakMap;class pl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pl(t,new Tr(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new pl(t,new Tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new x_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x_(this.firestore,JM(this._delegate,e))}catch(t){throw po(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof Tr&&XM(this._delegate,e)}set(e,t){t=WS("DocumentReference.set",t);try{return t?TO(this._delegate,e,t):TO(this._delegate,e)}catch(r){throw po(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?SO(this._delegate,e):SO(this._delegate,e,t,...r)}catch(i){throw po(i,"updateDoc()","DocumentReference.update()")}}delete(){return function _F(n){return R_(Tn(n.firestore,Sr),[new Uh(n._key,gr.none())])}(this._delegate)}onSnapshot(...e){const t=FO(e),r=LO(e,i=>new W0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function hF(n){n=Tn(n,Tr);const e=Tn(n.firestore,Sr),t=mi(e),r=new tf(e);return function NP(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const g=yield function(_,w){const N=st(_);return N.persistence.runTransaction("read document","readonly",k=>N.localDocuments.getDocument(k,w))}(i,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Be(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=S_(g,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield xI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fd(e,r,n._key,i,new ng(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fF(n){n=Tn(n,Tr);const e=Tn(n.firestore,Sr);return sO(mi(e),n._key,{source:"server"}).then(t=>GS(e,n,t))}(this._delegate):function dF(n){n=Tn(n,Tr);const e=Tn(n.firestore,Sr);return sO(mi(e),n._key).then(t=>GS(e,n,t))}(this._delegate),t.then(r=>new W0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function po(n,e,t){return n.message=n.message.replace(e,t),n}function FO(n){for(const e of n)if("object"==typeof e&&!zS(e))return e;return{}}function LO(n,e){var t,r;let i;return i=zS(n[0])?n[0]:zS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class W0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return EO(this._delegate,e._delegate)}}class z0 extends W0{data(e){const t=this._delegate.data(e);return function ME(n,e){n||yt()}(void 0!==t),t}}class go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UI(e)}where(e,t,r){try{return new go(this.firestore,Xh(this._delegate,function eF(n,e,t){const r=e,i=BI("where",n);return new XP(i,r,t)}(e,t,r)))}catch(i){throw po(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new go(this.firestore,Xh(this._delegate,function nF(n,e="asc"){const t=e,r=BI("orderBy",n);return new tF(r,t)}(e,t)))}catch(r){throw po(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,Xh(this._delegate,function rF(n){return ZM("limit",n),new yO("limit",n,"F")}(e)))}catch(t){throw po(t,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,Xh(this._delegate,function iF(n){return ZM("limitToLast",n),new yO("limitToLast",n,"L")}(e)))}catch(t){throw po(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,Xh(this._delegate,function sF(...n){return new vO("startAt",n,!0)}(...e)))}catch(t){throw po(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,Xh(this._delegate,function oF(...n){return new vO("startAfter",n,!1)}(...e)))}catch(t){throw po(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,Xh(this._delegate,function aF(...n){return new bO("endBefore",n,!1)}(...e)))}catch(t){throw po(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,Xh(this._delegate,function lF(...n){return new bO("endAt",n,!0)}(...e)))}catch(t){throw po(t,"endAt()","Query.endAt()")}}isEqual(e){return AS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gF(n){n=Tn(n,zs);const e=Tn(n.firestore,Sr),t=mi(e),r=new tf(e);return function MP(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const g=yield II(i,l,!0),_=new LM(l,g.Hi),w=_.Wu(g.documents),N=_.applyChanges(w,!1);d.resolve(N.snapshot)}catch(g){const _=S_(g,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield xI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate):"server"===e?.source?function mF(n){n=Tn(n,zs);const e=Tn(n.firestore,Sr),t=mi(e),r=new tf(e);return oO(t,n._query,{source:"server"}).then(i=>new ef(e,r,n,i))}(this._delegate):function pF(n){n=Tn(n,zs);const e=Tn(n.firestore,Sr),t=mi(e),r=new tf(e);return _O(n._query),oO(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate),t.then(r=>new qS(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FO(e),r=LO(e,i=>new qS(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AO(this._delegate,t,r)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}class xF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new z0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new z0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new z0(this._firestore,r))})}isEqual(e){return EO(this._delegate,e._delegate)}}class x_ extends go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pl(this.firestore,e):null}doc(e){try{return new pl(this.firestore,void 0===e?MI(this._delegate):MI(this._delegate,e))}catch(t){throw po(t,"doc()","CollectionReference.doc()")}}add(e){return function yF(n,e){const t=Tn(n.firestore,Sr),r=MI(n),i=jI(n.converter,e);return R_(t,[FI(eg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pl(this.firestore,t))}isEqual(e){return XM(this._delegate,e._delegate)}withConverter(e){return new x_(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ig(n){return Tn(n,Tr)}class ZS{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new ZS(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CF(){return new VS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function IF(){return new j0("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function EF(...n){return new ZP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function TF(...n){return new KP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function SF(n){return new QP("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kF={Firestore:xO,GeoPoint:kI,Timestamp:lr,Blob:G0,Transaction:kO,WriteBatch:PO,DocumentReference:pl,DocumentSnapshot:W0,Query:go,QueryDocumentSnapshot:z0,QuerySnapshot:qS,CollectionReference:x_,FieldPath:ZS,FieldValue:sg,setLogLevel:function RF(n){!function Tw(n){rc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FF(n){(function PF(n,e){n.INTERNAL.registerComponent(new ah.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},kF)))})(n,(e,t)=>new xO(e,t,new OF)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(oh.Z);var LF=V(6451),$I=V(5363),VF=V(6063);class BF extends Zt.x{constructor(e=1/0,t=1/0,r=VF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)g=_;g&&r.splice(0,g+1)}}}var jF=V(3099);function VO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,jF.B)({connector:()=>new BF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var BO=V(3888);const HI=(0,BO.d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function GI(n){return(0,nr.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function jO(n=UF){return(0,nr.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UF(){return new HI}function pd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,l)=>n(i,l,r)):Os.y,kn(1),t?GI(e):jO(()=>new HI))}function UO(n,e){return(0,Mr.m)(e)?qn(()=>n,e):qn(()=>n)}var KS=V(9468);V(5867);const HO=new Map,zF={activated:!1,tokenObservers:[]},qF={initialized:!1,enabled:!1};function is(n){return HO.get(n)||zF}function gl(n,e){HO.set(n,e)}function zI(){return qF}class JF{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new In.BH,yield function XF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new In.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mo=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WO(n){if(!is(n).activated)throw mo.create("use-before-activation",{appName:n.name})}function XS(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Ae.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const K=yield d.getHeartbeatsHeader();K&&(l["X-Firebase-Client"]=K)}const g={method:"POST",body:JSON.stringify(e),headers:l};let _,w;try{_=yield fetch(n,g)}catch(K){throw mo.create("fetch-network-error",{originalErrorMessage:null===(r=K)||void 0===r?void 0:r.message})}if(200!==_.status)throw mo.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(K){throw mo.create("fetch-parse-error",{originalErrorMessage:null===(i=K)||void 0===i?void 0:i.message})}const N=w.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(N[1]),$=Date.now();return{token:w.token,expireTimeMillis:$+k,issuedAtTimeMillis:$}}),eA.apply(this,arguments)}function rL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const q0="firebase-app-check-store";let KI=null;function qO(){return KI||(KI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(mo.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(q0,{keyPath:"compositeKey"})}}catch(r){e(mo.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),KI)}function tA(){return tA=(0,Ae.Z)(function*(n,e){const r=(yield qO()).transaction(q0,"readwrite"),l=r.objectStore(q0).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;g(mo.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),tA.apply(this,arguments)}const Z0=new sl.Yd("@firebase/app-check");function iA(n,e){return(0,In.hl)()?function aL(n,e){return function ZO(n,e){return tA.apply(this,arguments)}(function QO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Z0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YO(){return zI().enabled}function JO(){return oA.apply(this,arguments)}function oA(){return oA=(0,Ae.Z)(function*(){const n=zI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),oA.apply(this,arguments)}const fL={error:"UNKNOWN_ERROR"};function pL(n){return In.US.encodeString(JSON.stringify(n),!1)}function QI(n){return aA.apply(this,arguments)}function aA(){return aA=(0,Ae.Z)(function*(n,e=!1){const t=n.app;WO(t);const r=is(t);let l,i=r.token;if(i&&!k_(i)&&(gl(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(k_(_)?i=_:yield iA(t,void 0))}if(!e&&i&&k_(i))return{token:i.token};let g,d=!1;if(YO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XS(rL(t,yield JO()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield iA(t,_),gl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Z0.warn(_.message):Z0.error(_),l=_}return i?l?g=k_(i)?{token:i.token,internalError:l}:tR(l):(g={token:i.token},gl(t,Object.assign(Object.assign({},r),{token:i})),yield iA(t,i)):g=tR(l),d&&eR(t,g),g}),aA.apply(this,arguments)}function cA(n,e){const t=is(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),gl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function XO(n){const{app:e}=n,t=is(e);let r=t.tokenRefresher;r||(r=function gL(n){const{app:e}=n;return new JF((0,Ae.Z)(function*(){let r;if(r=is(e).token?yield QI(n,!0):yield QI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=is(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),gl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eR(n,e){const t=is(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function k_(n){return n.expireTimeMillis-Date.now()>0}function tR(n){return{token:pL(fL),error:n}}class mL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=is(this.app);for(const t of e)cA(this.app,t.next);return Promise.resolve()}}const cR="app-check-internal";!function ML(){(0,Xl._registerComponent)(new ah.wA("app-check",n=>function _L(n,e){return new mL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cR).initialize()})),(0,Xl._registerComponent)(new ah.wA(cR,n=>function yL(n){return{getToken:e=>QI(n,e),addTokenListener:e=>function lA(n,e,t,r){const{app:i}=n,l=is(i),d={next:t,error:r,type:e};if(gl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&k_(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),XO(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>XO(n))}(n,"INTERNAL",e),removeTokenListener:e=>cA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xl.registerVersion)("@firebase/app-check","0.5.16")}();class fA{constructor(){return(0,wr.vb)("app-check")}}typeof window<"u"&&window;var dR=V(127);const hR=new u.InjectionToken("angularfire2.auth.use-emulator"),fR=new u.InjectionToken("angularfire2.auth.settings"),pR=new u.InjectionToken("angularfire2.auth.tenant-id"),gR=new u.InjectionToken("angularfire2.auth.langugage-code"),mR=new u.InjectionToken("angularfire2.auth.use-device-language"),_R=new u.InjectionToken("angularfire.auth.persistence"),yR=(n,e,t,r,i,l,d,g)=>(0,Ji.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,N]of Object.entries(d))_.settings[w]=N;return g&&_.setPersistence(g),_},[t,r,i,l,d,g]);let K0=(()=>{class n{constructor(t,r,i,l,d,g,_,w,N,k,$,K){const oe=new Zt.x,we=rt(void 0).pipe((0,$I.Q)(d.outsideAngular),qn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1277)))),(0,Ue.U)(()=>(0,Ji.on)(t,l,r)),(0,Ue.U)(Ne=>yR(Ne,l,g,w,N,k,_,$)),VO({bufferSize:1,refCount:!1}));if((0,I.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{we.pipe(pd()).subscribe();const ct=we.pipe(qn(ut=>ut.getRedirectResult().then(at=>at,()=>null)),wr.iC,VO({bufferSize:1,refCount:!1})),dt=we.pipe(qn(ut=>new je.y(at=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged(ht=>at.next(ht),ht=>at.error(ht),()=>at.complete()))})))),Dt=we.pipe(qn(ut=>new je.y(at=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged(ht=>at.next(ht),ht=>at.error(ht),()=>at.complete()))}))));this.authState=ct.pipe(UO(dt),(0,KS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular)),this.user=ct.pipe(UO(Dt),(0,KS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular)),this.idToken=this.user.pipe(qn(ut=>ut?(0,$t.D)(ut.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(qn(ut=>ut?(0,$t.D)(ut.getIdTokenResult()):rt(null))),this.credential=(0,LF.T)(ct,oe,this.authState.pipe(ir(ut=>!ut))).pipe((0,Ue.U)(ut=>ut?.user?ut:null),(0,KS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular))}return(0,Ji.pX)(this,we,l,{spy:{apply:(Ne,ct,dt)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&dt.then(Dt=>oe.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ji.Dh),u.\u0275\u0275inject(Ji.xv,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(wr.HU),u.\u0275\u0275inject(hR,8),u.\u0275\u0275inject(fR,8),u.\u0275\u0275inject(pR,8),u.\u0275\u0275inject(gR,8),u.\u0275\u0275inject(mR,8),u.\u0275\u0275inject(_R,8),u.\u0275\u0275inject(fA,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FL=(()=>{class n{constructor(){dR.Z.registerVersion("angularfire",wr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[K0]}),n})();function vR(n,e){return function LL(n,e=Ks.z){return new je.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function gA(n,e){return vR(n,e).pipe((0,Ue.U)(t=>({payload:t,type:"query"})))}function JI(n,e){return gA(n,e).pipe(ds(void 0),zc(),(0,Ue.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const _=i.find(N=>N.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(N=>N.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function bR(n,e,t){return JI(n,t).pipe(il((r,i)=>function BL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function jL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function wo(n,e=Os.y){return n=n??Na,(0,nr.e)((t,r)=>{let i,l=!0;t.subscribe((0,cn.x)(r,d=>{const g=e(d);(l||!n(i,g))&&(l=!1,i=g,r.next(d))}))})}(),(0,Ue.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function mA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function DR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class wR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=JI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ue.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ds(void 0),zc(),ir(([r,i])=>i.length>0||!r),(0,Ue.U)(([r,i])=>i),wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return gA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wr.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(wr.iC)}add(e){return this.ref.add(e)}doc(e){return new IR(this.ref.doc(e),this.afs)}}class IR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=TR(r,t);return new wR(i,l,this.afs)}snapshotChanges(){return function VL(n,e){return vR(n,e).pipe(ds(void 0),zc(),(0,Ue.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$t.D)(this.ref.get(e)).pipe(wr.iC)}}class UL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ir(t=>t.length>0),wr.iC):JI(this.query,this.afs.schedulers.outsideAngular).pipe(wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return gA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wr.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(wr.iC)}}const CR=new u.InjectionToken("angularfire2.enableFirestorePersistence"),ER=new u.InjectionToken("angularfire2.firestore.persistenceSettings"),$L=new u.InjectionToken("angularfire2.firestore.settings"),HL=new u.InjectionToken("angularfire2.firestore.use-emulator");function TR(n,e=(t=>t)){return{query:e(n),ref:n}}let _A=(()=>{class n{constructor(t,r,i,l,d,g,_,w,N,k,$,K,oe,we,Ne,ct,dt){this.schedulers=_;const Dt=(0,Ji.on)(t,g,r),ut=N;k&&yR(Dt,g,$,oe,we,Ne,K,ct),[this.firestore,this.persistenceEnabled$]=(0,Ji.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const at=g.runOutsideAngular(()=>Dt.firestore());if(l&&at.settings(l),ut&&at.useEmulator(...ut),i&&!(0,I.isPlatformServer)(d)){const ht=()=>{try{return(0,$t.D)(at.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Jt){return typeof console<"u"&&console.warn(Jt),rt(!1)}};return[at,g.runOutsideAngular(ht)]}return[at,rt(!1)]},[l,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=TR(i,r),g=this.schedulers.ngZone.run(()=>l);return new wR(g,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new UL(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new IR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ji.Dh),u.\u0275\u0275inject(Ji.xv,8),u.\u0275\u0275inject(CR,8),u.\u0275\u0275inject($L,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(wr.HU),u.\u0275\u0275inject(ER,8),u.\u0275\u0275inject(HL,8),u.\u0275\u0275inject(K0,8),u.\u0275\u0275inject(hR,8),u.\u0275\u0275inject(fR,8),u.\u0275\u0275inject(pR,8),u.\u0275\u0275inject(gR,8),u.\u0275\u0275inject(mR,8),u.\u0275\u0275inject(_R,8),u.\u0275\u0275inject(fA,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GL=(()=>{class n{constructor(){dR.Z.registerVersion("angularfire",wr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CR,useValue:!0},{provide:ER,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[_A]}),n})();var rf=V(3241);function SR(n){return new je.y(e=>{(0,vr.Xf)(n()).subscribe(e)})}var WL=V(9635);function Q0(n,e){const t=(0,Mr.m)(n)?n:()=>n,r=i=>i.error(t());return new je.y(e?i=>e.schedule(r,0,i):r)}var AR=V(727);function yA(){return(0,nr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class NR extends je.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new AR.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=AR.w0.EMPTY)}return e}refCount(){return yA()(this)}}function og(n,e){return(0,Mr.m)(e)?(0,Wt.z)(n,e,1):(0,Wt.z)(n,1)}function sf(n){return(0,nr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,cn.x)(t,void 0,void 0,d=>{l=(0,vr.Xf)(n(d,sf(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function vA(n){return n<=0?()=>qe.E:(0,nr.e)((e,t)=>{let r=[];e.subscribe((0,cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function MR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,l)=>n(i,l,r)):Os.y,vA(1),t?GI(e):jO(()=>new HI))}function bA(n){return(0,nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const pn="primary",Y0=Symbol("RouteTitle");class qL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function P_(n){return new qL(n)}function ZL(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!OR(n[i],e[i]))return!1;return!0}function OR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function RR(n){return Array.prototype.concat.apply([],n)}function xR(n){return n.length>0?n[n.length-1]:null}function Ts(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function af(n){return(0,u.\u0275isObservable)(n)?n:(0,u.\u0275isPromise)(n)?(0,$t.D)(Promise.resolve(n)):rt(n)}const YL={exact:function FR(n,e,t){if(!lg(n.segments,e.segments)||!XI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!FR(n.children[r],e.children[r],t))return!1;return!0},subset:LR},kR={exact:function JL(n,e){return uu(n,e)},subset:function XL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OR(n[t],e[t]))},ignored:()=>!0};function PR(n,e,t){return YL[t.paths](n.root,e.root,t.matrixParams)&&kR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function LR(n,e,t){return VR(n,e,e.segments,t)}function VR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!lg(i,t)||e.hasChildren()||!XI(i,t,r))}if(n.segments.length===t.length){if(!lg(n.segments,t)||!XI(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!LR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(lg(n.segments,i)&&XI(n.segments,i,r)&&n.children[pn])&&VR(n.children[pn],e,l,r)}}function XI(n,e,t){return e.every((r,i)=>kR[t](n[i].parameters,r.parameters))}class ag{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=P_(this.queryParams)),this._queryParamMap}toString(){return n2.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ts(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eC(this)}}class J0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=P_(this.parameters)),this._parameterMap}toString(){return $R(this)}}function lg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return new wA},providedIn:"root"}),n})();class wA{parse(e){const t=new h2(e);return new ag(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${X0(e.root,!0)}`,r=function o2(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${tC(t)}=${tC(i)}`).join("&"):`${tC(t)}=${tC(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function r2(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const n2=new wA;function eC(n){return n.segments.map(e=>$R(e)).join("/")}function X0(n,e){if(!n.hasChildren())return eC(n);if(e){const t=n.children[pn]?X0(n.children[pn],!1):"",r=[];return Ts(n.children,(i,l)=>{l!==pn&&r.push(`${l}:${X0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function t2(n,e){let t=[];return Ts(n.children,(r,i)=>{i===pn&&(t=t.concat(e(r,i)))}),Ts(n.children,(r,i)=>{i!==pn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pn?[X0(n.children[pn],!1)]:[`${i}:${X0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pn]?`${eC(n)}/${t[0]}`:`${eC(n)}/(${t.join("//")})`}}function jR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tC(n){return jR(n).replace(/%3B/gi,";")}function IA(n){return jR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nC(n){return decodeURIComponent(n)}function UR(n){return nC(n.replace(/\+/g,"%20"))}function $R(n){return`${IA(n.path)}${function s2(n){return Object.keys(n).map(e=>`;${IA(e)}=${IA(n[e])}`).join("")}(n.parameters)}`}const a2=/^[^\/()?;=#]+/;function rC(n){const e=n.match(a2);return e?e[0]:""}const l2=/^[^=?&#]+/,u2=/^[^&#]+/;class h2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pn]=new mn(e,t)),r}parseSegment(){const e=rC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.\u0275RuntimeError(4009,!1);return this.capture(e),new J0(nC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rC(this.remaining);i&&(r=i,this.capture(r))}e[nC(t)]=nC(r)}parseQueryParam(e){const t=function c2(n){const e=n.match(l2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function d2(n){const e=n.match(u2);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=UR(t),l=UR(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.\u0275RuntimeError(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=pn);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[pn]:new mn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.\u0275RuntimeError(4011,!1)}}function CA(n){return n.segments.length>0?new mn([],{[pn]:n}):n}function iC(n){const e={};for(const r of Object.keys(n.children)){const l=iC(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function f2(n){if(1===n.numberOfChildren&&n.children[pn]){const e=n.children[pn];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}function cg(n){return n instanceof ag}function m2(n,e,t,r,i){if(0===t.length)return F_(e.root,e.root,e.root,r,i);const l=function WR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Ts(l.outlets,(_,w)=>{g[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,l]},[]);return new GR(t,e,r)}(t);return l.toRoot()?F_(e.root,e.root,new mn([],{}),r,i):function d(_){const w=function y2(n,e,t,r){if(n.isAbsolute)return new L_(e.root,!0,0);if(-1===r)return new L_(t,t===e.root,0);return function zR(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.\u0275RuntimeError(4005,!1);i=r.segments.length}return new L_(r,!1,i-l)}(t,r+(eb(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),N=w.processChildren?nb(w.segmentGroup,w.index,l.commands):TA(w.segmentGroup,w.index,l.commands);return F_(e.root,w.segmentGroup,N,r,i)}(n.snapshot?._lastPathIndex)}function eb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tb(n){return"object"==typeof n&&null!=n&&n.outlets}function F_(n,e,t,r,i){let d,l={};r&&Ts(r,(_,w)=>{l[w]=Array.isArray(_)?_.map(N=>`${N}`):`${_}`}),d=n===e?t:HR(n,e,t);const g=CA(iC(d));return new ag(g,l,i)}function HR(n,e,t){const r={};return Ts(n.children,(i,l)=>{r[l]=i===e?t:HR(i,e,t)}),new mn(n.segments,r)}class GR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&eb(r[0]))throw new u.\u0275RuntimeError(4003,!1);const i=r.find(tb);if(i&&i!==xR(r))throw new u.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class L_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function TA(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return nb(n,e,t);const r=function b2(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],g=t[r];if(tb(g))break;const _=`${g}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!ZR(_,w,d))return l;r+=2}else{if(!ZR(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new mn(n.segments.slice(0,r.pathIndex),{});return l.children[pn]=new mn(n.segments.slice(r.pathIndex),n.children),nb(l,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?SA(n,e,t):r.match?nb(n,0,i):SA(n,e,t)}function nb(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function v2(n){return tb(n[0])?n[0].outlets:{[pn]:n}}(t),i={};return Ts(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=TA(n.children[d],e,l))}),Ts(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new mn(n.segments,i)}}function SA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(tb(l)){const _=D2(l.outlets);return new mn(r,_)}if(0===i&&eb(t[0])){r.push(new J0(n.segments[e].path,qR(t[0]))),i++;continue}const d=tb(l)?l.outlets[pn]:`${l}`,g=i<t.length-1?t[i+1]:null;d&&g&&eb(g)?(r.push(new J0(d,qR(g))),i+=2):(r.push(new J0(d,{})),i++)}return new mn(r,{})}function D2(n){const e={};return Ts(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=SA(new mn([],{}),0,t))}),e}function qR(n){const e={};return Ts(n,(t,r)=>e[r]=`${t}`),e}function ZR(n,e,t){return n==t.path&&uu(e,t.parameters)}class gd{constructor(e,t){this.id=e,this.url=t}}class AA extends gd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ug extends gd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sC extends gd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class KR extends gd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class w2 extends gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I2 extends gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C2 extends gd{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class E2 extends gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T2 extends gd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=NA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=MA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return MA(e,this._root).map(t=>t.value)}}function NA(n,e){if(n===e.value)return e;for(const t of e.children){const r=NA(n,t);if(r)return r}return null}function MA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=MA(n,t);if(r.length)return r.unshift(e),r}return[]}class md{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function V_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JR extends YR{constructor(e,t){super(e),this.snapshot=t,OA(this,e)}toString(){return this.snapshot.toString()}}function XR(n,e){const t=function k2(n,e){const d=new oC([],{},{},"",{},pn,e,null,n.root,-1,{});return new tx("",new md(d,[]))}(n,e),r=new rn([new J0("",{})]),i=new rn({}),l=new rn({}),d=new rn({}),g=new rn(""),_=new _d(r,i,d,g,l,pn,e,t.root);return _.snapshot=t.root,new JR(new md(_,[]),t)}class _d{constructor(e,t,r,i,l,d,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,Ue.U)(w=>w[Y0]))??rt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(e=>P_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(e=>P_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ex(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function P2(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class oC{constructor(e,t,r,i,l,d,g,_,w,N,k,$){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.[Y0],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=N,this._correctedLastPathIndex=$??N,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=P_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=P_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tx extends YR{constructor(e,t){super(t),this.url=e,OA(this,t)}toString(){return nx(this._root)}}function OA(n,e){e.value._routerState=n,e.children.forEach(t=>OA(n,t))}function nx(n){const e=n.children.length>0?` { ${n.children.map(nx).join(", ")} } `:"";return`${n.value}${e}`}function RA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uu(e.params,t.params)||n.params.next(t.params),function KL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xA(n,e){const t=uu(n.params,e.params)&&function e2(n,e){return lg(n,e)&&n.every((t,r)=>uu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xA(n.parent,e.parent))}function rb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function L2(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rb(n,r,i);return rb(n,r)})}(n,e,t);return new md(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>rb(n,g)),d}}const r=function V2(n){return new _d(new rn(n.url),new rn(n.params),new rn(n.queryParams),new rn(n.fragment),new rn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>rb(n,l));return new md(r,i)}}const kA="ngNavigationCancelingError";function rx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ix(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ix(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[kA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sx(n){return ox(n)&&cg(n.url)}function ox(n){return n&&n[kA]}class B2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ib,this.attachRef=null}}let ib=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new B2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aC=!1;let PA=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.EventEmitter,this.deactivateEvents=new u.EventEmitter,this.attachEvents=new u.EventEmitter,this.detachEvents=new u.EventEmitter,this.name=i||pn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.\u0275RuntimeError(4012,aC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.\u0275RuntimeError(4012,aC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.\u0275RuntimeError(4012,aC);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.\u0275RuntimeError(4013,aC);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new j2(t,g,i.injector);if(r&&function U2(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(d,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(ib),u.\u0275\u0275directiveInject(u.ViewContainerRef),u.\u0275\u0275injectAttribute("name"),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.EnvironmentInjector))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class j2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_d?this.route:e===ib?this.childContexts:this.parent.get(e,t)}}let FA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[PA],encapsulation:2}),n})();function ax(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function VA(n){const e=n.children&&n.children.map(VA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pn&&(t.component=FA),t}function ml(n){return n.outlet||pn}function lx(n,e){const t=n.filter(r=>ml(r)===e);return t.push(...n.filter(r=>ml(r)!==e)),t}function sb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class z2{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),RA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Ts(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=V_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=V_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new R2(l.value.snapshot))}),e.children.length&&this.forwardEvent(new M2(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(RA(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),RA(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=sb(i.snapshot),_=g?.get(u.ComponentFactoryResolver)??null;d.attachRef=null,d.route=i,d.resolver=_,d.injector=g,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class cx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lC{constructor(e,t){this.component=e,this.route=t}}function q2(n,e,t){const r=n._root;return ob(r,e?e._root:null,t,[r.value])}function B_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.\u0275isInjectable)(n)?e.get(n):n:r}function ob(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=V_(e);return n.children.forEach(d=>{(function K2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function Q2(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lg(n.url,e.url)||!uu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xA(n,e)||!uu(n.queryParams,e.queryParams);default:return!xA(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new cx(r)):(l.data=d.data,l._resolvedData=d._resolvedData),ob(n,e,l.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new lC(g.outlet.component,d))}else d&&ab(e,g,i),i.canActivateChecks.push(new cx(r)),ob(n,null,l.component?g?g.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Ts(l,(d,g)=>ab(d,t.getContext(g),i)),i}function ab(n,e,t){const r=V_(n),i=n.value;Ts(r,(l,d)=>{ab(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new lC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function lb(n){return"function"==typeof n}function BA(n){return n instanceof HI||"EmptyError"===n?.name}const cC=Symbol("INITIAL_VALUE");function j_(){return qn(n=>bo(n.map(e=>e.pipe(kn(1),ds(cC)))).pipe((0,Ue.U)(e=>{for(const t of e)if(!0!==t){if(t===cC)return cC;if(!1===t||t instanceof ag)return t}return!0}),ir(e=>e!==cC),kn(1)))}function ux(n){return(0,WL.z)((0,Sn.b)(e=>{if(cg(e))throw rx(0,e)}),(0,Ue.U)(e=>!0===e))}const jA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dx(n,e,t,r,i){const l=UA(n,e,t);return l.matched?function fV(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(d=>{const g=B_(d,n);return af(function nV(n){return n&&lb(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(j_(),ux()):rt(!0)}(r=ax(e,r),e,t).pipe((0,Ue.U)(d=>!0===d?l:{...jA})):rt(l)}function UA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ZL)(t,n,e);if(!i)return{...jA};const l={};Ts(i.posParams,(g,_)=>{l[_]=g.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function uC(n,e,t,r,i="corrected"){if(t.length>0&&function mV(n,e,t){return t.some(r=>dC(n,e,r)&&ml(r)!==pn)}(n,t,r)){const d=new mn(e,function gV(n,e,t,r){const i={};i[pn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ml(l)!==pn){const d=new mn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ml(l)]=d}return i}(n,e,r,new mn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function _V(n,e,t){return t.some(r=>dC(n,e,r))}(n,t,r)){const d=new mn(n.segments,function pV(n,e,t,r,i,l){const d={};for(const g of r)if(dC(n,t,g)&&!i[ml(g)]){const _=new mn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[ml(g)]=_}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new mn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function dC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hx(n,e,t,r){return!!(ml(n)===r||r!==pn&&dC(e,t,n))&&("**"===n.path||UA(e,n,t).matched)}function fx(n,e,t){return 0===e.length&&!n.children[t]}const hC=!1;class fC{constructor(e){this.segmentGroup=e||null}}class px{constructor(e){this.urlTree=e}}function cb(n){return Q0(new fC(n))}function gx(n){return Q0(new px(n))}class DV{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=uC(this.urlTree.root,[],[],this.config).segmentGroup,t=new mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,pn).pipe((0,Ue.U)(l=>this.createUrlTree(iC(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sf(l=>{if(l instanceof px)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof fC?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pn).pipe((0,Ue.U)(i=>this.createUrlTree(iC(i),e.queryParams,e.fragment))).pipe(sf(i=>{throw i instanceof fC?this.noMatchError(i):i}))}noMatchError(e){return new u.\u0275RuntimeError(4002,hC)}createUrlTree(e,t,r){const i=CA(e);return new ag(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ue.U)(l=>new mn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,$t.D)(i).pipe(og(l=>{const d=r.children[l],g=lx(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,Ue.U)(_=>({segment:_,outlet:l})))}),il((l,d)=>(l[d.outlet]=d.segment,l),{}),MR())}expandSegment(e,t,r,i,l,d){return(0,$t.D)(r).pipe(og(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,l,d).pipe(sf(w=>{if(w instanceof fC)return rt(null);throw w}))),pd(g=>!!g),sf((g,_)=>{if(BA(g))return fx(t,i,l)?rt(new mn([],{})):cb(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,l,d,g){return hx(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):cb(t):cb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gx(l):this.lineralizeSegments(r,l).pipe((0,Wt.z)(d=>{const g=new mn(d,{});return this.expandSegment(e,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:g,consumedSegments:_,remainingSegments:w,positionalParamSegments:N}=UA(t,i,l);if(!g)return cb(t);const k=this.applyRedirectCommands(_,i.redirectTo,N);return i.redirectTo.startsWith("/")?gx(k):this.lineralizeSegments(i,k).pipe((0,Wt.z)($=>this.expandSegment(e,t,r,$.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=ax(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ue.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new mn(i,{})))):rt(new mn(i,{}))):dx(t,r,i,e).pipe(qn(({matched:d,consumedSegments:g,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Wt.z)(N=>{const k=N.injector??e,$=N.routes,{segmentGroup:K,slicedSegments:oe}=uC(t,g,_,$),we=new mn(K.segments,K.children);if(0===oe.length&&we.hasChildren())return this.expandChildren(k,$,we).pipe((0,Ue.U)(Dt=>new mn(g,Dt)));if(0===$.length&&0===oe.length)return rt(new mn(g,{}));const Ne=ml(r)===l;return this.expandSegment(k,we,$,oe,Ne?pn:l,!0).pipe((0,Ue.U)(dt=>new mn(g.concat(dt.segments),dt.children)))})):cb(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function hV(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(d=>{const g=B_(d,n);return af(function J2(n){return n&&lb(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(j_(),ux())}(e,t,r).pipe((0,Wt.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Sn.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function vV(n){return Q0(ix(hC,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[pn])return Q0(new u.\u0275RuntimeError(4e3,hC));i=i.children[pn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ag(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ts(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[l]=t[g]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Ts(t.children,(g,_)=>{d[_]=this.createSegmentGroup(e,g,r,i)}),new mn(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.\u0275RuntimeError(4001,hC);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class IV{}class TV{constructor(e,t,r,i,l,d,g,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=_}recognize(){const e=uC(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pn).pipe((0,Ue.U)(t=>{if(null===t)return null;const r=new oC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new md(r,t),l=new tx(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=ex(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,$t.D)(Object.keys(r.children)).pipe(og(i=>{const l=r.children[i],d=lx(t,i);return this.processSegmentGroup(e,d,l,i)}),il((i,l)=>i&&l?(i.push(...l),i):null),function zL(n,e=!1){return(0,nr.e)((t,r)=>{let i=0;t.subscribe((0,cn.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),GI(null),MR(),(0,Ue.U)(i=>{if(null===i)return null;const l=mx(i);return function SV(n){n.sort((e,t)=>e.value.outlet===pn?-1:t.value.outlet===pn?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,$t.D)(t).pipe(og(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),pd(d=>!!d),sf(d=>{if(BA(d))return fx(r,i,l)?rt([]):rt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!hx(t,r,i,l))return rt(null);let d;if("**"===t.path){const g=i.length>0?xR(i).parameters:{},_=yx(r)+i.length;d=rt({snapshot:new oC(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bx(t),ml(t),t.component??t._loadedComponent??null,t,_x(r),_,Dx(t),_),consumedSegments:[],remainingSegments:[]})}else d=dx(r,t,i,e).pipe((0,Ue.U)(({matched:g,consumedSegments:_,remainingSegments:w,parameters:N})=>{if(!g)return null;const k=yx(r)+_.length;return{snapshot:new oC(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bx(t),ml(t),t.component??t._loadedComponent??null,t,_x(r),k,Dx(t),k),consumedSegments:_,remainingSegments:w}}));return d.pipe(qn(g=>{if(null===g)return rt(null);const{snapshot:_,consumedSegments:w,remainingSegments:N}=g;e=t._injector??e;const k=t._loadedInjector??e,$=function AV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:K,slicedSegments:oe}=uC(r,w,N,$.filter(Ne=>void 0===Ne.redirectTo),this.relativeLinkResolution);if(0===oe.length&&K.hasChildren())return this.processChildren(k,$,K).pipe((0,Ue.U)(Ne=>null===Ne?null:[new md(_,Ne)]));if(0===$.length&&0===oe.length)return rt([new md(_,[])]);const we=ml(t)===l;return this.processSegment(k,$,K,oe,we?pn:l).pipe((0,Ue.U)(Ne=>null===Ne?null:[new md(_,Ne)]))}))}}function NV(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mx(n){const e=[],t=new Set;for(const r of n){if(!NV(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=mx(r.children);e.push(new md(r.value,i))}return e.filter(r=>!t.has(r))}function _x(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yx(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bx(n){return n.data||{}}function Dx(n){return n.resolve||{}}function RV(n,e){return(0,Wt.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let l=0;return(0,$t.D)(i).pipe(og(d=>function xV(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!wx(i)&&(l[Y0]=i.title),function kV(n,e,t,r){const i=function PV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const l={};return(0,$t.D)(i).pipe((0,Wt.z)(d=>function FV(n,e,t,r){const i=sb(e)??r,l=B_(n,i);return af(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(pd(),(0,Sn.b)(g=>{l[d]=g}))),vA(1),function hs(n){return(0,Ue.U)(()=>n)}(l),sf(d=>BA(d)?qe.E:Q0(d)))}(l,n,e,r).pipe((0,Ue.U)(d=>(n._resolvedData=d,n.data=ex(n,t).resolve,i&&wx(i)&&(n.data[Y0]=i.title),null)))}(d.route,r,n,e)),(0,Sn.b)(()=>l++),vA(1),(0,Wt.z)(d=>l===i.length?rt(t):qe.E))})}function wx(n){return"string"==typeof n.title||null===n.title}function $A(n){return qn(e=>{const t=n(e);return t?(0,$t.D)(t).pipe((0,Ue.U)(()=>e)):rt(e)})}let Ix=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===pn);return r}getResolvedTitleForRoute(t){return t.data[Y0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,u.inject)(Cx)},providedIn:"root"}),n})(),Cx=(()=>{class n extends Ix{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Un))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LV{}class BV extends class VV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gC=new u.InjectionToken("",{providedIn:"root",factory:()=>({})}),HA=new u.InjectionToken("ROUTES");let GA=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=af(t.loadComponent()).pipe((0,Sn.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),bA(()=>{this.componentLoaders.delete(t)})),i=new NR(r,()=>new Zt.x).pipe(yA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ue.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,N=!1;Array.isArray(g)?w=g:(_=g.create(t).injector,w=RR(_.get(HA,[],u.InjectFlags.Self|u.InjectFlags.Optional)));return{routes:w.map(VA),injector:_}}),bA(()=>{this.childrenLoaders.delete(r)})),d=new NR(l,()=>new Zt.x).pipe(yA());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return af(t()).pipe((0,Wt.z)(r=>r instanceof u.NgModuleFactory||Array.isArray(r)?rt(r):(0,$t.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(u.Compiler))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UV{}class $V{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function HV(n){throw n}function GV(n,e,t){return e.parse("/")}const WV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Tx(){const n=(0,u.inject)(BR),e=(0,u.inject)(ib),t=(0,u.inject)(I.Location),r=(0,u.inject)(u.Injector),i=(0,u.inject)(u.Compiler),l=(0,u.inject)(HA,{optional:!0})??[],d=(0,u.inject)(gC,{optional:!0})??{},g=(0,u.inject)(Cx),_=(0,u.inject)(Ix,{optional:!0}),w=(0,u.inject)(UV,{optional:!0}),N=(0,u.inject)(LV,{optional:!0}),k=new Vr(null,n,e,t,r,i,RR(l));return w&&(k.urlHandlingStrategy=w),N&&(k.routeReuseStrategy=N),k.titleStrategy=_??g,function qV(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,k),k}let Vr=(()=>{class n{constructor(t,r,i,l,d,g,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zt.x,this.errorHandler=HV,this.malformedUriErrorHandler=GV,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new $V,this.routeReuseStrategy=new BV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(GA),this.configLoader.onLoadEndListener=$=>this.triggerEvent(new A2($)),this.configLoader.onLoadStartListener=$=>this.triggerEvent(new S2($)),this.ngModule=d.get(u.NgModuleRef),this.console=d.get(u.\u0275Console);const k=d.get(u.NgZone);this.isNgZoneEnabled=k instanceof u.NgZone&&u.NgZone.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function QL(){return new ag(new mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XR(this.currentUrlTree,this.rootComponentType),this.transitions=new rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ir(i=>0!==i.id),(0,Ue.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qn(i=>{let l=!1,d=!1;return rt(i).pipe((0,Sn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(g=>{const _=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Sx(g.source)&&(this.browserUrlTree=g.extractedUrl),rt(g).pipe(qn(k=>{const $=this.transitions.getValue();return r.next(new AA(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),$!==this.transitions.getValue()?qe.E:Promise.resolve(k)}),function wV(n,e,t,r){return qn(i=>function bV(n,e,t,r,i){return new DV(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ue.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Sn.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},i.urlAfterRedirects=k.urlAfterRedirects}),function OV(n,e,t,r,i,l){return(0,Wt.z)(d=>function EV(n,e,t,r,i,l,d="emptyOnly",g="legacy"){return new TV(n,e,t,r,i,d,g,l).recognize().pipe(qn(_=>null===_?function CV(n){return new je.y(e=>e.error(n))}(new IV):rt(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,Ue.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Sn.b)(k=>{if(i.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(K,k)}this.browserUrlTree=k.urlAfterRedirects}const $=new w2(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next($)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:K,source:oe,restoredState:we,extras:Ne}=g,ct=new AA($,this.serializeUrl(K),oe,we);r.next(ct);const dt=XR(K,this.rootComponentType).snapshot;return rt(i={...g,targetSnapshot:dt,urlAfterRedirects:K,extras:{...Ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),qe.E}),(0,Sn.b)(g=>{const _=new I2(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,Ue.U)(g=>i={...g,guards:q2(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function iV(n,e){return(0,Wt.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?rt({...t,guardsResult:!0}):function sV(n,e,t,r){return(0,$t.D)(n).pipe((0,Wt.z)(i=>function dV(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?rt(l.map(g=>{const _=sb(e)??i,w=B_(g,_);return af(function tV(n){return n&&lb(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(pd())})).pipe(j_()):rt(!0)}(i.component,i.route,t,e,r)),pd(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Wt.z)(g=>g&&function Y2(n){return"boolean"==typeof n}(g)?function oV(n,e,t,r){return(0,$t.D)(e).pipe(og(i=>Yo(function lV(n,e){return null!==n&&e&&e(new N2(n)),rt(!0)}(i.route.parent,r),function aV(n,e){return null!==n&&e&&e(new O2(n)),rt(!0)}(i.route,r),function uV(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Z2(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>SR(()=>rt(d.guards.map(_=>{const w=sb(d.node)??t,N=B_(_,w);return af(function eV(n){return n&&lb(n.canActivateChild)}(N)?N.canActivateChild(r,n):w.runInContext(()=>N(r,n))).pipe(pd())})).pipe(j_())));return rt(l).pipe(j_())}(n,i.path,t),function cV(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(l=>SR(()=>{const d=sb(e)??t,g=B_(l,d);return af(function X2(n){return n&&lb(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(pd())}));return rt(i).pipe(j_())}(n,i.route,t))),pd(i=>!0!==i,!0))}(r,l,n,e):rt(g)),(0,Ue.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Sn.b)(g=>{if(i.guardsResult=g.guardsResult,cg(g.guardsResult))throw rx(0,g.guardsResult);const _=new C2(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),ir(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),$A(g=>{if(g.guards.canActivateChecks.length)return rt(g).pipe((0,Sn.b)(_=>{const w=new E2(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),qn(_=>{let w=!1;return rt(_).pipe(RV(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Sn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Sn.b)(_=>{const w=new T2(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),$A(g=>{const _=w=>{const N=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Sn.b)(k=>{w.component=k}),(0,Ue.U)(()=>{})));for(const k of w.children)N.push(..._(k));return N};return bo(_(g.targetSnapshot.root)).pipe(GI(),kn(1))}),$A(()=>this.afterPreactivation()),(0,Ue.U)(g=>{const _=function F2(n,e,t){const r=rb(n,e._root,t?t._root:void 0);return new JR(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:_}}),(0,Sn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Ue.U)(r=>(new z2(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Sn.b)({next(){l=!0},complete(){l=!0}}),bA(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),sf(g=>{if(d=!0,ox(g)){sx(g)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new sC(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(_),sx(g)){const w=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),N={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sx(i.source)};this.scheduleNavigation(w,"imperative",null,N,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new KR(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(g))}catch(w){i.reject(w)}}return qe.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(VA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:_}=r,w=i||this.routerState.root,N=_?this.currentUrlTree.fragment:d;let k=null;switch(g){case"merge":k={...this.currentUrlTree.queryParams,...l};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),m2(w,this.currentUrlTree,t,k,N??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ZV(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...WV}:!1===r?{...zV}:r,cg(t))return PR(this.currentUrlTree,t,i);const l=this.parseUrl(t);return PR(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ug(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let g,_,w;d?(g=d.resolve,_=d.reject,w=d.promise):w=new Promise(($,K)=>{g=$,_=K});const N=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),k=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:N,targetPageId:k,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:g,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new sC(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return Tx()},providedIn:"root"}),n})();function Sx(n){return"imperative"!==n}let WA=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Zt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(_d),u.\u0275\u0275injectAttribute("tabindex"),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),dg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Zt.x,this.subscription=t.events.subscribe(l=>{l instanceof ug&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(_d),u.\u0275\u0275directiveInject(I.LocationStrategy))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.\u0275\u0275attribute("target",r.target)("href",r.href,u.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),Ax=(()=>{class n{constructor(t,r,i,l,d,g){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=d,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.EventEmitter,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ug&&this.update()})}ngAfterContentInit(){rt(this.links.changes,this.linksWithHrefs.changes,rt(null)).pipe((0,Rs.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,$t.D)(t).pipe((0,Rs.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function KV(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(WA,8),u.\u0275\u0275directiveInject(dg,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.\u0275\u0275contentQuery(i,WA,5),u.\u0275\u0275contentQuery(i,dg,5)),2&t){let l;u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.links=l),u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();class Nx{}let QV=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof ug),og(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.createEnvironmentInjector)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,g=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,$t.D)(i).pipe((0,Rs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const l=i.pipe((0,Wt.z)(d=>null===d?rt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,$t.D)([l,d]).pipe((0,Rs.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Vr),u.\u0275\u0275inject(u.Compiler),u.\u0275\u0275inject(u.EnvironmentInjector),u.\u0275\u0275inject(Nx),u.\u0275\u0275inject(GA))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zA=new u.InjectionToken("");let Mx=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof AA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ug&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof QR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new QR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function U_(n,e){return{\u0275kind:n,\u0275providers:e}}function qA(n){return[{provide:HA,multi:!0,useValue:n}]}function Rx(){const n=(0,u.inject)(u.Injector);return e=>{const t=n.get(u.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Vr),i=n.get(xx);1===n.get(ZA)&&r.initialNavigation(),n.get(kx,null,u.InjectFlags.Optional)?.setUpPreloading(),n.get(zA,null,u.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const xx=new u.InjectionToken("",{factory:()=>new Zt.x}),ZA=new u.InjectionToken("",{providedIn:"root",factory:()=>1});const kx=new u.InjectionToken("");function eB(n){return U_(0,[{provide:kx,useExisting:QV},{provide:Nx,useExisting:n}])}const Px=new u.InjectionToken("ROUTER_FORROOT_GUARD"),tB=[I.Location,{provide:BR,useClass:wA},{provide:Vr,useFactory:Tx},ib,{provide:_d,useFactory:function Ox(n){return n.routerState.root},deps:[Vr]},GA];function nB(){return new u.NgProbeToken("Router",Vr)}let Fx=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tB,[],qA(t),{provide:Px,useFactory:oB,deps:[[Vr,new u.Optional,new u.SkipSelf]]},{provide:gC,useValue:r||{}},r?.useHash?{provide:I.LocationStrategy,useClass:I.HashLocationStrategy}:{provide:I.LocationStrategy,useClass:I.PathLocationStrategy},{provide:zA,useFactory:()=>{const n=(0,u.inject)(Vr),e=(0,u.inject)(I.ViewportScroller),t=(0,u.inject)(gC);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mx(n,e,t)}},r?.preloadingStrategy?eB(r.preloadingStrategy).\u0275providers:[],{provide:u.NgProbeToken,multi:!0,useFactory:nB},r?.initialNavigation?aB(r):[],[{provide:Lx,useFactory:Rx},{provide:u.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Lx}]]}}static forChild(t){return{ngModule:n,providers:[qA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Px,8))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[FA]}),n})();function oB(n){return"guarded"}function aB(n){return["disabled"===n.initialNavigation?U_(3,[{provide:u.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,u.inject)(Vr);return()=>{e.setUpLocationChangeListener()}}},{provide:ZA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?U_(2,[{provide:ZA,useValue:0},{provide:u.APP_INITIALIZER,multi:!0,deps:[u.Injector],useFactory:e=>{const t=e.get(I.LOCATION_INITIALIZED,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Vr),g=e.get(xx);(function i(l){e.get(Vr).events.pipe(ir(g=>g instanceof ug||g instanceof sC||g instanceof KR),(0,Ue.U)(g=>g instanceof ug||g instanceof sC&&(0===g.code||1===g.code)&&null),ir(g=>null!==g),kn(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||g.closed?rt(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const Lx=new u.InjectionToken("");let vC=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(_A))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),cB=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(vC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","w-100"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","w-100",3,"click"],[1,"fas","fa-check"],["id","configuracion"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),u.\u0275\u0275element(12,"i",8),u.\u0275\u0275text(13," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(14,"div",6)(15,"button",9),u.\u0275\u0275listener("click",function(){return r.guardar()}),u.\u0275\u0275element(16,"i",10),u.\u0275\u0275text(17,"Guardar cambios "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(18,"section",11)(19,"div",1)(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h4"),u.\u0275\u0275text(25,"Editar Configuraci\xf3n"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(26,"div",15)(27,"fieldset",16)(28,"legend"),u.\u0275\u0275text(29,"Permitir registro de usuarios"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"div",17)(31,"label",18)(32,"input",19),u.\u0275\u0275listener("ngModelChange",function(l){return r.permitirRegistro=l}),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd()()()()()()()()()),2&t&&(u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1("",r.permitirRegistro?"Si":"No"," "))},dependencies:[dg,fs,Hr,no]}),n})(),KA=(()=>{class n{constructor(t){this.db=t,this.mascotaColeccion=t.collection("mascotas",r=>r.orderBy("created_at","asc"))}getMascotas(){return this.mascotas=this.mascotaColeccion.snapshotChanges().pipe((0,Ue.U)(t=>t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i}))),this.mascotas}agregarMascota(t){this.mascotaColeccion.add(t)}getMascota(t){return this.mascotaDoc=this.db.doc(`mascotas/${t}`),this.mascota=this.mascotaDoc.snapshotChanges().pipe((0,Ue.U)(r=>{if(!1===r.payload.exists)return null;{const i=r.payload.data();return i.id=r.payload.id,i}})),this.mascota}modificarMascota(t){this.mascotaDoc=this.db.doc(`mascotas/${t.id}`),this.mascotaDoc.update(t)}eliminarMascota(t){this.mascotaDoc=this.db.doc(`mascotas/${t.id}`),this.mascotaDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(_A))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const bC=function(n){return{"is-invalid":n}};let uB=(()=>{class n{constructor(t,r,i,l){this.mascotasServicio=t,this.flashMessages=r,this.router=i,this.route=l,this.mascota={nombre:"",tipo:"",enfermedades:"",edad:0,updated_at:new Date}}ngOnInit(){this.id=this.route.snapshot.params.id,this.mascotasServicio.getMascota(this.id).subscribe(t=>{this.mascota=t})}guardar({value:t,valid:r}){r?(t.id=this.id,t.updated_at=new Date,this.mascotasServicio.modificarMascota(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(KA),u.\u0275\u0275directiveInject(rf.GQ),u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(_d))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-mascotas"]],decls:63,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["mascotaForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","tipo","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["tipo","ngModel"],["type","enfermedades","name","enfermedades","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["enfermedades","ngModel"],["type","number","name","edad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["edad","ngModel"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Editar Mascota"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"form",5,6),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(8);return u.\u0275\u0275resetView(r.guardar(d.form))}),u.\u0275\u0275elementStart(9,"section",7)(10,"div",1)(11,"div",2)(12,"div",8)(13,"a",9),u.\u0275\u0275element(14,"i",10),u.\u0275\u0275text(15," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(16,"div",8)(17,"button",11),u.\u0275\u0275element(18,"i",12),u.\u0275\u0275text(19," Guardar mascota "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(20,"section",13)(21,"div",1)(22,"div",2)(23,"div",14)(24,"div",15)(25,"div",16)(26,"h1"),u.\u0275\u0275text(27,"Editmascota"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(28,"div",17)(29,"div",18)(30,"label",19),u.\u0275\u0275text(31,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(32,"input",20,21),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.nombre=d}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(34,"div",22),u.\u0275\u0275text(35," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(36,"div",22),u.\u0275\u0275text(37," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(38,"div",18)(39,"label",19),u.\u0275\u0275text(40,"tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"input",23,24),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.tipo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(43,"div",22),u.\u0275\u0275text(44," tipo requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(45,"div",22),u.\u0275\u0275text(46," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(47,"div",18)(48,"label",19),u.\u0275\u0275text(49,"enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(50,"input",25,26),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.enfermedades=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(52,"div",22),u.\u0275\u0275text(53," Enfermedades requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(54,"div",22),u.\u0275\u0275text(55," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(56,"div",18)(57,"label",19),u.\u0275\u0275text(58,"edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(59,"input",27,28),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.edad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(61,"div",22),u.\u0275\u0275text(62," edad requerido "),u.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(33),l=u.\u0275\u0275reference(42),d=u.\u0275\u0275reference(51),g=u.\u0275\u0275reference(60);u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.mascota.nombre)("ngClass",u.\u0275\u0275pureFunction1(15,bC,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.tipo)("ngClass",u.\u0275\u0275pureFunction1(17,bC,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.enfermedades)("ngClass",u.\u0275\u0275pureFunction1(19,bC,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.edad)("ngClass",u.\u0275\u0275pureFunction1(21,bC,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,dg,ko,ks,_s,Hr,Js,Zi,ca,no,Rr]}),n})(),DC=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((i,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}getAuth(){return this.authService.authState.pipe((0,Ue.U)(t=>t))}logout(){this.authService.signOut()}registrarse(t,r){return new Promise((i,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(K0))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),dB=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(rf.GQ),u.\u0275\u0275directiveInject(DC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","w-100"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Login "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Login"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.login()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[ko,ks,Hr,Js,Zi,no,Rr,rf.cS]}),n})(),hB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"p"),u.\u0275\u0275text(1,"no-encontrado works!"),u.\u0275\u0275elementEnd())}}),n})(),fB=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(rf.GQ),u.\u0275\u0275directiveInject(DC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Registrarse",1,"btn","btn-primary","w-100"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Registro "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Registro"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.registro()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[ko,ks,Hr,Js,Zi,no,Rr,rf.cS]}),n})();const pB=(0,BO.d)(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function mB(n){throw new pB(n)}const _B=["mascotaForm"],yB=["botonCerrar"];function vB(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"tr")(1,"td"),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275text(6),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(7,"td"),u.\u0275\u0275text(8),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"td"),u.\u0275\u0275text(10),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"td"),u.\u0275\u0275text(12),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(13,"td"),u.\u0275\u0275text(14),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"td")(16,"a",36),u.\u0275\u0275element(17,"i",37),u.\u0275\u0275text(18," Editar "),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(19," | "),u.\u0275\u0275elementStart(20,"a",38),u.\u0275\u0275listener("click",function(){const l=u.\u0275\u0275restoreView(t).$implicit,d=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(d.eliminar(l))}),u.\u0275\u0275element(21,"i",39),u.\u0275\u0275text(22," Eliminar "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(23,"td"),u.\u0275\u0275elementEnd()}if(2&n){const t=e.$implicit,r=e.index;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("",t.nombre," "),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.tipo),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("",t.enfermedades," "),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.edad),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1(" ",t.created_at," "),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1(" ",t.updated_at," "),u.\u0275\u0275advance(2),u.\u0275\u0275propertyInterpolate1("routerLink","/mascota/editar/",t.id,"")}}const wC=function(n){return{"is-invalid":n}};let bB=(()=>{class n{constructor(t,r,i){this.mascotasServicio=t,this.flashMessages=r,this.route=i,this.mascota={nombre:"",tipo:"",enfermedades:"",edad:0,created_at:new Date,updated_at:new Date}}ngOnInit(){this.mascotasServicio.getMascotas().subscribe(t=>{this.mascotas=t,function gB(n,e){const{first:t,each:r,with:i=mB,scheduler:l=e??Ks.z,meta:d=null}=As(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==r)throw new TypeError("No timeout provided.");(0,nr.e)((g,_)=>{let w,N,k=null,$=0;const K=oe=>{N=(0,Qo.f)(_,l,()=>{try{w.unsubscribe(),(0,vr.Xf)(i({meta:d,lastValue:k,seen:$})).subscribe(_)}catch(we){_.error(we)}},oe)};w=g.subscribe((0,cn.x)(_,oe=>{N?.unsubscribe(),$++,_.next(k=oe),r>0&&K(r)},void 0,void 0,()=>{N?.closed||N?.unsubscribe(),k=null})),!$&&K(null!=t?"number"==typeof t?t:+t-l.now():r)})}(3e3);for(let r=0;r<t.length;r++){let i=this.mascotas[r].created_at?.toString(),l=this.mascotas[r].updated_at?.toString(),d=i[18],g=i[18];for(let N=19;N<28;N++)d+=i[N],g+=l[N];let _=new Date(1e3*+d),w=new Date(1e3*+g);this.mascotas[r].created_at=_.toLocaleDateString()+" "+_.toLocaleTimeString(),this.mascotas[r].updated_at=w.toLocaleDateString()+" "+w.toLocaleTimeString()}})}eliminar(t){confirm("\xbfSeguro que desea eliminar la mascota?")&&(this.mascotasServicio.eliminarMascota(t),this.router.navigate(["/"]))}agregar({value:t,valid:r}){r?(t.created_at=new Date,t.updated_at=new Date,this.mascotasServicio.agregarMascota(t),this.mascotaForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(KA),u.\u0275\u0275directiveInject(rf.GQ),u.\u0275\u0275directiveInject(_d))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-mascotas"]],viewQuery:function(t,r){if(1&t&&(u.\u0275\u0275viewQuery(_B,5),u.\u0275\u0275viewQuery(yB,5)),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.mascotaForm=i.first),u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.botonCerrar=i.first)}},decls:85,vars:24,consts:[["id","actions",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarmascotaModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","mascotas"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["id","agregarmascotaModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["mascotaForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","tipo","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["tipo","ngModel"],["type","enfermedades","name","enfermedades","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["enfermedades","ngModel"],["type","number","name","edad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["edad","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u.\u0275\u0275element(5,"i",5),u.\u0275\u0275text(6," Agregar Mascota "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4"),u.\u0275\u0275text(14,"Listado de mascotas"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(15,"table",10)(16,"thead",11)(17,"tr")(18,"th"),u.\u0275\u0275text(19,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"th"),u.\u0275\u0275text(21,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th"),u.\u0275\u0275text(23,"Tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"th"),u.\u0275\u0275text(25,"Enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(26,"th"),u.\u0275\u0275text(27,"Edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"th"),u.\u0275\u0275text(29,"Creacion"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"th"),u.\u0275\u0275text(31,"Actualizacion"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(32,"tbody"),u.\u0275\u0275template(33,vB,24,8,"tr",12),u.\u0275\u0275elementEnd()()()()()()(),u.\u0275\u0275elementStart(34,"div",13)(35,"div",14)(36,"div",15)(37,"div",16)(38,"h5",17),u.\u0275\u0275text(39,"Agregar mascota"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(40,"button",18,19)(42,"span"),u.\u0275\u0275text(43,"\xd7"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275element(44,"flash-messages"),u.\u0275\u0275elementStart(45,"form",20,21),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(46);return u.\u0275\u0275resetView(r.agregar(d.form))}),u.\u0275\u0275elementStart(47,"div",22)(48,"div",23)(49,"label",24),u.\u0275\u0275text(50,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(51,"input",25,26),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.nombre=d}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(53,"div",27),u.\u0275\u0275text(54," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"div",27),u.\u0275\u0275text(56," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(57,"div",23)(58,"label",24),u.\u0275\u0275text(59,"tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(60,"input",28,29),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.tipo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(62,"div",27),u.\u0275\u0275text(63," tipo requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(64,"div",27),u.\u0275\u0275text(65," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(66,"div",23)(67,"label",24),u.\u0275\u0275text(68,"enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(69,"input",30,31),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.enfermedades=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(71,"div",27),u.\u0275\u0275text(72," Enfermedades requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(73,"div",27),u.\u0275\u0275text(74," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(75,"div",23)(76,"label",24),u.\u0275\u0275text(77,"edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(78,"input",32,33),u.\u0275\u0275listener("ngModelChange",function(d){return r.mascota.edad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(80,"div",27),u.\u0275\u0275text(81," edad requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(82,"div",34)(83,"button",35),u.\u0275\u0275text(84,"Guardar"),u.\u0275\u0275elementEnd()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(52),l=u.\u0275\u0275reference(61),d=u.\u0275\u0275reference(70),g=u.\u0275\u0275reference(79);u.\u0275\u0275advance(33),u.\u0275\u0275property("ngForOf",r.mascotas),u.\u0275\u0275advance(18),u.\u0275\u0275property("ngModel",r.mascota.nombre)("ngClass",u.\u0275\u0275pureFunction1(16,wC,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.tipo)("ngClass",u.\u0275\u0275pureFunction1(18,wC,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.enfermedades)("ngClass",u.\u0275\u0275pureFunction1(20,wC,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.mascota.edad)("ngClass",u.\u0275\u0275pureFunction1(22,wC,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,I.NgForOf,dg,ko,ks,_s,Hr,Js,Zi,ca,no,Rr,rf.cS]}),n})(),DB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:7,vars:0,consts:[["id","main-header",1,"py-2","bg-success","text-white"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3),u.\u0275\u0275element(4,"i",4),u.\u0275\u0275text(5,"Control de Mascotas "),u.\u0275\u0275elementEnd()()()(),u.\u0275\u0275element(6,"app-mascotas"))},dependencies:[bB]}),n})(),IC=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,Ue.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Vr),u.\u0275\u0275inject(K0))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Vx=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,Ue.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Vr),u.\u0275\u0275inject(vC))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const wB=[{path:"",component:DB,canActivate:[IC]},{path:"login",component:dB},{path:"registrarse",component:fB,canActivate:[Vx]},{path:"configuracion",component:cB,canActivate:[IC]},{path:"mascota/editar/:id",component:uB,canActivate:[IC]},{path:"**",component:hB}];let IB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Fx.forRoot(wB),Lo,Fx]}),n})();function CB(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",11)(1,"a",12),u.\u0275\u0275text(2,"Inicio"),u.\u0275\u0275elementEnd()())}function EB(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",13)(1,"a",14),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div",16)(5,"a",17),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(6,"i",18),u.\u0275\u0275text(7,"Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275attribute("aria-expanded",!t.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngbCollapse",t.isDropdownCollapsed)}}function TB(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",20),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Login "),u.\u0275\u0275elementEnd()())}function SB(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",21),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3,"Registro "),u.\u0275\u0275elementEnd()())}function AB(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",19)(1,"a",22),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.logout())}),u.\u0275\u0275element(2,"i",23),u.\u0275\u0275text(3,"Salir "),u.\u0275\u0275elementEnd()()}}let NB=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.configuracionServicio=i,this.isCollapsed=!0,this.isDropdownCollapsed=!0}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isLoggedIn=!0,this.loggedInUser=t.email):this.isLoggedIn=!1}),this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logout(){this.loginService.logout(),this.isLoggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(DC),u.\u0275\u0275directiveInject(Vr),u.\u0275\u0275directiveInject(vC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:14,vars:7,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","aria-controls","navbarCollapse",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item px-2",4,"ngIf"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["aria-controls","dropdownCollapse",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-user"],["id","dropdownCollapse",1,"dropdown-menu",3,"ngbCollapse"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["routerLink","/registrarse","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),u.\u0275\u0275text(3,"Control mascotas"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",3),u.\u0275\u0275listener("click",function(){return r.isCollapsed=!r.isCollapsed}),u.\u0275\u0275element(5,"span",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5)(7,"ul",6),u.\u0275\u0275template(8,CB,3,0,"li",7),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"ul",8),u.\u0275\u0275template(10,EB,8,3,"li",9),u.\u0275\u0275template(11,TB,4,0,"li",10),u.\u0275\u0275template(12,SB,4,0,"li",10),u.\u0275\u0275template(13,AB,4,0,"li",10),u.\u0275\u0275elementEnd()()()()),2&t&&(u.\u0275\u0275advance(4),u.\u0275\u0275attribute("aria-expanded",!r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngbCollapse",r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedIn))},dependencies:[I.NgIf,dg,Ax,zf,Ny]}),n})(),MB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-info","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),u.\u0275\u0275text(5," Copyright \xa9 Control mascotas - Zaira "),u.\u0275\u0275elementEnd()()()()())}}),n})(),OB=(()=>{class n{constructor(){this.title="control-mascotas"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[PA,NB,MB]}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n,bootstrap:[OB]}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[KA,DC,IC,vC,Vx],imports:[os,IB,Lo,ih,Ji.hO.initializeApp(ku_firestore,"control-mascotas"),GL,FL,rf.qz.forRoot()]}),n})();(0,u.enableProdMode)(),oi().bootstrapModule(RB).catch(n=>console.error(n))},5867:(mt,Ee,V)=>{"use strict";V.d(Ee,{C6:()=>I.getApps,Mq:()=>I.getApp});var I=V(9681);(0,I.registerVersion)("firebase","9.13.0","app")},127:(mt,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>I.Z});var I=V(3942);I.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(mt,Ee,V)=>{"use strict";V.r(Ee);var I=V(5861),u=V(3942),B=V(2090),ae=V(9681),ie=V(1877),fe=V(655),ve=V(4859);const le=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new ie.Yd("@firebase/auth");function it(y,...f){Ye.logLevel<=ie.in.ERROR&&Ye.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function xe(y,...f){throw Je(y,...f)}function Se(y,...f){return Je(y,...f)}function Re(y,f,m){const b=Object.assign(Object.assign({},He()),{[f]:m});return new B.LL("auth","Firebase",b).create(f,{appName:y.name})}function Ke(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&xe(y,"argument-error"),Re(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ge.create(y,...f)}function q(y,f,...m){if(!y)throw Je(f,...m)}function Te(y){const f="INTERNAL ASSERTION FAILED: "+y;throw it(f),new Error(f)}function X(y,f){y||Te(f)}const re=new Map;function he(y){X(y instanceof Function,"Expected a class definition");let f=re.get(y);return f?(X(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,re.set(y,f),f)}function Ge(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function vt(){return"http:"===on()||"https:"===on()}function on(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class _n{constructor(f,m){this.shortDelay=f,this.longDelay=m,X(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,f){X(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class an{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ar=new _n(3e4,6e4);function jt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Dn(y,f,m,b){return ss.apply(this,arguments)}function ss(){return(ss=(0,I.Z)(function*(y,f,m,b,O={}){return ii(y,O,(0,I.Z)(function*(){let L={},J={};b&&("GET"===f?J=b:L={body:JSON.stringify(b)});const Ie=(0,B.xO)(Object.assign({key:y.config.apiKey},J)).slice(1),Ze=yield y._getAdditionalHeaders();return Ze["Content-Type"]="application/json",y.languageCode&&(Ze["X-Firebase-Locale"]=y.languageCode),an.fetch()(yi(y,y.config.apiHost,m,Ie),Object.assign({method:f,headers:Ze,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ii(y,f,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,I.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},ln),f);try{const O=new Br(y),L=yield Promise.race([m(),O.promise]);O.clearNetworkTimeout();const J=yield L.json();if("needConfirmation"in J)throw oi(y,"account-exists-with-different-credential",J);if(L.ok&&!("errorMessage"in J))return J;{const Ie=L.ok?J.errorMessage:J.error.message,[Ze,pt]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw oi(y,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ze)throw oi(y,"email-already-in-use",J);if("USER_DISABLED"===Ze)throw oi(y,"user-disabled",J);const Nt=b[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Re(y,Nt,pt);xe(y,Nt)}}catch(O){if(O instanceof B.ZR)throw O;xe(y,"network-request-failed")}})).apply(this,arguments)}function si(y,f,m,b){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,I.Z)(function*(y,f,m,b,O={}){const L=yield Dn(y,f,m,b,O);return"mfaPendingCredential"in L&&xe(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function yi(y,f,m,b){const O=`${f}${m}?${b}`;return y.config.emulator?Mn(y.config,O):`${y.config.apiScheme}://${O}`}class Br{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Se(this.auth,"network-request-failed")),Ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const O=Se(y,f,b);return O.customData._tokenResponse=m,O}function ot(){return(ot=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Nr(y,f){return os.apply(this,arguments)}function os(){return(os=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mr(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function as(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ut(){return(Ut=(0,I.Z)(function*(y,f=!1){const m=(0,B.m9)(y),b=yield m.getIdToken(f),O=wt(b);q(O&&O.exp&&O.auth_time&&O.iat,m.auth,"internal-error");const L="object"==typeof O.firebase?O.firebase:void 0,J=L?.sign_in_provider;return{claims:O,token:b,authTime:as(Tt(O.auth_time)),issuedAtTime:as(Tt(O.iat)),expirationTime:as(Tt(O.exp)),signInProvider:J||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(y){return 1e3*Number(y)}function wt(y){var f;const[m,b,O]=y.split(".");if(void 0===m||void 0===b||void 0===O)return it("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(b);return L?JSON.parse(L):(it("Failed to decode base64 JWT payload"),null)}catch(L){return it("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function _r(y,f){return On.apply(this,arguments)}function On(){return(On=(0,I.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof B.ZR&&li(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function li({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Vt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const O=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,I.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,I.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Ti{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=as(this.lastLoginAt),this.creationTime=as(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function un(y){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,I.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),O=yield _r(y,mr(m,{idToken:b}));q(O?.users.length,m,"internal-error");const L=O.users[0];y._notifyReloadListener(L);const J=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?gt(L.providerUserInfo):[],Ie=jr(y.providerData,J),Nt=!!y.isAnonymous&&!(y.email&&L.passwordHash||Ie?.length),St={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ie,metadata:new Ti(L.createdAt,L.lastLoginAt),isAnonymous:Nt};Object.assign(y,St)})).apply(this,arguments)}function yr(){return(yr=(0,I.Z)(function*(y){const f=(0,B.m9)(y);yield un(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function jr(y,f){return[...y.filter(b=>!f.some(O=>O.providerId===b.providerId)),...f]}function gt(y){return y.map(f=>{var{providerId:m}=f,b=(0,fe._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ft(){return(ft=(0,I.Z)(function*(y,f){const m=yield ii(y,{},(0,I.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:O,apiKey:L}=y.config,J=yi(y,O,"/v1/token",`key=${L}`),Ie=yield y._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",an.fetch()(J,{method:"POST",headers:Ie,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(typeof f.idToken<"u","internal-error"),q(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function yn(y){const f=wt(y);return q(f,"internal-error"),q(typeof f.exp<"u","internal-error"),q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,I.Z)(function*(){return q(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,I.Z)(function*(){const{accessToken:O,refreshToken:L,expiresIn:J}=yield function Le(y,f){return ft.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(O,L,Number(J))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:O,expirationTime:L}=m,J=new kt;return b&&(q("string"==typeof b,"internal-error",{appName:f}),J.refreshToken=b),O&&(q("string"==typeof O,"internal-error",{appName:f}),J.accessToken=O),L&&(q("number"==typeof L,"internal-error",{appName:f}),J.expirationTime=L),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return Te("not implemented")}}function Mt(y,f){q("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Gt{constructor(f){var{uid:m,auth:b,stsTokenManager:O}=f,L=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ti(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,I.Z)(function*(){const b=yield _r(m,m.stsTokenManager.getToken(m.auth,f));return q(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Un(y){return Ut.apply(this,arguments)}(this,f)}reload(){return function gn(y){return yr.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Gt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,I.Z)(function*(){let O=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),O=!0),m&&(yield un(b)),yield b.auth._persistUserIfCurrent(b),O&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,I.Z)(function*(){const m=yield f.getIdToken();return yield _r(f,function qs(y,f){return ot.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,O,L,J,Ie,Ze,pt,Nt;const St=null!==(b=m.displayName)&&void 0!==b?b:void 0,kr=null!==(O=m.email)&&void 0!==O?O:void 0,Ds=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Gd=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Zg=null!==(Ie=m.tenantId)&&void 0!==Ie?Ie:void 0,Nu=null!==(Ze=m._redirectEventId)&&void 0!==Ze?Ze:void 0,Kg=null!==(pt=m.createdAt)&&void 0!==pt?pt:void 0,Qg=null!==(Nt=m.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Yg,emailVerified:ny,isAnonymous:ry,providerData:kf,stsTokenManager:Pf}=m;q(Yg&&Pf,f,"internal-error");const Ff=kt.fromJSON(this.name,Pf);q("string"==typeof Yg,f,"internal-error"),Mt(St,f.name),Mt(kr,f.name),q("boolean"==typeof ny,f,"internal-error"),q("boolean"==typeof ry,f,"internal-error"),Mt(Ds,f.name),Mt(Gd,f.name),Mt(Zg,f.name),Mt(Nu,f.name),Mt(Kg,f.name),Mt(Qg,f.name);const Wd=new Gt({uid:Yg,auth:f,email:kr,emailVerified:ny,displayName:St,isAnonymous:ry,photoURL:Gd,phoneNumber:Ds,tenantId:Zg,stsTokenManager:Ff,createdAt:Kg,lastLoginAt:Qg});return kf&&Array.isArray(kf)&&(Wd.providerData=kf.map(Jg=>Object.assign({},Jg))),Nu&&(Wd._redirectEventId=Nu),Wd}static _fromIdTokenResponse(f,m,b=!1){return(0,I.Z)(function*(){const O=new kt;O.updateFromServerResponse(m);const L=new Gt({uid:m.localId,auth:f,stsTokenManager:O,isAnonymous:b});return yield un(L),L})()}}const W=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(m,b){var O=this;return(0,I.Z)(function*(){O.storage[m]=b})()}_get(m){var b=this;return(0,I.Z)(function*(){const O=b.storage[m];return void 0===O?null:O})()}_remove(m){var b=this;return(0,I.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function ee(y,f,m){return`firebase:${y}:${f}:${m}`}class Me{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:O,name:L}=this.auth;this.fullUserKey=ee(this.userKey,O.apiKey,L),this.fullPersistenceKey=ee("persistence",O.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,I.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Gt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,I.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,I.Z)(function*(){if(!m.length)return new Me(he(W),f,b);const O=(yield Promise.all(m.map(function(){var pt=(0,I.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let L=O[0]||he(W);const J=ee(b,f.config.apiKey,f.name);let Ie=null;for(const pt of m)try{const Nt=yield pt._get(J);if(Nt){const St=Gt._fromJSON(f,Nt);pt!==L&&(Ie=St),L=pt;break}}catch{}const Ze=O.filter(pt=>pt._shouldAllowMigration);return L._shouldAllowMigration&&Ze.length?(L=Ze[0],Ie&&(yield L._set(J,Ie.toJSON())),yield Promise.all(m.map(function(){var pt=(0,I.Z)(function*(Nt){if(Nt!==L)try{yield Nt._remove(J)}catch{}});return function(Nt){return pt.apply(this,arguments)}}())),new Me(L,f,b)):new Me(L,f,b)})()}}function ne(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Rn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Xe(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(je(f))return"Blackberry";if(qe(f))return"Webos";if(Ct(f))return"Safari";if((f.includes("chrome/")||fn(f))&&!f.includes("edge/"))return"Chrome";if(dn(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Xe(y=(0,B.z$)()){return/firefox\//i.test(y)}function Ct(y=(0,B.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function fn(y=(0,B.z$)()){return/crios\//i.test(y)}function Rn(y=(0,B.z$)()){return/iemobile/i.test(y)}function dn(y=(0,B.z$)()){return/android/i.test(y)}function je(y=(0,B.z$)()){return/blackberry/i.test(y)}function qe(y=(0,B.z$)()){return/webos/i.test(y)}function Pt(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vr(y=(0,B.z$)()){return Pt(y)||dn(y)||qe(y)||je(y)||/windows phone/i.test(y)||Rn(y)}function ls(y,f=[]){let m;switch(y){case"Browser":m=ne((0,B.z$)());break;case"Worker":m=`${ne((0,B.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class Mr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=L=>new Promise((J,Ie)=>{try{J(f(L))}catch(Ze){Ie(Ze)}});b.onAbort=m,this.queue.push(b);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,I.Z)(function*(){var b;if(m.auth.currentUser===f)return;const O=[];try{for(const L of m.queue)yield L(f),L.onAbort&&O.push(L.onAbort)}catch(L){O.reverse();for(const J of O)try{J()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class Ue{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=he(m)),this._initializationPromise=this.queue((0,I.Z)(function*(){var O,L;if(!b._deleted&&(b.persistenceManager=yield Me.create(b,f),!b._deleted)){if(null!==(O=b._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,I.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,I.Z)(function*(){var b;const O=yield m.assertedPersistence.getCurrentUser();let L=O,J=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ie=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ze=L?._redirectEventId,pt=yield m.tryRedirectSignIn(f);(!Ie||Ie===Ze)&&pt?.user&&(L=pt.user,J=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(L)}catch(Ie){L=O,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ie))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,I.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,I.Z)(function*(){var b;try{yield un(f)}catch(O){if("auth/network-request-failed"!==(null===(b=O)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function nt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,I.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,I.Z)(function*(){const b=f?(0,B.m9)(f):null;return b&&q(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,I.Z)(function*(){if(!b._deleted)return f&&q(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,I.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,I.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,I.Z)(function*(){yield m.assertedPersistence.setPersistence(he(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,I.Z)(function*(){const O=yield b.getOrInitRedirectPersistenceManager(m);return null===f?O.removeCurrentUser():O.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,I.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&he(f)||m._popupRedirectResolver;q(b,m,"argument-error"),m.redirectPersistenceManager=yield Me.create(m,[he(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,I.Z)(function*(){var b,O;return m._isInitialized&&(yield m.queue((0,I.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(O=m.redirectUser)||void 0===O?void 0:O._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,I.Z)(function*(){if(f===m.currentUser)return m.queue((0,I.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,O){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return q(J,this,"internal-error"),J.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,b,O):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,I.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ls(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,I.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const O=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return O&&(b["X-Firebase-Client"]=O),b})()}}function Vn(y){return(0,B.m9)(y)}class Zs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function cs(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class cr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Te("not implemented")}_getIdTokenResponse(f){return Te("not implemented")}_linkToIdToken(f,m){return Te("not implemented")}_getReauthenticationResolver(f){return Te("not implemented")}}function Qn(y,f){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:resetPassword",jt(y,f))})).apply(this,arguments)}function wn(y,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _l(y,f){return As.apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:update",jt(y,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithPassword",jt(y,f))})).apply(this,arguments)}function us(y,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:sendOobCode",jt(y,f))})).apply(this,arguments)}function ur(y,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,I.Z)(function*(y,f){return us(y,f)})).apply(this,arguments)}function rn(y,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,I.Z)(function*(y,f){return us(y,f)})).apply(this,arguments)}function Ko(y,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,I.Z)(function*(y,f){return us(y,f)})).apply(this,arguments)}function Aa(y,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,I.Z)(function*(y,f){return us(y,f)})).apply(this,arguments)}function Os(){return(Os=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,f))})).apply(this,arguments)}function Qo(){return(Qo=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,f))})).apply(this,arguments)}class bo extends cr{constructor(f,m,b,O=null){super("password",b),this._email=f,this._password=m,this._tenantId=O}static _fromEmailAndPassword(f,m){return new bo(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new bo(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return function Ns(y,f){return Ms.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function pc(y,f){return Os.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:xe(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,I.Z)(function*(){switch(b.signInMethod){case"password":return wn(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function yl(y,f){return Qo.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:xe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function dr(y,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithIdp",jt(y,f))})).apply(this,arguments)}class Ui extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ui(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:O}=m,L=(0,fe._T)(m,["providerId","signInMethod"]);if(!b||!O)return null;const J=new Ui(b,O);return J.idToken=L.idToken||void 0,J.accessToken=L.accessToken||void 0,J.secret=L.secret,J.nonce=L.nonce,J.pendingToken=L.pendingToken||null,J}_getIdTokenResponse(f){return dr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function cf(y,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:sendVerificationCode",jt(y,f))})).apply(this,arguments)}function xs(){return(xs=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,f))})).apply(this,arguments)}function Dl(){return(Dl=(0,I.Z)(function*(y,f){const m=yield si(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,f));if(m.temporaryProof)throw oi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const nr={USER_NOT_FOUND:"user-not-found"};function ir(){return(ir=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),nr)})).apply(this,arguments)}class kn extends cr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new kn({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new kn({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Rs(y,f){return xs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Yo(y,f){return Dl.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function rr(y,f){return ir.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:O}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:O}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:O,temporaryProof:L}=f;return b||m||O||L?new kn({verificationId:m,verificationCode:b,phoneNumber:O,temporaryProof:L}):null}}class Na{constructor(f){var m,b,O,L,J,Ie;const Ze=(0,B.zd)((0,B.pd)(f)),pt=null!==(m=Ze.apiKey)&&void 0!==m?m:null,Nt=null!==(b=Ze.oobCode)&&void 0!==b?b:null,St=function ds(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Ze.mode)&&void 0!==O?O:null);q(pt&&Nt&&St,"argument-error"),this.apiKey=pt,this.operation=St,this.code=Nt,this.continueUrl=null!==(L=Ze.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(J=Ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ie=Ze.tenantId)&&void 0!==Ie?Ie:null}static parseLink(f){const m=function wo(y){const f=(0,B.zd)((0,B.pd)(y)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||f||y}(f);try{return new Na(m)}catch{return null}}}let Sn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return bo._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const O=Na.parseLink(b);return q(O,"argument-error"),bo._fromEmailAndCode(m,O.code,O.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ci{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $i extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class hs extends $i{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return q("providerId"in m&&"signInMethod"in m,"argument-error"),Ui._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Ui._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return hs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return hs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:O,pendingToken:L,nonce:J,providerId:Ie}=f;if(!b&&!O&&!m&&!L||!Ie)return null;try{return new hs(Ie)._credential({idToken:m,accessToken:b,nonce:J,pendingToken:L})}catch{return null}}}let Io=(()=>{class y extends $i{constructor(){super("facebook.com")}static credential(m){return Ui._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ma=(()=>{class y extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ui._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:O}=m;if(!b&&!O)return null;try{return y.credential(b,O)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Oa=(()=>{class y extends $i{constructor(){super("github.com")}static credential(m){return Ui._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Co extends cr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return dr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:O,pendingToken:L}=m;return b&&O&&L&&b===O?new Co(b,L):null}static _create(f,m){return new Co(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hn extends ci{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Hn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Hn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Co.fromJSON(f);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Co._create(b,m)}catch{return null}}}let Yr=(()=>{class y extends $i{constructor(){super("twitter.com")}static credential(m,b){return Ui._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:O}=m;if(!b||!O)return null;try{return y.credential(b,O)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function fs(y,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signUp",jt(y,f))})).apply(this,arguments)}class $r{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,O=!1){return(0,I.Z)(function*(){const L=yield Gt._fromIdTokenResponse(f,b,O),J=gc(b);return new $r({user:L,providerId:J,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,I.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const O=gc(b);return new $r({user:f,providerId:O,_tokenResponse:b,operationType:m})})()}}function gc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Gn(){return(Gn=(0,I.Z)(function*(y){var f;const m=Vn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new $r({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield fs(m,{returnSecureToken:!0}),O=yield $r._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(O.user),O})).apply(this,arguments)}class Si extends B.ZR{constructor(f,m,b,O){var L;super(m.code,m.message),this.operationType=b,this.user=O,Object.setPrototypeOf(this,Si.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,O){return new Si(f,m,b,O)}}function mc(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Si._fromErrorAndOperation(y,L,f,b):L})}function An(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Jo(){return(Jo=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y);yield tn(!0,m,f);const{providerUserInfo:b}=yield Nr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),O=An(b||[]);return m.providerData=m.providerData.filter(L=>O.has(L.providerId)),O.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Xo(y,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,I.Z)(function*(y,f,m=!1){const b=yield _r(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return $r._forOperation(y,"link",b)})).apply(this,arguments)}function tn(y,f,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,I.Z)(function*(y,f,m){yield un(f);const O=!1===y?"provider-already-linked":"no-such-provider";q(An(f.providerData).has(m)===y,f.auth,O)})).apply(this,arguments)}function Ps(y,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,I.Z)(function*(y,f,m=!1){var b;const{auth:O}=y,L="reauthenticate";try{const J=yield _r(y,mc(O,L,f,y),m);q(J.idToken,O,"internal-error");const Ie=wt(J.idToken);q(Ie,O,"internal-error");const{sub:Ze}=Ie;return q(y.uid===Ze,O,"user-mismatch"),$r._forOperation(y,L,J)}catch(J){throw"auth/user-not-found"===(null===(b=J)||void 0===b?void 0:b.code)&&xe(O,"user-mismatch"),J}})).apply(this,arguments)}function bi(y,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,I.Z)(function*(y,f,m=!1){const b="signIn",O=yield mc(y,b,f),L=yield $r._fromIdTokenResponse(y,b,O);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Bn(y,f){return At.apply(this,arguments)}function At(){return(At=(0,I.Z)(function*(y,f){return bi(Vn(y),f)})).apply(this,arguments)}function Qs(y,f){return _c.apply(this,arguments)}function _c(){return(_c=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y);return yield tn(!1,m,f.providerId),Xo(m,f)})).apply(this,arguments)}function To(y,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,I.Z)(function*(y,f){return Ps((0,B.m9)(y),f)})).apply(this,arguments)}function na(y,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,I.Z)(function*(y,f){return si(y,"POST","/v1/accounts:signInWithCustomToken",jt(y,f))})).apply(this,arguments)}function Fs(){return(Fs=(0,I.Z)(function*(y,f){const m=Vn(y),b=yield na(m,{token:f,returnSecureToken:!0}),O=yield $r._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(O.user),O})).apply(this,arguments)}class Pe{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Kt._fromServerResponse(f,m):xe(f,"internal-error")}}class Kt extends Pe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Kt(m)}}function So(y,f,m){var b;q((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),q(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function jn(){return(jn=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),O={requestType:"PASSWORD_RESET",email:f};m&&So(b,O,m),yield rn(b,O)})).apply(this,arguments)}function Gi(){return(Gi=(0,I.Z)(function*(y,f,m){yield Qn((0,B.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function No(){return(No=(0,I.Z)(function*(y,f){yield _l((0,B.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ys(y,f){return br.apply(this,arguments)}function br(){return(br=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y),b=yield Qn(m,{oobCode:f}),O=b.requestType;switch(q(O,m,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,m,"internal-error");default:q(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=Pe._fromServerResponse(Vn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:O}})).apply(this,arguments)}function Il(){return(Il=(0,I.Z)(function*(y,f){const{data:m}=yield Ys((0,B.m9)(y),f);return m.email})).apply(this,arguments)}function Yn(){return(Yn=(0,I.Z)(function*(y,f,m){const b=Vn(y),O=yield fs(b,{returnSecureToken:!0,email:f,password:m}),L=yield $r._fromIdTokenResponse(b,"signIn",O);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),O={requestType:"EMAIL_SIGNIN",email:f};q(m.handleCodeInApp,b,"argument-error"),m&&So(b,O,m),yield Ko(b,O)})).apply(this,arguments)}function Xs(){return(Xs=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),O=Sn.credentialWithLink(f,m||Ge());return q(O._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bn(b,O)})).apply(this,arguments)}function yd(y,f){return yc.apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:createAuthUri",jt(y,f))})).apply(this,arguments)}function xa(){return(xa=(0,I.Z)(function*(y,f){const b={identifier:f,continueUri:vt()?Ge():"http://localhost"},{signinMethods:O}=yield yd((0,B.m9)(y),b);return O||[]})).apply(this,arguments)}function ka(){return(ka=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y),O={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&So(m.auth,O,f);const{email:L}=yield ur(m.auth,O);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function El(){return(El=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&So(b.auth,L,m);const{email:J}=yield Aa(b.auth,L);J!==y.email&&(yield y.reload())})).apply(this,arguments)}function Pa(y,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,I.Z)(function*(y,f){return Dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Sl(){return(Sl=(0,I.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,B.m9)(y),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},J=yield _r(b,Pa(b.auth,L));b.displayName=J.displayName||null,b.photoURL=J.photoUrl||null;const Ie=b.providerData.find(({providerId:Ze})=>"password"===Ze);Ie&&(Ie.displayName=b.displayName,Ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(J)})).apply(this,arguments)}function T(y,f,m){return P.apply(this,arguments)}function P(){return(P=(0,I.Z)(function*(y,f,m){const{auth:b}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const J=yield _r(y,wn(b,L));yield y._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class ue{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class De extends ue{constructor(f,m,b,O){super(f,m,b),this.username=O}}class lt extends ue{constructor(f,m){super(f,"facebook.com",m)}}class nn extends De{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class hn extends ue{constructor(f,m){super(f,"google.com",m)}}class sn extends De{constructor(f,m,b){super(f,"twitter.com",m,b)}}function en(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function H(y){var f,m;if(!y)return null;const{providerId:b}=y,O=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const J=null===(m=null===(f=wt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new ue(L,"anonymous"!==J&&"custom"!==J?J:null)}if(!b)return null;switch(b){case"facebook.com":return new lt(L,O);case"github.com":return new nn(L,O);case"google.com":return new hn(L,O);case"twitter.com":return new sn(L,O,y.screenName||null);case"custom":case"anonymous":return new ue(L,null);default:return new ue(L,b,O)}}(m)}class Ni{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new Ni("enroll",f,m)}static _fromMfaPendingCredential(f){return new Ni("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ni._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Ni._fromIdtoken(f.multiFactorSession.idToken)}return null}}class sa{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Vn(f),O=m.customData._serverResponse,L=(O.mfaInfo||[]).map(Ie=>Pe._fromServerResponse(b,Ie));q(O.mfaPendingCredential,b,"internal-error");const J=Ni._fromMfaPendingCredential(O.mfaPendingCredential);return new sa(J,L,function(){var Ie=(0,I.Z)(function*(Ze){const pt=yield Ze._process(b,J);delete O.mfaInfo,delete O.mfaPendingCredential;const Nt=Object.assign(Object.assign({},O),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(m.operationType){case"signIn":const St=yield $r._fromIdTokenResponse(b,m.operationType,Nt);return yield b._updateCurrentUser(St.user),St;case"reauthenticate":return q(m.user,b,"internal-error"),$r._forOperation(m.user,m.operationType,Nt);default:xe(b,"internal-error")}});return function(Ze){return Ie.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,I.Z)(function*(){return m.signInResolver(f)})()}}function La(y,f){return Dn(y,"POST","/v2/accounts/mfaEnrollment:start",jt(y,f))}class vd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Pe._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new vd(f)}getSession(){var f=this;return(0,I.Z)(function*(){return Ni._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,I.Z)(function*(){const O=f,L=yield b.getSession(),J=yield _r(b.user,O._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(J),b.user.reload()})()}unenroll(f){var m=this;return(0,I.Z)(function*(){var b;const O="string"==typeof f?f:f.uid,L=yield m.user.getIdToken(),J=yield _r(m.user,function uf(y,f){return Dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(y,f))}(m.user.auth,{idToken:L,mfaEnrollmentId:O}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ie})=>Ie!==O),yield m.user._updateTokensIfNecessary(J);try{yield m.user.reload()}catch(Ie){if("auth/user-token-expired"!==(null===(b=Ie)||void 0===b?void 0:b.code))throw Ie}})()}}const Al=new WeakMap,Oo="__sak";class fu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Va=(()=>{class y extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pu(){const y=(0,B.z$)();return Ct(y)||Pt(y)}()&&function Wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const O=this.storage.getItem(b),L=this.localCache[b];O!==L&&m(b,L,O)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ie,Ze,pt)=>{this.notifyListeners(Ie,pt)});const O=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(O);if(m.newValue!==Ie)null!==m.newValue?this.storage.setItem(O,m.newValue):this.storage.removeItem(O);else if(this.localCache[O]===m.newValue&&!b)return}const L=()=>{const Ie=this.storage.getItem(O);!b&&this.localCache[O]===Ie||this.notifyListeners(O,Ie)},J=this.storage.getItem(O);!function Zt(){return(0,B.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const O=this.listeners[m];if(O)for(const L of Array.from(O))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var O=()=>super._set,L=this;return(0,I.Z)(function*(){yield O().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,O=this;return(0,I.Z)(function*(){const L=yield b().call(O,m);return O.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,O=this;return(0,I.Z)(function*(){yield b().call(O,m),delete O.localCache[m]})()}}return y.type="LOCAL",y})(),ms=(()=>{class y extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let _g=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const O=new y(m);return this.receivers.push(O),O}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,I.Z)(function*(){const O=m,{eventId:L,eventType:J,data:Ie}=O.data,Ze=b.handlersMap[J];if(!Ze?.size)return;O.ports[0].postMessage({status:"ack",eventId:L,eventType:J});const pt=Array.from(Ze).map(function(){var St=(0,I.Z)(function*(kr){return kr(O.origin,Ie)});return function(kr){return St.apply(this,arguments)}}()),Nt=yield function oa(y){return Promise.all(y.map(function(){var f=(0,I.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(pt);O.ports[0].postMessage({status:"done",eventId:L,eventType:J,response:Nt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ml(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class Ic{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var O=this;return(0,I.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let J,Ie;return new Promise((Ze,pt)=>{const Nt=Ml("",20);L.port1.start();const St=setTimeout(()=>{pt(new Error("unsupported_event"))},b);Ie={messageChannel:L,onMessage(kr){const Ds=kr;if(Ds.data.eventId===Nt)switch(Ds.data.status){case"ack":clearTimeout(St),J=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ze(Ds.data.response);break;default:clearTimeout(St),clearTimeout(J),pt(new Error("invalid_response"))}}},O.handlers.add(Ie),L.port1.addEventListener("message",Ie.onMessage),O.target.postMessage({eventType:f,eventId:Nt,data:m},[L.port2])}).finally(()=>{Ie&&O.removeMessageHandler(Ie)})})()}}function Kn(){return window}function Ol(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function Ba(){return(Ba=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xo="firebaseLocalStorageDb",ja="firebaseLocalStorage",wd="fbase_key";class aa{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Rl(y,f){return y.transaction([ja],f?"readwrite":"readonly").objectStore(ja)}function Ua(){const y=indexedDB.open(xo,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ja,{keyPath:wd})}catch(O){m(O)}}),y.addEventListener("success",(0,I.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ja)?f(b):(b.close(),yield function Ec(){const y=indexedDB.deleteDatabase(xo);return new aa(y).toPromise()}(),f(yield Ua()))}))})}function to(y,f,m){return no.apply(this,arguments)}function no(){return(no=(0,I.Z)(function*(y,f,m){const b=Rl(y,!0).put({[wd]:f,value:m});return new aa(b).toPromise()})).apply(this,arguments)}function $a(){return($a=(0,I.Z)(function*(y,f){const m=Rl(y,!1).get(f),b=yield new aa(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function _s(y,f){const m=Rl(y,!0).delete(f);return new aa(m).toPromise()}const Ha=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,I.Z)(function*(){return m.db||(m.db=yield Ua()),m.db})()}_withRetries(m){var b=this;return(0,I.Z)(function*(){let O=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(O++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,I.Z)(function*(){return Ol()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,I.Z)(function*(){m.receiver=_g._getInstance(function Cc(){return Ol()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,I.Z)(function*(O,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(O,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,I.Z)(function*(O,L){return["keyChanged"]});return function(O,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,I.Z)(function*(){var b,O;if(m.activeServiceWorker=yield function Ro(){return Ba.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ic(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(O=L[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,I.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Dd(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ua();return yield to(m,Oo,"1"),yield _s(m,Oo),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,I.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var O=this;return(0,I.Z)(function*(){return O._withPendingWrite((0,I.Z)(function*(){return yield O._withRetries(L=>to(L,m,b)),O.localCache[m]=b,O.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,I.Z)(function*(){const O=yield b._withRetries(L=>function ko(y,f){return $a.apply(this,arguments)}(L,m));return b.localCache[m]=O,O})()}_remove(m){var b=this;return(0,I.Z)(function*(){return b._withPendingWrite((0,I.Z)(function*(){return yield b._withRetries(O=>_s(O,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,I.Z)(function*(){const b=yield m._withRetries(J=>{const Ie=Rl(J,!1).getAll();return new aa(Ie).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const O=[],L=new Set;for(const{fbase_key:J,value:Ie}of b)L.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(Ie)&&(m.notifyListeners(J,Ie),O.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!L.has(J)&&(m.notifyListeners(J,null),O.push(J));return O})()}notifyListeners(m,b){this.localCache[m]=b;const O=this.listeners[m];if(O)for(const L of Array.from(O))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function kl(y,f){return Dn(y,"POST","/v2/accounts/mfaSignIn:start",jt(y,f))}function Ls(){return(Ls=(0,I.Z)(function*(y){return(yield Dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ys(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=O=>{const L=Se("internal-error");L.customData=O,m(L)},b.type="text/javascript",b.charset="UTF-8",function la(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Pl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const io=1e12;class Fn{constructor(f){this.auth=f,this.counter=io,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new _u(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||io;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||io))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,I.Z)(function*(){var b;return null===(b=m._widgets.get(f||io))||void 0===b||b.execute(),""})()}}class _u{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof f?document.getElementById(f):f;q(O,"argument-error",{appName:m}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yu(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=Pl("rcb"),Cd=new _n(3e4,6e4);class Tc{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Kn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return q(function vg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Kn().grecaptcha):new Promise((b,O)=>{const L=Kn().setTimeout(()=>{O(Se(f,"network-request-failed"))},Cd.get());Kn()[Ga]=()=>{Kn().clearTimeout(L),delete Kn()[Ga];const Ie=Kn().grecaptcha;if(!Ie)return void O(Se(f,"internal-error"));const Ze=Ie.render;Ie.render=(pt,Nt)=>{const St=Ze(pt,Nt);return this.counter++,St},this.hostLanguage=m,b(Ie)},ys(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Ga,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),O(Se(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Kn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fr{load(f){return(0,I.Z)(function*(){return new Fn(f)})()}clearedOneInstance(){}}const bg="recaptcha",H_={theme:"light",type:"image"};class Dr{constructor(f,m=Object.assign({},H_),b){this.parameters=m,this.type=bg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(b),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof f?document.getElementById(f):f;q(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fr:new Tc,this.validateStartingState()}verify(){var f=this;return(0,I.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const J=Ie=>{!Ie||(f.tokenChangeListeners.delete(J),L(Ie))};f.tokenChangeListeners.add(J),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Kn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,I.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,I.Z)(function*(){q(vt()&&!Ol(),f.auth,"internal-error"),yield function Sc(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function fi(y){return Ls.apply(this,arguments)}(f.auth);q(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fl{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=kn._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Ac(){return(Ac=(0,I.Z)(function*(y,f,m){const b=Vn(y),O=yield so(b,f,(0,B.m9)(m));return new Fl(O,L=>Bn(b,L))})).apply(this,arguments)}function qi(){return(qi=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);yield tn(!1,b,"phone");const O=yield so(b.auth,f,(0,B.m9)(m));return new Fl(O,L=>Qs(b,L))})).apply(this,arguments)}function Wa(){return(Wa=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),O=yield so(b.auth,f,(0,B.m9)(m));return new Fl(O,L=>To(b,L))})).apply(this,arguments)}function so(y,f,m){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,I.Z)(function*(y,f,m){var b;const O=yield m.verify();try{let L;if(q("string"==typeof O,y,"argument-error"),q(m.type===bg,y,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const J=L.session;if("phoneNumber"in L)return q("enroll"===J.type,y,"internal-error"),(yield La(y,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{q("signin"===J.type,y,"internal-error");const Ie=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return q(Ie,y,"missing-multi-factor-info"),(yield kl(y,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield cf(y,{phoneNumber:L.phoneNumber,recaptchaToken:O});return J}}finally{m._reset()}})).apply(this,arguments)}function bu(){return(bu=(0,I.Z)(function*(y,f){yield Xo((0,B.m9)(y),f)})).apply(this,arguments)}let Mc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Vn(m)}verifyPhoneNumber(m,b){return so(this.auth,m,(0,B.m9)(b))}static credential(m,b){return kn._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:O}=m;return b&&O?kn._fromTokenResponse(b,O):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Zi(y,f){return f?he(f):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ll extends cr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return dr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return dr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return dr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Mi(y){return bi(y.auth,new Ll(y),y.bypassAuthState)}function za(y){const{auth:f,user:m}=y;return q(m,f,"internal-error"),Ps(m,new Ll(y),y.bypassAuthState)}function Fo(y){return ca.apply(this,arguments)}function ca(){return(ca=(0,I.Z)(function*(y){const{auth:f,user:m}=y;return q(m,f,"internal-error"),Xo(m,new Ll(y),y.bypassAuthState)})).apply(this,arguments)}class Vl{constructor(f,m,b,O,L=!1){this.auth=f,this.resolver=b,this.user=O,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,I.Z)(function*(b,O){f.pendingPromise={resolve:b,reject:O};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,O){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,I.Z)(function*(){const{urlResponse:b,sessionId:O,postBody:L,tenantId:J,error:Ie,type:Ze}=f;if(Ie)return void m.reject(Ie);const pt={auth:m.auth,requestUri:b,sessionId:O,tenantId:J||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ze)(pt))}catch(Nt){m.reject(Nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Mi;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return za;default:xe(this.auth,"internal-error")}}resolve(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oc=new _n(2e3,1e4);function qa(){return(qa=(0,I.Z)(function*(y,f,m){const b=Vn(y);Ke(y,f,ci);const O=Zi(b,m);return new Lo(b,"signInViaPopup",f,O).executeNotNull()})).apply(this,arguments)}function pf(){return(pf=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);Ke(b.auth,f,ci);const O=Zi(b.auth,m);return new Lo(b.auth,"reauthViaPopup",f,O,b).executeNotNull()})).apply(this,arguments)}function Bl(){return(Bl=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);Ke(b.auth,f,ci);const O=Zi(b.auth,m);return new Lo(b.auth,"linkViaPopup",f,O,b).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class y extends Vl{constructor(m,b,O,L,J){super(m,b,L,J),this.provider=O,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,I.Z)(function*(){const b=yield m.execute();return q(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,I.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const b=Ml();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(O=>{m.reject(O)}),m.resolver._isIframeWebStorageSupported(m.auth,O=>{O||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,O;this.pollId=null!==(O=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Oc.get())};m()}}return y.currentPopupAction=null,y})();const Oi=new Map;class Ed extends Vl{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,I.Z)(function*(){let b=Oi.get(m.auth._key());if(!b){try{const L=(yield function wu(y,f){return Vo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(L)}catch(O){b=()=>Promise.reject(O)}Oi.set(m.auth._key(),b)}return m.bypassAuthState||Oi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,I.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const O=yield b.auth._redirectUserForId(f.eventId);if(O)return b.user=O,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Vo(){return(Vo=(0,I.Z)(function*(y,f){const m=Ul(f),b=oo(y);if(!(yield b._isAvailable()))return!1;const O="true"===(yield b._get(m));return yield b._remove(m),O})).apply(this,arguments)}function Td(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,I.Z)(function*(y,f){return oo(y)._set(Ul(f),"true")})).apply(this,arguments)}function jl(y,f){Oi.set(y._key(),f)}function oo(y){return he(y._redirectPersistence)}function Ul(y){return ee("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,I.Z)(function*(y,f,m){const b=Vn(y);Ke(y,f,ci);const O=Zi(b,m);return yield Td(O,b),O._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);Ke(b.auth,f,ci);const O=Zi(b.auth,m);yield Td(O,b.auth);const L=yield Et(b);return O._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function ke(){return(ke=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);Ke(b.auth,f,ci);const O=Zi(b.auth,m);yield tn(!1,b,f.providerId),yield Td(O,b.auth);const L=yield Et(b);return O._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function bt(){return(bt=(0,I.Z)(function*(y,f){return yield Vn(y)._initializationPromise,Ot(y,f,!1)})).apply(this,arguments)}function Ot(y,f){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,I.Z)(function*(y,f,m=!1){const b=Vn(y),O=Zi(b,f),J=yield new Ed(b,O,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield b._persistUserIfCurrent(J.user),yield b._setRedirectUser(null,f)),J})).apply(this,arguments)}function Et(y){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,I.Z)(function*(y){const f=Ml(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ua{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ka(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!jo(f)){const O=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,O))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(f))}saveEventToCache(f){this.cachedEventUids.add(Za(f)),this.lastProcessedEventTime=Date.now()}}function Za(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function jo({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Uo(y){return da.apply(this,arguments)}function da(){return(da=(0,I.Z)(function*(y,f={}){return Dn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Qa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function Ig(){return(Ig=(0,I.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Uo(y);for(const m of f)try{if(W_(m))return}catch{}xe(y,"unauthorized-domain")})).apply(this,arguments)}function W_(y){const f=Ge(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const J=new URL(y);return""===J.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===b}if(!ha.test(m))return!1;if(Qa.test(y))return b===y;const O=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(b)}const Vs=new _n(3e4,6e4);function Ya(){const y=Kn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let $l=null;function Ja(y){return $l=$l||function Ri(y){return new Promise((f,m)=>{var b,O,L;function J(){Ya(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ya(),m(Se(y,"network-request-failed"))},timeout:Vs.get()})}if(null!==(O=null===(b=Kn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==O&&O.Iframe)f(gapi.iframes.getContext());else{if(null===(L=Kn().gapi)||void 0===L||!L.load){const Ie=Pl("iframefcb");return Kn()[Ie]=()=>{gapi.load?J():m(Se(y,"network-request-failed"))},ys(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(Ze=>m(Ze))}J()}}).catch(f=>{throw $l=null,f})}(y),$l}const fa=new _n(5e3,15e3),mf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xc(y){const f=y.config;q(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Mn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},O=Ad.get(y.config.apiHost);O&&(b.eid=O);const L=y._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function Xa(){return Xa=(0,I.Z)(function*(y){const f=yield Ja(y),m=Kn().gapi;return q(m,y,"internal-error"),f.open({where:document.body,url:xc(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mf,dontclear:!0},b=>new Promise(function(){var O=(0,I.Z)(function*(L,J){yield b.restyle({setHideOnLeave:!1});const Ie=Se(y,"network-request-failed"),Ze=Kn().setTimeout(()=>{J(Ie)},fa.get());function pt(){Kn().clearTimeout(Ze),L(b)}b.ping(pt).then(pt,()=>{J(Ie)})});return function(L,J){return O.apply(this,arguments)}}()))}),Xa.apply(this,arguments)}const _f={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pa(y,f,m,b,O,L){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const J={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:O};if(f instanceof ci){f.setDefaultLanguage(y.languageCode),J.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ze,pt]of Object.entries(L||{}))J[Ze]=pt}if(f instanceof $i){const Ze=f.getScopes().filter(pt=>""!==pt);Ze.length>0&&(J.scopes=Ze.join(","))}y.tenantId&&(J.tid=y.tenantId);const Ie=J;for(const Ze of Object.keys(Ie))void 0===Ie[Ze]&&delete Ie[Ze];return`${function Cu({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(Ie).slice(1)}`}const Od="webStorageSupport";class ao extends class Tg{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Te("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ao(f)}_finalizeEnroll(f,m,b){return function Dc(y,f){return Dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",jt(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function mu(y,f){return Dn(y,"POST","/v2/accounts/mfaSignIn:finalize",jt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pc=(()=>{class y{constructor(){}static assertion(m){return ao._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var el="@firebase/auth",Rd="0.20.11";class Sg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,I.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var O;f((null===(O=b)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wl(){return window}function zl(){return(zl=(0,I.Z)(function*(y,f,m){var b;const{BuildInfo:O}=Wl();X(f.sessionId,"AuthEvent did not contain a session ID");const L=yield Df(f.sessionId),J={};return Pt()?J.ibi=O.packageName:dn()?J.apn=O.packageName:xe(y,"operation-not-supported-in-this-environment"),O.displayName&&(J.appDisplayName=O.displayName),J.sessionId=L,pa(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,J)})).apply(this,arguments)}function Fd(){return(Fd=(0,I.Z)(function*(y){const{BuildInfo:f}=Wl(),m={};Pt()?m.iosBundleId=f.packageName:dn()?m.androidPackageName=f.packageName:xe(y,"operation-not-supported-in-this-environment"),yield Uo(y,m)})).apply(this,arguments)}function xg(){return(xg=(0,I.Z)(function*(y,f,m){const{cordova:b}=Wl();let O=()=>{};try{yield new Promise((L,J)=>{let Ie=null;function Ze(){var St;L();const kr=null===(St=b.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof kr&&kr(),"function"==typeof m?.close&&m.close()}function pt(){Ie||(Ie=window.setTimeout(()=>{J(Se(y,"redirect-cancelled-by-user"))},2e3))}function Nt(){"visible"===document?.visibilityState&&pt()}f.addPassiveListener(Ze),document.addEventListener("resume",pt,!1),dn()&&document.addEventListener("visibilitychange",Nt,!1),O=()=>{f.removePassiveListener(Ze),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",Nt,!1),Ie&&window.clearTimeout(Ie)}})}finally{O()}})).apply(this,arguments)}function Df(y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,I.Z)(function*(y){const f=gb(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gb(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,B.Pz)("authIdTokenMaxAge"),function Ng(y){(0,ae._registerComponent)(new ve.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),O=f.getProvider("heartbeat"),{apiKey:L,authDomain:J}=b.options;return((Ie,Ze)=>{q(L&&!L.includes(":"),"invalid-api-key",{appName:Ie.name}),q(!J?.includes(":"),"argument-error",{appName:Ie.name});const pt={apiKey:L,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ls(y)},Nt=new Ue(Ie,Ze,pt);return function Fe(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(he);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(Nt,m),Nt})(b,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ve.wA("auth-internal",f=>{const m=Vn(f.getProvider("auth").getImmediate());return new Sg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(el,Rd,function Ag(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(el,Rd,"esm2017")}("Browser");class kg extends ua{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,I.Z)(function*(){yield f.initPromise})()}}function Pg(y){return wf.apply(this,arguments)}function wf(){return(wf=(0,I.Z)(function*(y){const f=yield Tu()._get(Fc(y));return f&&(yield Tu()._remove(Fc(y))),f})).apply(this,arguments)}function If(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function Tu(){return he(Va)}function Fc(y){return ee("authEvent",y.config.apiKey,y.name)}function tl(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,B.zd)(m.join("?"))}function Tf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}function Ld(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Lc(y=(0,B.z$)()){return!("file:"!==Ld()&&"ionic:"!==Ld()&&"capacitor:"!==Ld()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Af(){try{const y=self.localStorage,f=Ml();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Hg(y=(0,B.z$)()){return function Sf(){return(0,B.w1)()&&11===document?.documentMode}()||function $g(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch{return Vd()&&(0,B.hl)()}return!1}function Vd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bd(){return(function _b(){return"http:"===Ld()||"https:"===Ld()}()||(0,B.ru)()||Lc())&&!function Ug(){return(0,B.b$)()||(0,B.UG)()}()&&Af()&&!Vd()}function jd(){return Lc()&&typeof document<"u"}function Nf(){return(Nf=(0,I.Z)(function*(){return!!jd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Qi={LOCAL:"local",NONE:"none",SESSION:"session"},Vc=q,ql="persistence";function Su(y){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,I.Z)(function*(y){yield y._initializationPromise;const f=Ud(),m=ee(ql,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Ud(){var y;try{return(null===(y=function Mf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const $d=q;class bs{constructor(){this.browserResolver=he(class bf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=Ot,this._overrideRedirectResult=jl}_openPopup(f,m,b,O){var L=this;return(0,I.Z)(function*(){var J;X(null===(J=L.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ie=pa(f,m,b,Ge(),O);return function Md(y,f,m,b=500,O=600){const L=Math.max((window.screen.availHeight-O)/2,0).toString(),J=Math.max((window.screen.availWidth-b)/2,0).toString();let Ie="";const Ze=Object.assign(Object.assign({},_f),{width:b.toString(),height:O.toString(),top:L,left:J}),pt=(0,B.z$)().toLowerCase();m&&(Ie=fn(pt)?"_blank":m),Xe(pt)&&(f=f||"http://localhost",Ze.scrollbars="yes");const Nt=Object.entries(Ze).reduce((kr,[Ds,Gd])=>`${kr}${Ds}=${Gd},`,"");if(function rt(y=(0,B.z$)()){var f;return Pt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(pt)&&"_self"!==Ie)return function kc(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Ie),new Gl(null);const St=window.open(f||"",Ie,Nt);q(St,y,"popup-blocked");try{St.focus()}catch{}return new Gl(St)}(f,Ie,Ml())})()}_openRedirect(f,m,b,O){var L=this;return(0,I.Z)(function*(){return yield L._originValidation(f),function Rr(y){Kn().location.href=y}(pa(f,m,b,Ge(),O)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:O,promise:L}=this.eventManagers[m];return O?Promise.resolve(O):(X(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,I.Z)(function*(){const b=yield function Nd(y){return Xa.apply(this,arguments)}(f),O=new ua(f);return b.register("authEvent",L=>(q(L?.authEvent,f,"invalid-auth-event"),{status:O.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:O},m.iframes[f._key()]=b,O})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Od,{type:Od},O=>{var L;const J=null===(L=O?.[0])||void 0===L?void 0:L[Od];void 0!==J&&m(!!J),xe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Iu(y){return Ig.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return vr()||Ct()||Pt()}}),this.cordovaResolver=he(class Cf{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ot,this._overrideRedirectResult=jl}_initialize(f){var m=this;return(0,I.Z)(function*(){const b=f._key();let O=m.eventManagers.get(b);return O||(O=new kg(f),m.eventManagers.set(b,O),m.attachCallbackListeners(f,O)),O})()}_openPopup(f){xe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,O){var L=this;return(0,I.Z)(function*(){!function pb(y){var f,m,b,O,L,J,Ie,Ze,pt,Nt;const St=Wl();q("function"==typeof(null===(f=St?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(m=St?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(L=null===(O=null===(b=St?.cordova)||void 0===b?void 0:b.plugins)||void 0===O?void 0:O.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ze=null===(Ie=null===(J=St?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Ze?void 0:Ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Nt=null===(pt=St?.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===Nt?void 0:Nt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield L._initialize(f);yield J.initialized(),J.resetRedirect(),function wg(){Oi.clear()}(),yield L._originValidation(f);const Ie=function Z_(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:If(),postBody:null,tenantId:y.tenantId,error:Se(y,"no-auth-event")}}(f,b,O);yield function K_(y,f){return Tu()._set(Fc(y),f)}(f,Ie);const Ze=yield function vs(y,f,m){return zl.apply(this,arguments)}(f,Ie,m),pt=yield function Rg(y){const{cordova:f}=Wl();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let O=null;b?f.plugins.browsertab.openUrl(y):O=f.InAppBrowser.open(y,function $t(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(O)})})}(Ze);return function fb(y,f,m){return xg.apply(this,arguments)}(f,J,pt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pd(y){return Fd.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:O,BuildInfo:L}=Wl(),J=setTimeout((0,I.Z)(function*(){yield Pg(f),m.onEvent(Tf())}),500),Ie=function(){var Nt=(0,I.Z)(function*(St){clearTimeout(J);const kr=yield Pg(f);let Ds=null;kr&&St?.url&&(Ds=function Q_(y,f){var m,b;const O=function xr(y){const f=tl(y),m=f.link?decodeURIComponent(f.link):void 0,b=tl(m).link,O=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return tl(O).link||O||b||m||y}(f);if(O.includes("/__/auth/callback")){const L=tl(O),J=L.firebaseError?function Y_(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Ie=null===(b=null===(m=J?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ze=Ie?Se(Ie):null;return Ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:O,postBody:null}}return null}(kr,St.url)),m.onEvent(Ds||Tf())});return function(kr){return Nt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ie);const Ze=O,pt=`${L.packageName.toLowerCase()}://`;Wl().handleOpenURL=function(){var Nt=(0,I.Z)(function*(St){if(St.toLowerCase().startsWith(pt)&&Ie({url:St}),"function"==typeof Ze)try{Ze(St)}catch(kr){console.error(kr)}});return function(St){return Nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=Ot,this._overrideRedirectResult=jl}_initialize(f){var m=this;return(0,I.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,O){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,m,b,O)})()}_openRedirect(f,m,b,O){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,m,b,O)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return jd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $d(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,I.Z)(function*(){if(f.underlyingResolver)return;const m=yield function yb(){return Nf.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Gg(y){return y.unwrap()}function vb(y){return Of(y)}function Of(y){const{_tokenResponse:f}=y instanceof B.ZR?y.customData:y;if(!f)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Mc.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Ma;break;case"facebook.com":b=Io;break;case"github.com":b=Oa;break;case"twitter.com":b=Yr;break;default:const{oauthIdToken:O,oauthAccessToken:L,oauthTokenSecret:J,pendingToken:Ie,nonce:Ze}=f;return L||J||O||Ie?Ie?m.startsWith("saml.")?Co._create(m,Ie):Ui._fromParams({providerId:m,signInMethod:m,pendingToken:Ie,idToken:O,accessToken:L}):new hs(m).credential({idToken:O,accessToken:L,rawNonce:Ze}):null}return y instanceof B.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Wr(y,f){return f.catch(m=>{throw m instanceof B.ZR&&function bb(y,f){var m,b;const O=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Db(y,function sr(y,f){var m;const b=(0,B.m9)(y),O=f;return q(f.customData.operationType,b,"argument-error"),q(null===(m=O.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),sa._fromError(b,O)}(y,f));else if(O){const L=Of(f),J=f;L&&(J.credential=L,J.tenantId=O.tenantId||void 0,J.email=O.email||void 0,J.phoneNumber=O.phoneNumber||void 0)}}(y,m),m}).then(m=>{const O=m.user;return{operationType:m.operationType,credential:vb(m),additionalUserInfo:en(m),user:nl.getOrCreate(O)}})}function Rf(y,f){return zg.apply(this,arguments)}function zg(){return(zg=(0,I.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Wr(y,m.confirm(b))}})).apply(this,arguments)}class Db{constructor(f,m){this.resolver=m,this.auth=function Wg(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Wr(Gg(this.auth),this.resolver.resolveSignIn(f))}}class nl{constructor(f){this._delegate=f,this.multiFactor=function wc(y){const f=(0,B.m9)(y);return Al.has(f)||Al.set(f,vd._fromUser(f)),Al.get(f)}(f)}static getOrCreate(f){return nl.USER_MAP.has(f)||nl.USER_MAP.set(f,new nl(f)),nl.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,I.Z)(function*(){return Wr(m.auth,Qs(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,I.Z)(function*(){return Rf(b.auth,function Di(y,f,m){return qi.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,I.Z)(function*(){return Wr(m.auth,function Dg(y,f,m){return Bl.apply(this,arguments)}(m._delegate,f,bs))})()}linkWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield Su(Vn(m.auth)),function te(y,f,m){return function pe(y,f,m){return ke.apply(this,arguments)}(y,f,m)}(m._delegate,f,bs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,I.Z)(function*(){return Wr(m.auth,To(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Rf(this.auth,function Po(y,f,m){return Wa.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Wr(this.auth,function G_(y,f,m){return pf.apply(this,arguments)}(this._delegate,f,bs))}reauthenticateWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield Su(Vn(m.auth)),function A(y,f,m){return function x(y,f,m){return U.apply(this,arguments)}(y,f,m)}(m._delegate,f,bs)})()}sendEmailVerification(f){return function vc(y,f){return ka.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,I.Z)(function*(){return yield function Zn(y,f){return Jo.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function C(y,f){return T((0,B.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function R(y,f){return T((0,B.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ff(y,f){return bu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Tl(y,f){return Sl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function bc(y,f,m){return El.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nl.USER_MAP=new WeakMap;const jc=q;let qg=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=m.options;jc(O,"invalid-api-key",{appName:m.name}),jc(O,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?bs:void 0;this._delegate=b.initialize({options:{persistence:ey(O,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function yo(y,f,m){const b=Vn(y);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const O=!!m?.disableWarnings,L=ji(f),{host:J,port:Ie}=function tr(y){const f=ji(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(b);if(O){const L=O[1];return{host:L,port:cs(b.substr(L.length+1))}}{const[L,J]=b.split(":");return{host:L,port:cs(J)}}}(f);b.config.emulator={url:`${L}//${J}${null===Ie?"":`:${Ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:J,port:Ie,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function $n(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function ui(y,f){return No.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ys(this._delegate,m)}confirmPasswordReset(m,b){return function Ao(y,f,m){return Gi.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var O=this;return(0,I.Z)(function*(){return Wr(O._delegate,function Ra(y,f,m){return Yn.apply(this,arguments)}(O._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Cl(y,f){return xa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Jr(y,f){return"EMAIL_SIGNIN"===Na.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,I.Z)(function*(){jc(Bd(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Qe(y,f){return bt.apply(this,arguments)}(m._delegate,bs);return b?Wr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Lg(y,f){Vn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,O){const{next:L,error:J,complete:Ie}=Au(m,b,O);return this._delegate.onAuthStateChanged(L,J,Ie)}onIdTokenChanged(m,b,O){const{next:L,error:J,complete:Ie}=Au(m,b,O);return this._delegate.onIdTokenChanged(L,J,Ie)}sendSignInLinkToEmail(m,b){return function Js(y,f,m){return Wi.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function ia(y,f,m){return jn.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,I.Z)(function*(){let O;switch(function J_(y,f){Vc(Object.values(Qi).includes(f),y,"invalid-persistence-type"),(0,B.b$)()?Vc(f!==Qi.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?Vc(f===Qi.NONE,y,"unsupported-persistence-type"):Vd()?Vc(f===Qi.NONE||f===Qi.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):Vc(f===Qi.NONE||Af(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Qi.SESSION:O=ms;break;case Qi.LOCAL:O=(yield he(Ha)._isAvailable())?Ha:Va;break;case Qi.NONE:O=W;break;default:return xe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Wr(this._delegate,function ks(y){return Gn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Wr(this._delegate,Bn(this._delegate,m))}signInWithCustomToken(m){return Wr(this._delegate,function ra(y,f){return Fs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Wr(this._delegate,function Hr(y,f,m){return Bn((0,B.m9)(y),Sn.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Wr(this._delegate,function hu(y,f,m){return Xs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Rf(this._delegate,function vu(y,f,m){return Ac.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,I.Z)(function*(){return jc(Bd(),b._delegate,"operation-not-supported-in-this-environment"),Wr(b._delegate,function Du(y,f,m){return qa.apply(this,arguments)}(b._delegate,m,bs))})()}signInWithRedirect(m){var b=this;return(0,I.Z)(function*(){return jc(Bd(),b._delegate,"operation-not-supported-in-this-environment"),yield Su(b._delegate),function Nn(y,f,m){return function Sd(y,f,m){return S.apply(this,arguments)}(y,f,m)}(b._delegate,m,bs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ai(y,f){return Il.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Qi,y})();function Au(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const O=b;return{next:J=>O(J&&nl.getOrCreate(J)),error:f,complete:m}}function ey(y,f){const m=function X_(y,f){const m=Ud();if(!m)return[];const b=ee(ql,y,f);switch(m.getItem(b)){case Qi.NONE:return[W];case Qi.LOCAL:return[Ha,ms];case Qi.SESSION:return[ms];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Ha)&&m.push(Ha),typeof window<"u")for(const b of[Va,ms])m.includes(b)||m.push(b);return m.includes(W)||m.push(W),m}class xf{constructor(){this.providerId="phone",this._delegate=new Mc(Gg(u.Z.auth()))}static credential(f,m){return Mc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}xf.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD,xf.PROVIDER_ID=Mc.PROVIDER_ID;const NC=q;class wb{constructor(f,m,b=u.Z.app()){var O;NC(null===(O=b.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Dr(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ty(y){y.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new qg(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Sn,FacebookAuthProvider:Io,GithubAuthProvider:Oa,GoogleAuthProvider:Ma,OAuthProvider:hs,SAMLAuthProvider:Hn,PhoneAuthProvider:xf,PhoneMultiFactorGenerator:Pc,RecaptchaVerifier:wb,TwitterAuthProvider:Yr,Auth:qg,AuthCredential:cr,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.24")}(u.Z)},4497:(mt,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var V=function(){function I(u,B,ae,ie){this.id=I.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,u&&(this.text=u),B&&(this.cssClass=B),ae&&(this.closeOnClick=ae),ie&&(this.showCloseBtn=ie)}return I.nextId=0,I}();Ee.FlashMessage=V},2570:function(mt,Ee,V){"use strict";var I=V(4650),u=V(5673),B=V(6895);function ae(be,le){1&be&&I.\u0275\u0275element(0,"div",3)}function ie(be,le){if(1&be){var He=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"button",7),I.\u0275\u0275listener("click",function(){I.\u0275\u0275restoreView(He);var de=I.\u0275\u0275nextContext().$implicit,Ye=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(Ye.close(de))}),I.\u0275\u0275elementStart(1,"span",8),I.\u0275\u0275text(2,"\xd7"),I.\u0275\u0275elementEnd()()}}var fe=function(be){return{"alert-dismissible":be}};function ve(be,le){if(1&be){var He=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"div",4),I.\u0275\u0275listener("click",function(){var it=I.\u0275\u0275restoreView(He).$implicit,xe=I.\u0275\u0275nextContext();return I.\u0275\u0275resetView(xe.alertClicked(it))}),I.\u0275\u0275template(1,ie,3,0,"button",5),I.\u0275\u0275element(2,"div",6),I.\u0275\u0275elementEnd()}if(2&be){var ge=le.$implicit;I.\u0275\u0275classMapInterpolate1("alert flash-message ",ge.cssClass,""),I.\u0275\u0275styleProp("cursor",ge.closeOnClick?"pointer":"inherit"),I.\u0275\u0275property("ngClass",I.\u0275\u0275pureFunction1(8,fe,ge.showCloseBtn)),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",ge.showCloseBtn),I.\u0275\u0275advance(1),I.\u0275\u0275property("innerHTML",ge.text,I.\u0275\u0275sanitizeHtml)}}var _e=this&&this.__decorate||function(be,le,He,ge){var it,de=arguments.length,Ye=de<3?le:null===ge?ge=Object.getOwnPropertyDescriptor(le,He):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(be,le,He,ge);else for(var xe=be.length-1;xe>=0;xe--)(it=be[xe])&&(Ye=(de<3?it(Ye):de>3?it(le,He,Ye):it(le,He))||Ye);return de>3&&Ye&&Object.defineProperty(le,He,Ye),Ye},ye=this&&this.__metadata||function(be,le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(be,le)};Object.defineProperty(Ee,"__esModule",{value:!0});var G=V(4650),z=V(4497),Y=V(5673),$e=function(){function be(le,He){this._flashMessagesService=le,this._cdRef=He,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return be.prototype.ngOnInit=function(){},be.prototype.show=function(le,He){var ge=this;void 0===He&&(He={});var de={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ye in He)de[Ye]=He[Ye];var it=new z.FlashMessage(le,de.cssClass,de.closeOnClick,de.showCloseBtn);it.timer=window.setTimeout(function(){ge._remove(it),ge._cdRef.detectChanges()},de.timeout),this.messages.push(it),this._cdRef.detectChanges()},be.prototype.close=function(le){clearTimeout(le.timer),this._remove(le),this._cdRef.detectChanges()},be.prototype.alertClicked=function(le){le.closeOnClick&&this.close(le)},be.prototype.grayOut=function(le){void 0===le&&(le=!1),this._grayOut=le},be.prototype._remove=function(le){this.messages=this.messages.filter(function(He){return He.id!==le.id})},(be=_e([ye("design:paramtypes",[Y.FlashMessagesService,G.ChangeDetectorRef])],be)).\u0275fac=function(He){return new(He||be)(I.\u0275\u0275directiveInject(u.FlashMessagesService),I.\u0275\u0275directiveInject(I.ChangeDetectorRef))},be.\u0275cmp=I.\u0275\u0275defineComponent({type:be,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(He,ge){1&He&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275template(1,ae,1,0,"div",1),I.\u0275\u0275template(2,ve,3,10,"div",2),I.\u0275\u0275elementEnd()),2&He&&(I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",ge._grayOut&&ge.messages.length),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",ge.messages))},dependencies:[B.NgClass,B.NgForOf,B.NgIf],encapsulation:2}),be}();Ee.FlashMessagesComponent=$e},5673:function(mt,Ee,V){"use strict";var I=V(4650);Object.defineProperty(Ee,"__esModule",{value:!0}),V(4650);var ae=function(){function ie(){}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=I.\u0275\u0275defineInjectable({token:ie,factory:function(fe){return ie.\u0275fac(fe)}}),ie}();Ee.FlashMessagesService=ae},3241:(mt,Ee,V)=>{var u=V(2570),B=V(8533);Ee.qz=B.FlashMessagesModule;var ae=V(5673);Ee.GQ=ae.FlashMessagesService,Ee.cS=u.FlashMessagesComponent},8533:function(mt,Ee,V){"use strict";var I=V(4650);V(2570),V(6895),Object.defineProperty(Ee,"__esModule",{value:!0}),V(4650);var fe=V(6895),_e=(V(2570),V(5673)),ye=function(){function G(){}var z;return z=G,G.forRoot=function(){return{ngModule:z,providers:[_e.FlashMessagesService]}},G.\u0275fac=function($e){return new($e||G)},G.\u0275mod=I.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=I.\u0275\u0275defineInjector({imports:[fe.CommonModule]}),G}();Ee.FlashMessagesModule=ye},9751:(mt,Ee,V)=>{"use strict";V.d(Ee,{y:()=>_e});var I=V(930),u=V(727),B=V(8822),ae=V(9635),ie=V(2416),fe=V(576),ve=V(2806);let _e=(()=>{class Y{constructor(be){be&&(this._subscribe=be)}lift(be){const le=new Y;return le.source=this,le.operator=be,le}subscribe(be,le,He){const ge=function z(Y){return Y&&Y instanceof I.Lv||function G(Y){return Y&&(0,fe.m)(Y.next)&&(0,fe.m)(Y.error)&&(0,fe.m)(Y.complete)}(Y)&&(0,u.Nn)(Y)}(be)?be:new I.Hp(be,le,He);return(0,ve.x)(()=>{const{operator:de,source:Ye}=this;ge.add(de?de.call(ge,Ye):Ye?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(be){try{return this._subscribe(be)}catch(le){be.error(le)}}forEach(be,le){return new(le=ye(le))((He,ge)=>{const de=new I.Hp({next:Ye=>{try{be(Ye)}catch(it){ge(it),de.unsubscribe()}},error:ge,complete:He});this.subscribe(de)})}_subscribe(be){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(be)}[B.L](){return this}pipe(...be){return(0,ae.U)(be)(this)}toPromise(be){return new(be=ye(be))((le,He)=>{let ge;this.subscribe(de=>ge=de,de=>He(de),()=>le(ge))})}}return Y.create=$e=>new Y($e),Y})();function ye(Y){var $e;return null!==($e=Y??ie.v.Promise)&&void 0!==$e?$e:Promise}},7579:(mt,Ee,V)=>{"use strict";V.d(Ee,{x:()=>ve});var I=V(9751),u=V(727);const ae=(0,V(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=V(8737),fe=V(2806);let ve=(()=>{class ye extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Y=new _e(this,this);return Y.operator=z,Y}_throwIfClosed(){if(this.closed)throw new ae}next(z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(z)}})}error(z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Y}=this;for(;Y.length;)Y.shift().error(z)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Y,isStopped:$e,observers:be}=this;return Y||$e?u.Lc:(this.currentObservers=null,be.push(z),new u.w0(()=>{this.currentObservers=null,(0,ie.P)(be,z)}))}_checkFinalizedStatuses(z){const{hasError:Y,thrownError:$e,isStopped:be}=this;Y?z.error($e):be&&z.complete()}asObservable(){const z=new I.y;return z.source=this,z}}return ye.create=(G,z)=>new _e(G,z),ye})();class _e extends ve{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Y||Y.call(z,G)}error(G){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Y||Y.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,Y;return null!==(Y=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==Y?Y:u.Lc}}},930:(mt,Ee,V)=>{"use strict";V.d(Ee,{Hp:()=>He,Lv:()=>Y});var I=V(576),u=V(727),B=V(2416),ae=V(7849),ie=V(5032);const fe=ye("C",void 0,void 0);function ye(xe,Se,Re){return{kind:xe,value:Se,error:Re}}var G=V(3410),z=V(2806);class Y extends u.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,u.Nn)(Se)&&Se.add(this)):this.destination=it}static create(Se,Re,Ke){return new He(Se,Re,Ke)}next(Se){this.isStopped?Ye(function _e(xe){return ye("N",xe,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ye(function ve(xe){return ye("E",void 0,xe)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ye(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function be(xe,Se){return $e.call(xe,Se)}class le{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Re}=this;if(Re.next)try{Re.next(Se)}catch(Ke){ge(Ke)}}error(Se){const{partialObserver:Re}=this;if(Re.error)try{Re.error(Se)}catch(Ke){ge(Ke)}else ge(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Re){ge(Re)}}}class He extends Y{constructor(Se,Re,Ke){let Je;if(super(),(0,I.m)(Se)||!Se)Je={next:Se??void 0,error:Re??void 0,complete:Ke??void 0};else{let q;this&&B.v.useDeprecatedNextContext?(q=Object.create(Se),q.unsubscribe=()=>this.unsubscribe(),Je={next:Se.next&&be(Se.next,q),error:Se.error&&be(Se.error,q),complete:Se.complete&&be(Se.complete,q)}):Je=Se}this.destination=new le(Je)}}function ge(xe){B.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(xe):(0,ae.h)(xe)}function Ye(xe,Se){const{onStoppedNotification:Re}=B.v;Re&&G.z.setTimeout(()=>Re(xe,Se))}const it={closed:!0,next:ie.Z,error:function de(xe){throw xe},complete:ie.Z}},727:(mt,Ee,V)=>{"use strict";V.d(Ee,{Lc:()=>fe,w0:()=>ie,Nn:()=>ve});var I=V(576);const B=(0,V(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Y,$e)=>`${$e+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ae=V(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const be of z)be.remove(this);else z.remove(this);const{initialTeardown:Y}=this;if((0,I.m)(Y))try{Y()}catch(be){G=be instanceof B?be.errors:[be]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const be of $e)try{_e(be)}catch(le){G=G??[],le instanceof B?G=[...G,...le.errors]:G.push(le)}}if(G)throw new B(G)}}add(G){var z;if(G&&G!==this)if(this.closed)_e(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ae.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ae.P)(z,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const ye=new ie;return ye.closed=!0,ye})();const fe=ie.EMPTY;function ve(ye){return ye instanceof ie||ye&&"closed"in ye&&(0,I.m)(ye.remove)&&(0,I.m)(ye.add)&&(0,I.m)(ye.unsubscribe)}function _e(ye){(0,I.m)(ye)?ye():ye.unsubscribe()}},2416:(mt,Ee,V)=>{"use strict";V.d(Ee,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ee,V)=>{"use strict";V.d(Ee,{E:()=>u});const u=new(V(9751).y)(ie=>ie.complete())},8996:(mt,Ee,V)=>{"use strict";V.d(Ee,{D:()=>Se});var I=V(8421),u=V(5363),B=V(9468),fe=V(9751),_e=V(2202),ye=V(576),G=V(9672);function Y(Re,Ke){if(!Re)throw new Error("Iterable cannot be null");return new fe.y(Je=>{(0,G.f)(Je,Ke,()=>{const q=Re[Symbol.asyncIterator]();(0,G.f)(Je,Ke,()=>{q.next().then(Te=>{Te.done?Je.complete():Je.next(Te.value)})},0,!0)})})}var $e=V(3670),be=V(8239),le=V(1144),He=V(6495),ge=V(2206),de=V(4532),Ye=V(3260);function Se(Re,Ke){return Ke?function xe(Re,Ke){if(null!=Re){if((0,$e.c)(Re))return function ae(Re,Ke){return(0,I.Xf)(Re).pipe((0,B.R)(Ke),(0,u.Q)(Ke))}(Re,Ke);if((0,le.z)(Re))return function ve(Re,Ke){return new fe.y(Je=>{let q=0;return Ke.schedule(function(){q===Re.length?Je.complete():(Je.next(Re[q++]),Je.closed||this.schedule())})})}(Re,Ke);if((0,be.t)(Re))return function ie(Re,Ke){return(0,I.Xf)(Re).pipe((0,B.R)(Ke),(0,u.Q)(Ke))}(Re,Ke);if((0,ge.D)(Re))return Y(Re,Ke);if((0,He.T)(Re))return function z(Re,Ke){return new fe.y(Je=>{let q;return(0,G.f)(Je,Ke,()=>{q=Re[_e.h](),(0,G.f)(Je,Ke,()=>{let Te,X;try{({value:Te,done:X}=q.next())}catch(re){return void Je.error(re)}X?Je.complete():Je.next(Te)},0,!0)}),()=>(0,ye.m)(q?.return)&&q.return()})}(Re,Ke);if((0,Ye.L)(Re))return function it(Re,Ke){return Y((0,Ye.Q)(Re),Ke)}(Re,Ke)}throw(0,de.z)(Re)}(Re,Ke):(0,I.Xf)(Re)}},8421:(mt,Ee,V)=>{"use strict";V.d(Ee,{Xf:()=>$e});var I=V(655),u=V(1144),B=V(8239),ae=V(9751),ie=V(3670),fe=V(2206),ve=V(4532),_e=V(6495),ye=V(3260),G=V(576),z=V(7849),Y=V(8822);function $e(xe){if(xe instanceof ae.y)return xe;if(null!=xe){if((0,ie.c)(xe))return function be(xe){return new ae.y(Se=>{const Re=xe[Y.L]();if((0,G.m)(Re.subscribe))return Re.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,u.z)(xe))return function le(xe){return new ae.y(Se=>{for(let Re=0;Re<xe.length&&!Se.closed;Re++)Se.next(xe[Re]);Se.complete()})}(xe);if((0,B.t)(xe))return function He(xe){return new ae.y(Se=>{xe.then(Re=>{Se.closed||(Se.next(Re),Se.complete())},Re=>Se.error(Re)).then(null,z.h)})}(xe);if((0,fe.D)(xe))return de(xe);if((0,_e.T)(xe))return function ge(xe){return new ae.y(Se=>{for(const Re of xe)if(Se.next(Re),Se.closed)return;Se.complete()})}(xe);if((0,ye.L)(xe))return function Ye(xe){return de((0,ye.Q)(xe))}(xe)}throw(0,ve.z)(xe)}function de(xe){return new ae.y(Se=>{(function it(xe,Se){var Re,Ke,Je,q;return(0,I.mG)(this,void 0,void 0,function*(){try{for(Re=(0,I.KL)(xe);!(Ke=yield Re.next()).done;)if(Se.next(Ke.value),Se.closed)return}catch(Te){Je={error:Te}}finally{try{Ke&&!Ke.done&&(q=Re.return)&&(yield q.call(Re))}finally{if(Je)throw Je.error}}Se.complete()})})(xe,Se).catch(Re=>Se.error(Re))})}},6451:(mt,Ee,V)=>{"use strict";V.d(Ee,{T:()=>fe});var I=V(8189),u=V(8421),B=V(515),ae=V(3269),ie=V(8996);function fe(...ve){const _e=(0,ae.yG)(ve),ye=(0,ae._6)(ve,1/0),G=ve;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,I.J)(ye)((0,ie.D)(G,_e)):B.E}},5403:(mt,Ee,V)=>{"use strict";V.d(Ee,{x:()=>u});var I=V(930);function u(ae,ie,fe,ve,_e){return new B(ae,ie,fe,ve,_e)}class B extends I.Lv{constructor(ie,fe,ve,_e,ye,G){super(ie),this.onFinalize=ye,this.shouldUnsubscribe=G,this._next=fe?function(z){try{fe(z)}catch(Y){ie.error(Y)}}:super._next,this._error=_e?function(z){try{_e(z)}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(z){ie.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(mt,Ee,V)=>{"use strict";V.d(Ee,{U:()=>B});var I=V(4482),u=V(5403);function B(ae,ie){return(0,I.e)((fe,ve)=>{let _e=0;fe.subscribe((0,u.x)(ve,ye=>{ve.next(ae.call(ie,ye,_e++))}))})}},8189:(mt,Ee,V)=>{"use strict";V.d(Ee,{J:()=>B});var I=V(5577),u=V(4671);function B(ae=1/0){return(0,I.z)(u.y,ae)}},5577:(mt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>_e});var I=V(4004),u=V(8421),B=V(4482),ae=V(9672),ie=V(5403),ve=V(576);function _e(ye,G,z=1/0){return(0,ve.m)(G)?_e((Y,$e)=>(0,I.U)((be,le)=>G(Y,be,$e,le))((0,u.Xf)(ye(Y,$e))),z):("number"==typeof G&&(z=G),(0,B.e)((Y,$e)=>function fe(ye,G,z,Y,$e,be,le,He){const ge=[];let de=0,Ye=0,it=!1;const xe=()=>{it&&!ge.length&&!de&&G.complete()},Se=Ke=>de<Y?Re(Ke):ge.push(Ke),Re=Ke=>{be&&G.next(Ke),de++;let Je=!1;(0,u.Xf)(z(Ke,Ye++)).subscribe((0,ie.x)(G,q=>{$e?.(q),be?Se(q):G.next(q)},()=>{Je=!0},void 0,()=>{if(Je)try{for(de--;ge.length&&de<Y;){const q=ge.shift();le?(0,ae.f)(G,le,()=>Re(q)):Re(q)}xe()}catch(q){G.error(q)}}))};return ye.subscribe((0,ie.x)(G,Se,()=>{it=!0,xe()})),()=>{He?.()}}(Y,$e,ye,z)))}},5363:(mt,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>ae});var I=V(9672),u=V(4482),B=V(5403);function ae(ie,fe=0){return(0,u.e)((ve,_e)=>{ve.subscribe((0,B.x)(_e,ye=>(0,I.f)(_e,ie,()=>_e.next(ye),fe),()=>(0,I.f)(_e,ie,()=>_e.complete(),fe),ye=>(0,I.f)(_e,ie,()=>_e.error(ye),fe)))})}},3099:(mt,Ee,V)=>{"use strict";V.d(Ee,{B:()=>ie});var I=V(8421),u=V(7579),B=V(930),ae=V(4482);function ie(ve={}){const{connector:_e=(()=>new u.x),resetOnError:ye=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=ve;return Y=>{let $e,be,le,He=0,ge=!1,de=!1;const Ye=()=>{be?.unsubscribe(),be=void 0},it=()=>{Ye(),$e=le=void 0,ge=de=!1},xe=()=>{const Se=$e;it(),Se?.unsubscribe()};return(0,ae.e)((Se,Re)=>{He++,!de&&!ge&&Ye();const Ke=le=le??_e();Re.add(()=>{He--,0===He&&!de&&!ge&&(be=fe(xe,z))}),Ke.subscribe(Re),!$e&&He>0&&($e=new B.Hp({next:Je=>Ke.next(Je),error:Je=>{de=!0,Ye(),be=fe(it,ye,Je),Ke.error(Je)},complete:()=>{ge=!0,Ye(),be=fe(it,G),Ke.complete()}}),(0,I.Xf)(Se).subscribe($e))})(Y)}}function fe(ve,_e,...ye){if(!0===_e)return void ve();if(!1===_e)return;const G=new B.Hp({next:()=>{G.unsubscribe(),ve()}});return _e(...ye).subscribe(G)}},9468:(mt,Ee,V)=>{"use strict";V.d(Ee,{R:()=>u});var I=V(4482);function u(B,ae=0){return(0,I.e)((ie,fe)=>{fe.add(B.schedule(()=>ie.subscribe(fe),ae))})}},8505:(mt,Ee,V)=>{"use strict";V.d(Ee,{b:()=>ie});var I=V(576),u=V(4482),B=V(5403),ae=V(4671);function ie(fe,ve,_e){const ye=(0,I.m)(fe)||ve||_e?{next:fe,error:ve,complete:_e}:fe;return ye?(0,u.e)((G,z)=>{var Y;null===(Y=ye.subscribe)||void 0===Y||Y.call(ye);let $e=!0;G.subscribe((0,B.x)(z,be=>{var le;null===(le=ye.next)||void 0===le||le.call(ye,be),z.next(be)},()=>{var be;$e=!1,null===(be=ye.complete)||void 0===be||be.call(ye),z.complete()},be=>{var le;$e=!1,null===(le=ye.error)||void 0===le||le.call(ye,be),z.error(be)},()=>{var be,le;$e&&(null===(be=ye.unsubscribe)||void 0===be||be.call(ye)),null===(le=ye.finalize)||void 0===le||le.call(ye)}))}):ae.y}},4408:(mt,Ee,V)=>{"use strict";V.d(Ee,{o:()=>ie});var I=V(727);class u extends I.w0{constructor(ve,_e){super()}schedule(ve,_e=0){return this}}const B={setInterval(fe,ve,..._e){const{delegate:ye}=B;return ye?.setInterval?ye.setInterval(fe,ve,..._e):setInterval(fe,ve,..._e)},clearInterval(fe){const{delegate:ve}=B;return(ve?.clearInterval||clearInterval)(fe)},delegate:void 0};var ae=V(8737);class ie extends u{constructor(ve,_e){super(ve,_e),this.scheduler=ve,this.work=_e,this.pending=!1}schedule(ve,_e=0){var ye;if(this.closed)return this;this.state=ve;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,_e)),this.pending=!0,this.delay=_e,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(z,this.id,_e),this}requestAsyncId(ve,_e,ye=0){return B.setInterval(ve.flush.bind(ve,this),ye)}recycleAsyncId(ve,_e,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return _e;null!=_e&&B.clearInterval(_e)}execute(ve,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ve,_e);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,_e){let G,ye=!1;try{this.work(ve)}catch(z){ye=!0,G=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ve,scheduler:_e}=this,{actions:ye}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=ve&&(this.id=this.recycleAsyncId(_e,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ee,V)=>{"use strict";V.d(Ee,{v:()=>B});var I=V(6063);class u{constructor(ie,fe=u.now){this.schedulerActionCtor=ie,this.now=fe}schedule(ie,fe=0,ve){return new this.schedulerActionCtor(this,ie).schedule(ve,fe)}}u.now=I.l.now;class B extends u{constructor(ie,fe=u.now){super(ie,fe),this.actions=[],this._active=!1}flush(ie){const{actions:fe}=this;if(this._active)return void fe.push(ie);let ve;this._active=!0;do{if(ve=ie.execute(ie.state,ie.delay))break}while(ie=fe.shift());if(this._active=!1,ve){for(;ie=fe.shift();)ie.unsubscribe();throw ve}}}},4986:(mt,Ee,V)=>{"use strict";V.d(Ee,{P:()=>ae,z:()=>B});var I=V(4408);const B=new(V(7565).v)(I.o),ae=B},6063:(mt,Ee,V)=>{"use strict";V.d(Ee,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(mt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>I});const I={setTimeout(u,B,...ae){const{delegate:ie}=I;return ie?.setTimeout?ie.setTimeout(u,B,...ae):setTimeout(u,B,...ae)},clearTimeout(u){const{delegate:B}=I;return(B?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(mt,Ee,V)=>{"use strict";V.d(Ee,{h:()=>u});const u=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ee,V)=>{"use strict";V.d(Ee,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ee,V)=>{"use strict";V.d(Ee,{_6:()=>fe,jO:()=>ae,yG:()=>ie});var I=V(576),u=V(3532);function B(ve){return ve[ve.length-1]}function ae(ve){return(0,I.m)(B(ve))?ve.pop():void 0}function ie(ve){return(0,u.K)(B(ve))?ve.pop():void 0}function fe(ve,_e){return"number"==typeof B(ve)?ve.pop():_e}},8737:(mt,Ee,V)=>{"use strict";function I(u,B){if(u){const ae=u.indexOf(B);0<=ae&&u.splice(ae,1)}}V.d(Ee,{P:()=>I})},3888:(mt,Ee,V)=>{"use strict";function I(u){const ae=u(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}V.d(Ee,{d:()=>I})},2806:(mt,Ee,V)=>{"use strict";V.d(Ee,{O:()=>ae,x:()=>B});var I=V(2416);let u=null;function B(ie){if(I.v.useDeprecatedSynchronousErrorHandling){const fe=!u;if(fe&&(u={errorThrown:!1,error:null}),ie(),fe){const{errorThrown:ve,error:_e}=u;if(u=null,ve)throw _e}}else ie()}function ae(ie){I.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=ie)}},9672:(mt,Ee,V)=>{"use strict";function I(u,B,ae,ie=0,fe=!1){const ve=B.schedule(function(){ae(),fe?u.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(u.add(ve),!fe)return ve}V.d(Ee,{f:()=>I})},4671:(mt,Ee,V)=>{"use strict";function I(u){return u}V.d(Ee,{y:()=>I})},1144:(mt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(mt,Ee,V)=>{"use strict";V.d(Ee,{D:()=>u});var I=V(576);function u(B){return Symbol.asyncIterator&&(0,I.m)(B?.[Symbol.asyncIterator])}},576:(mt,Ee,V)=>{"use strict";function I(u){return"function"==typeof u}V.d(Ee,{m:()=>I})},3670:(mt,Ee,V)=>{"use strict";V.d(Ee,{c:()=>B});var I=V(8822),u=V(576);function B(ae){return(0,u.m)(ae[I.L])}},6495:(mt,Ee,V)=>{"use strict";V.d(Ee,{T:()=>B});var I=V(2202),u=V(576);function B(ae){return(0,u.m)(ae?.[I.h])}},8239:(mt,Ee,V)=>{"use strict";V.d(Ee,{t:()=>u});var I=V(576);function u(B){return(0,I.m)(B?.then)}},3260:(mt,Ee,V)=>{"use strict";V.d(Ee,{L:()=>ae,Q:()=>B});var I=V(655),u=V(576);function B(ie){return(0,I.FC)(this,arguments,function*(){const ve=ie.getReader();try{for(;;){const{value:_e,done:ye}=yield(0,I.qq)(ve.read());if(ye)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(_e)}}finally{ve.releaseLock()}})}function ae(ie){return(0,u.m)(ie?.getReader)}},3532:(mt,Ee,V)=>{"use strict";V.d(Ee,{K:()=>u});var I=V(576);function u(B){return B&&(0,I.m)(B.schedule)}},4482:(mt,Ee,V)=>{"use strict";V.d(Ee,{A:()=>u,e:()=>B});var I=V(576);function u(ae){return(0,I.m)(ae?.lift)}function B(ae){return ie=>{if(u(ie))return ie.lift(function(fe){try{return ae(fe,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ee,V)=>{"use strict";function I(){}V.d(Ee,{Z:()=>I})},9635:(mt,Ee,V)=>{"use strict";V.d(Ee,{U:()=>B,z:()=>u});var I=V(4671);function u(...ae){return B(ae)}function B(ae){return 0===ae.length?I.y:1===ae.length?ae[0]:function(fe){return ae.reduce((ve,_e)=>_e(ve),fe)}}},7849:(mt,Ee,V)=>{"use strict";V.d(Ee,{h:()=>B});var I=V(2416),u=V(3410);function B(ae){u.z.setTimeout(()=>{const{onUnhandledError:ie}=I.v;if(!ie)throw ae;ie(ae)})}},4532:(mt,Ee,V)=>{"use strict";function I(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{z:()=>I})},655:(mt,Ee,V)=>{"use strict";function ae(X,re){var he={};for(var ce in X)Object.prototype.hasOwnProperty.call(X,ce)&&re.indexOf(ce)<0&&(he[ce]=X[ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ce=Object.getOwnPropertySymbols(X);Fe<ce.length;Fe++)re.indexOf(ce[Fe])<0&&Object.prototype.propertyIsEnumerable.call(X,ce[Fe])&&(he[ce[Fe]]=X[ce[Fe]])}return he}function _e(X,re,he,ce){return new(he||(he=Promise))(function(Ge,vt){function on(_n){try{nt(ce.next(_n))}catch(Mn){vt(Mn)}}function qt(_n){try{nt(ce.throw(_n))}catch(Mn){vt(Mn)}}function nt(_n){_n.done?Ge(_n.value):function Fe(Ge){return Ge instanceof he?Ge:new he(function(vt){vt(Ge)})}(_n.value).then(on,qt)}nt((ce=ce.apply(X,re||[])).next())})}function ge(X){return this instanceof ge?(this.v=X,this):new ge(X)}function de(X,re,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ce=he.apply(X,re||[]),Ge=[];return Fe={},vt("next"),vt("throw"),vt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function vt(an){ce[an]&&(Fe[an]=function(ln){return new Promise(function(Ar,jt){Ge.push([an,ln,Ar,jt])>1||on(an,ln)})})}function on(an,ln){try{!function qt(an){an.value instanceof ge?Promise.resolve(an.value.v).then(nt,_n):Mn(Ge[0][2],an)}(ce[an](ln))}catch(Ar){Mn(Ge[0][3],Ar)}}function nt(an){on("next",an)}function _n(an){on("throw",an)}function Mn(an,ln){an(ln),Ge.shift(),Ge.length&&on(Ge[0][0],Ge[0][1])}}function it(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,re=X[Symbol.asyncIterator];return re?re.call(X):(X=function Y(X){var re="function"==typeof Symbol&&Symbol.iterator,he=re&&X[re],ce=0;if(he)return he.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ce>=X.length&&(X=void 0),{value:X&&X[ce++],done:!X}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),he={},ce("next"),ce("throw"),ce("return"),he[Symbol.asyncIterator]=function(){return this},he);function ce(Ge){he[Ge]=X[Ge]&&function(vt){return new Promise(function(on,qt){!function Fe(Ge,vt,on,qt){Promise.resolve(qt).then(function(nt){Ge({value:nt,done:on})},vt)}(on,qt,(vt=X[Ge](vt)).done,vt.value)})}}}V.d(Ee,{FC:()=>de,KL:()=>it,_T:()=>ae,mG:()=>_e,qq:()=>ge})},6895:(mt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{APP_BASE_HREF:()=>de,AsyncPipe:()=>Do,CommonModule:()=>Co,CurrencyPipe:()=>hs,DATE_PIPE_DEFAULT_TIMEZONE:()=>nr,DOCUMENT:()=>ve,DatePipe:()=>rr,DecimalPipe:()=>ci,FormStyle:()=>X,FormatWidth:()=>he,HashLocationStrategy:()=>it,I18nPluralPipe:()=>kn,I18nSelectPipe:()=>ds,IMAGE_LOADER:()=>na,JsonPipe:()=>wo,KeyValuePipe:()=>qn,LOCATION_INITIALIZED:()=>G,Location:()=>xe,LocationStrategy:()=>ge,LowerCasePipe:()=>Rs,NgClass:()=>wn,NgComponentOutlet:()=>Ks,NgFor:()=>Ms,NgForOf:()=>Ms,NgForOfContext:()=>Ns,NgIf:()=>ur,NgIfContext:()=>Sa,NgLocaleLocalization:()=>cr,NgLocalization:()=>cs,NgOptimizedImage:()=>Wi,NgPlural:()=>pc,NgPluralCase:()=>Os,NgStyle:()=>yl,NgSwitch:()=>Ko,NgSwitchCase:()=>vo,NgSwitchDefault:()=>Aa,NgTemplateOutlet:()=>Qo,NumberFormatStyle:()=>q,NumberSymbol:()=>ce,PRECONNECT_CHECK_BLOCKLIST:()=>Qs,PathLocationStrategy:()=>Ye,PercentPipe:()=>$i,PlatformLocation:()=>_e,Plural:()=>Te,SlicePipe:()=>Oa,TitleCasePipe:()=>Yo,TranslationWidth:()=>re,UpperCasePipe:()=>Dl,VERSION:()=>Gn,ViewportScroller:()=>Si,WeekDay:()=>Fe,XhrFactory:()=>Xo,formatCurrency:()=>ls,formatDate:()=>yn,formatNumber:()=>Ue,formatPercent:()=>Mr,getCurrencySymbol:()=>os,getLocaleCurrencyCode:()=>Kr,getLocaleCurrencyName:()=>ii,getLocaleCurrencySymbol:()=>ss,getLocaleDateFormat:()=>an,getLocaleDateTimeFormat:()=>Ar,getLocaleDayNames:()=>on,getLocaleDayPeriods:()=>vt,getLocaleDirection:()=>qs,getLocaleEraNames:()=>nt,getLocaleExtraDayPeriodRules:()=>Br,getLocaleExtraDayPeriods:()=>oi,getLocaleFirstDayOfWeek:()=>_n,getLocaleId:()=>Ge,getLocaleMonthNames:()=>qt,getLocaleNumberFormat:()=>Dn,getLocaleNumberSymbol:()=>jt,getLocalePluralCase:()=>Ss,getLocaleTimeFormat:()=>ln,getLocaleWeekEndRange:()=>Mn,getNumberOfCurrencyDigits:()=>ai,isPlatformBrowser:()=>wl,isPlatformServer:()=>$r,isPlatformWorkerApp:()=>gc,isPlatformWorkerUi:()=>ks,provideCloudflareLoader:()=>Pe,provideCloudinaryLoader:()=>So,provideImageKitLoader:()=>jn,provideImgixLoader:()=>Gi,registerLocaleData:()=>Qn,\u0275BrowserPlatformLocation:()=>z,\u0275DomAdapter:()=>fe,\u0275NullViewportScroller:()=>Jo,\u0275PLATFORM_BROWSER_ID:()=>Ur,\u0275PLATFORM_SERVER_ID:()=>Hn,\u0275PLATFORM_WORKER_APP_ID:()=>Yr,\u0275PLATFORM_WORKER_UI_ID:()=>fs,\u0275getDOM:()=>B,\u0275parseCookieValue:()=>Ta,\u0275setRootDomAdapter:()=>ie});var I=V(4650);let u=null;function B(){return u}function ie(C){u||(u=C)}class fe{}const ve=new I.InjectionToken("DocumentToken");let _e=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function ye(){return(0,I.\u0275\u0275inject)(z)}()},providedIn:"platform"}),C})();const G=new I.InjectionToken("Location Initialized");let z=(()=>{class C extends _e{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",T,!1),()=>P.removeEventListener("popstate",T)}onHashChange(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",T,!1),()=>P.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,P,H){Y()?this._history.pushState(T,P,H):this.location.hash=H}replaceState(T,P,H){Y()?this._history.replaceState(T,P,H):this.location.hash=H}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(ve))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function $e(){return new z((0,I.\u0275\u0275inject)(ve))}()},providedIn:"platform"}),C})();function Y(){return!!window.history.pushState}function be(C,R){if(0==C.length)return R;if(0==R.length)return C;let T=0;return C.endsWith("/")&&T++,R.startsWith("/")&&T++,2==T?C+R.substring(1):1==T?C+R:C+"/"+R}function le(C){const R=C.match(/#|\?|$/),T=R&&R.index||C.length;return C.slice(0,T-("/"===C[T-1]?1:0))+C.slice(T)}function He(C){return C&&"?"!==C[0]?"?"+C:C}let ge=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return(0,I.inject)(Ye)},providedIn:"root"}),C})();const de=new I.InjectionToken("appBaseHref");let Ye=(()=>{class C extends ge{constructor(T,P){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,I.inject)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return be(this._baseHref,T)}path(T=!1){const P=this._platformLocation.pathname+He(this._platformLocation.search),H=this._platformLocation.hash;return H&&T?`${P}${H}`:P}pushState(T,P,H,ue){const De=this.prepareExternalUrl(H+He(ue));this._platformLocation.pushState(T,P,De)}replaceState(T,P,H,ue){const De=this.prepareExternalUrl(H+He(ue));this._platformLocation.replaceState(T,P,De)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(_e),I.\u0275\u0275inject(de,8))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),it=(()=>{class C extends ge{constructor(T,P){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(T){const P=be(this._baseHref,T);return P.length>0?"#"+P:P}pushState(T,P,H,ue){let De=this.prepareExternalUrl(H+He(ue));0==De.length&&(De=this._platformLocation.pathname),this._platformLocation.pushState(T,P,De)}replaceState(T,P,H,ue){let De=this.prepareExternalUrl(H+He(ue));0==De.length&&(De=this._platformLocation.pathname),this._platformLocation.replaceState(T,P,De)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(_e),I.\u0275\u0275inject(de,8))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})(),xe=(()=>{class C{constructor(T){this._subject=new I.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const P=this._locationStrategy.getBaseHref();this._baseHref=le(Ke(P)),this._locationStrategy.onPopState(H=>{this._subject.emit({url:this.path(!0),pop:!0,state:H.state,type:H.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,P=""){return this.path()==this.normalize(T+He(P))}normalize(T){return C.stripTrailingSlash(function Re(C,R){return C&&R.startsWith(C)?R.substring(C.length):R}(this._baseHref,Ke(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,P="",H=null){this._locationStrategy.pushState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+He(P)),H)}replaceState(T,P="",H=null){this._locationStrategy.replaceState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+He(P)),H)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",P){this._urlChangeListeners.forEach(H=>H(T,P))}subscribe(T,P,H){return this._subject.subscribe({next:T,error:P,complete:H})}}return C.normalizeQueryParams=He,C.joinWithSlash=be,C.stripTrailingSlash=le,C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(ge))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(){return function Se(){return new xe((0,I.\u0275\u0275inject)(ge))}()},providedIn:"root"}),C})();function Ke(C){return C.replace(/\/index.html$/,"")}const Je={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),Te=(()=>((Te=Te||{})[Te.Zero=0]="Zero",Te[Te.One=1]="One",Te[Te.Two=2]="Two",Te[Te.Few=3]="Few",Te[Te.Many=4]="Many",Te[Te.Other=5]="Other",Te))(),X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))(),Fe=(()=>((Fe=Fe||{})[Fe.Sunday=0]="Sunday",Fe[Fe.Monday=1]="Monday",Fe[Fe.Tuesday=2]="Tuesday",Fe[Fe.Wednesday=3]="Wednesday",Fe[Fe.Thursday=4]="Thursday",Fe[Fe.Friday=5]="Friday",Fe[Fe.Saturday=6]="Saturday",Fe))();function Ge(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.LocaleId]}function vt(C,R,T){const P=(0,I.\u0275findLocaleData)(C),ue=ot([P[I.\u0275LocaleDataIndex.DayPeriodsFormat],P[I.\u0275LocaleDataIndex.DayPeriodsStandalone]],R);return ot(ue,T)}function on(C,R,T){const P=(0,I.\u0275findLocaleData)(C),ue=ot([P[I.\u0275LocaleDataIndex.DaysFormat],P[I.\u0275LocaleDataIndex.DaysStandalone]],R);return ot(ue,T)}function qt(C,R,T){const P=(0,I.\u0275findLocaleData)(C),ue=ot([P[I.\u0275LocaleDataIndex.MonthsFormat],P[I.\u0275LocaleDataIndex.MonthsStandalone]],R);return ot(ue,T)}function nt(C,R){return ot((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Eras],R)}function _n(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.FirstDayOfWeek]}function Mn(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.WeekendRange]}function an(C,R){return ot((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.DateFormat],R)}function ln(C,R){return ot((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.TimeFormat],R)}function Ar(C,R){return ot((0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.DateTimeFormat],R)}function jt(C,R){const T=(0,I.\u0275findLocaleData)(C),P=T[I.\u0275LocaleDataIndex.NumberSymbols][R];if(typeof P>"u"){if(R===ce.CurrencyDecimal)return T[I.\u0275LocaleDataIndex.NumberSymbols][ce.Decimal];if(R===ce.CurrencyGroup)return T[I.\u0275LocaleDataIndex.NumberSymbols][ce.Group]}return P}function Dn(C,R){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.NumberFormats][R]}function ss(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.CurrencySymbol]||null}function ii(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.CurrencyName]||null}function Kr(C){return(0,I.\u0275getLocaleCurrencyCode)(C)}const Ss=I.\u0275getLocalePluralCase;function yi(C){if(!C[I.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[I.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Br(C){const R=(0,I.\u0275findLocaleData)(C);return yi(R),(R[I.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Nr(P):[Nr(P[0]),Nr(P[1])])}function oi(C,R,T){const P=(0,I.\u0275findLocaleData)(C);yi(P);const ue=ot([P[I.\u0275LocaleDataIndex.ExtraData][0],P[I.\u0275LocaleDataIndex.ExtraData][1]],R)||[];return ot(ue,T)||[]}function qs(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Directionality]}function ot(C,R){for(let T=R;T>-1;T--)if(typeof C[T]<"u")return C[T];throw new Error("Locale data API: locale data undefined")}function Nr(C){const[R,T]=C.split(":");return{hours:+R,minutes:+T}}function os(C,R,T="en"){const P=function si(C){return(0,I.\u0275findLocaleData)(C)[I.\u0275LocaleDataIndex.Currencies]}(T)[C]||Je[C]||[],H=P[1];return"narrow"===R&&"string"==typeof H?H:P[0]||C}function ai(C){let R;const T=Je[C];return T&&(R=T[2]),"number"==typeof R?R:2}const as=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zn={},Un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),Tt=(()=>((Tt=Tt||{})[Tt.FullYear=0]="FullYear",Tt[Tt.Month=1]="Month",Tt[Tt.Date=2]="Date",Tt[Tt.Hours=3]="Hours",Tt[Tt.Minutes=4]="Minutes",Tt[Tt.Seconds=5]="Seconds",Tt[Tt.FractionalSeconds=6]="FractionalSeconds",Tt[Tt.Day=7]="Day",Tt))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function yn(C,R,T,P){let H=function Xe(C){if(fn(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[H,ue=1,De=1]=C.split("-").map(lt=>+lt);return _r(H,ue-1,De)}const T=parseFloat(C);if(!isNaN(C-T))return new Date(T);let P;if(P=C.match(as))return function Ct(C){const R=new Date(0);let T=0,P=0;const H=C[8]?R.setUTCFullYear:R.setFullYear,ue=C[8]?R.setUTCHours:R.setHours;C[9]&&(T=Number(C[9]+C[10]),P=Number(C[9]+C[11])),H.call(R,Number(C[1]),Number(C[2])-1,Number(C[3]));const De=Number(C[4]||0)-T,lt=Number(C[5]||0)-P,nn=Number(C[6]||0),hn=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return ue.call(R,De,lt,nn,hn),R}(P)}const R=new Date(C);if(!fn(R))throw new Error(`Unable to convert "${C}" into a date`);return R}(C);R=On(T,R)||R;let lt,De=[];for(;R;){if(lt=Un.exec(R),!lt){De.push(R);break}{De=De.concat(lt.slice(1));const sn=De.pop();if(!sn)break;R=sn}}let nn=H.getTimezoneOffset();P&&(nn=ee(P,nn),H=function ne(C,R,T){const P=T?-1:1,H=C.getTimezoneOffset();return function Me(C,R){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+R),C}(C,P*(ee(R,H)-H))}(H,P,!0));let hn="";return De.forEach(sn=>{const en=function W(C){if(Z[C])return Z[C];let R;switch(C){case"G":case"GG":case"GGG":R=gn(wt.Eras,re.Abbreviated);break;case"GGGG":R=gn(wt.Eras,re.Wide);break;case"GGGGG":R=gn(wt.Eras,re.Narrow);break;case"y":R=un(Tt.FullYear,1,0,!1,!0);break;case"yy":R=un(Tt.FullYear,2,0,!0,!0);break;case"yyy":R=un(Tt.FullYear,3,0,!1,!0);break;case"yyyy":R=un(Tt.FullYear,4,0,!1,!0);break;case"Y":R=Gt(1);break;case"YY":R=Gt(2,!0);break;case"YYY":R=Gt(3);break;case"YYYY":R=Gt(4);break;case"M":case"L":R=un(Tt.Month,1,1);break;case"MM":case"LL":R=un(Tt.Month,2,1);break;case"MMM":R=gn(wt.Months,re.Abbreviated);break;case"MMMM":R=gn(wt.Months,re.Wide);break;case"MMMMM":R=gn(wt.Months,re.Narrow);break;case"LLL":R=gn(wt.Months,re.Abbreviated,X.Standalone);break;case"LLLL":R=gn(wt.Months,re.Wide,X.Standalone);break;case"LLLLL":R=gn(wt.Months,re.Narrow,X.Standalone);break;case"w":R=Mt(1);break;case"ww":R=Mt(2);break;case"W":R=Mt(1,!0);break;case"d":R=un(Tt.Date,1);break;case"dd":R=un(Tt.Date,2);break;case"c":case"cc":R=un(Tt.Day,1);break;case"ccc":R=gn(wt.Days,re.Abbreviated,X.Standalone);break;case"cccc":R=gn(wt.Days,re.Wide,X.Standalone);break;case"ccccc":R=gn(wt.Days,re.Narrow,X.Standalone);break;case"cccccc":R=gn(wt.Days,re.Short,X.Standalone);break;case"E":case"EE":case"EEE":R=gn(wt.Days,re.Abbreviated);break;case"EEEE":R=gn(wt.Days,re.Wide);break;case"EEEEE":R=gn(wt.Days,re.Narrow);break;case"EEEEEE":R=gn(wt.Days,re.Short);break;case"a":case"aa":case"aaa":R=gn(wt.DayPeriods,re.Abbreviated);break;case"aaaa":R=gn(wt.DayPeriods,re.Wide);break;case"aaaaa":R=gn(wt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":R=gn(wt.DayPeriods,re.Abbreviated,X.Standalone,!0);break;case"bbbb":R=gn(wt.DayPeriods,re.Wide,X.Standalone,!0);break;case"bbbbb":R=gn(wt.DayPeriods,re.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":R=gn(wt.DayPeriods,re.Abbreviated,X.Format,!0);break;case"BBBB":R=gn(wt.DayPeriods,re.Wide,X.Format,!0);break;case"BBBBB":R=gn(wt.DayPeriods,re.Narrow,X.Format,!0);break;case"h":R=un(Tt.Hours,1,-12);break;case"hh":R=un(Tt.Hours,2,-12);break;case"H":R=un(Tt.Hours,1);break;case"HH":R=un(Tt.Hours,2);break;case"m":R=un(Tt.Minutes,1);break;case"mm":R=un(Tt.Minutes,2);break;case"s":R=un(Tt.Seconds,1);break;case"ss":R=un(Tt.Seconds,2);break;case"S":R=un(Tt.FractionalSeconds,1);break;case"SS":R=un(Tt.FractionalSeconds,2);break;case"SSS":R=un(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":R=jr(Ut.Short);break;case"ZZZZZ":R=jr(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":R=jr(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":R=jr(Ut.Long);break;default:return null}return Z[C]=R,R}(sn);hn+=en?en(H,T,nn):"''"===sn?"'":sn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hn}function _r(C,R,T){const P=new Date(0);return P.setFullYear(C,R,T),P.setHours(0,0,0),P}function On(C,R){const T=Ge(C);if(zn[T]=zn[T]||{},zn[T][R])return zn[T][R];let P="";switch(R){case"shortDate":P=an(C,he.Short);break;case"mediumDate":P=an(C,he.Medium);break;case"longDate":P=an(C,he.Long);break;case"fullDate":P=an(C,he.Full);break;case"shortTime":P=ln(C,he.Short);break;case"mediumTime":P=ln(C,he.Medium);break;case"longTime":P=ln(C,he.Long);break;case"fullTime":P=ln(C,he.Full);break;case"short":const H=On(C,"shortTime"),ue=On(C,"shortDate");P=li(Ar(C,he.Short),[H,ue]);break;case"medium":const De=On(C,"mediumTime"),lt=On(C,"mediumDate");P=li(Ar(C,he.Medium),[De,lt]);break;case"long":const nn=On(C,"longTime"),hn=On(C,"longDate");P=li(Ar(C,he.Long),[nn,hn]);break;case"full":const sn=On(C,"fullTime"),en=On(C,"fullDate");P=li(Ar(C,he.Full),[sn,en])}return P&&(zn[T][R]=P),P}function li(C,R){return R&&(C=C.replace(/\{([^}]+)}/g,function(T,P){return null!=R&&P in R?R[P]:T})),C}function Vt(C,R,T="-",P,H){let ue="";(C<0||H&&C<=0)&&(H?C=1-C:(C=-C,ue=T));let De=String(C);for(;De.length<R;)De="0"+De;return P&&(De=De.slice(De.length-R)),ue+De}function un(C,R,T=0,P=!1,H=!1){return function(ue,De){let lt=function Bi(C,R){switch(C){case Tt.FullYear:return R.getFullYear();case Tt.Month:return R.getMonth();case Tt.Date:return R.getDate();case Tt.Hours:return R.getHours();case Tt.Minutes:return R.getMinutes();case Tt.Seconds:return R.getSeconds();case Tt.FractionalSeconds:return R.getMilliseconds();case Tt.Day:return R.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,ue);if((T>0||lt>-T)&&(lt+=T),C===Tt.Hours)0===lt&&-12===T&&(lt=12);else if(C===Tt.FractionalSeconds)return function Ti(C,R){return Vt(C,3).substring(0,R)}(lt,R);const nn=jt(De,ce.MinusSign);return Vt(lt,R,nn,P,H)}}function gn(C,R,T=X.Format,P=!1){return function(H,ue){return function yr(C,R,T,P,H,ue){switch(T){case wt.Months:return qt(R,H,P)[C.getMonth()];case wt.Days:return on(R,H,P)[C.getDay()];case wt.DayPeriods:const De=C.getHours(),lt=C.getMinutes();if(ue){const hn=Br(R),sn=oi(R,H,P),en=hn.findIndex(hr=>{if(Array.isArray(hr)){const[vn,Pn]=hr,eo=De>=vn.hours&&lt>=vn.minutes,gs=De<Pn.hours||De===Pn.hours&&lt<Pn.minutes;if(vn.hours<Pn.hours){if(eo&&gs)return!0}else if(eo||gs)return!0}else if(hr.hours===De&&hr.minutes===lt)return!0;return!1});if(-1!==en)return sn[en]}return vt(R,H,P)[De<12?0:1];case wt.Eras:return nt(R,P)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(H,ue,C,R,T,P)}}function jr(C){return function(R,T,P){const H=-1*P,ue=jt(T,ce.MinusSign),De=H>0?Math.floor(H/60):Math.ceil(H/60);switch(C){case Ut.Short:return(H>=0?"+":"")+Vt(De,2,ue)+Vt(Math.abs(H%60),2,ue);case Ut.ShortGMT:return"GMT"+(H>=0?"+":"")+Vt(De,1,ue);case Ut.Long:return"GMT"+(H>=0?"+":"")+Vt(De,2,ue)+":"+Vt(Math.abs(H%60),2,ue);case Ut.Extended:return 0===P?"Z":(H>=0?"+":"")+Vt(De,2,ue)+":"+Vt(Math.abs(H%60),2,ue);default:throw new Error(`Unknown zone width "${C}"`)}}}function kt(C){return _r(C.getFullYear(),C.getMonth(),C.getDate()+(4-C.getDay()))}function Mt(C,R=!1){return function(T,P){let H;if(R){const ue=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,De=T.getDate();H=1+Math.floor((De+ue)/7)}else{const ue=kt(T),De=function ft(C){const R=_r(C,0,1).getDay();return _r(C,0,1+(R<=4?4:11)-R)}(ue.getFullYear()),lt=ue.getTime()-De.getTime();H=1+Math.round(lt/6048e5)}return Vt(H,C,jt(P,ce.MinusSign))}}function Gt(C,R=!1){return function(T,P){return Vt(kt(T).getFullYear(),C,jt(P,ce.MinusSign),R)}}const Z={};function ee(C,R){C=C.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(T)?R:T}function fn(C){return C instanceof Date&&!isNaN(C.valueOf())}const Rn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wt(C,R,T,P,H,ue,De=!1){let lt="",nn=!1;if(isFinite(C)){let hn=function yo(C){let P,H,ue,De,lt,R=Math.abs(C)+"",T=0;for((H=R.indexOf("."))>-1&&(R=R.replace(".","")),(ue=R.search(/e/i))>0?(H<0&&(H=ue),H+=+R.slice(ue+1),R=R.substring(0,ue)):H<0&&(H=R.length),ue=0;"0"===R.charAt(ue);ue++);if(ue===(lt=R.length))P=[0],H=1;else{for(lt--;"0"===R.charAt(lt);)lt--;for(H-=ue,P=[],De=0;ue<=lt;ue++,De++)P[De]=Number(R.charAt(ue))}return H>22&&(P=P.splice(0,21),T=H-1,H=1),{digits:P,exponent:T,integerLen:H}}(C);De&&(hn=function Zs(C){if(0===C.digits[0])return C;const R=C.digits.length-C.integerLen;return C.exponent?C.exponent+=2:(0===R?C.digits.push(0,0):1===R&&C.digits.push(0),C.integerLen+=2),C}(hn));let sn=R.minInt,en=R.minFrac,hr=R.maxFrac;if(ue){const Mo=ue.match(Rn);if(null===Mo)throw new Error(`${ue} is not a valid digit info`);const di=Mo[1],hi=Mo[3],Ni=Mo[5];null!=di&&(sn=tr(di)),null!=hi&&(en=tr(hi)),null!=Ni?hr=tr(Ni):null!=hi&&en>hr&&(hr=en)}!function ji(C,R,T){if(R>T)throw new Error(`The minimum number of digits after fraction (${R}) is higher than the maximum (${T}).`);let P=C.digits,H=P.length-C.integerLen;const ue=Math.min(Math.max(R,H),T);let De=ue+C.integerLen,lt=P[De];if(De>0){P.splice(Math.max(C.integerLen,De));for(let en=De;en<P.length;en++)P[en]=0}else{H=Math.max(0,H),C.integerLen=1,P.length=Math.max(1,De=ue+1),P[0]=0;for(let en=1;en<De;en++)P[en]=0}if(lt>=5)if(De-1<0){for(let en=0;en>De;en--)P.unshift(0),C.integerLen++;P.unshift(1),C.integerLen++}else P[De-1]++;for(;H<Math.max(0,ue);H++)P.push(0);let nn=0!==ue;const hn=R+C.integerLen,sn=P.reduceRight(function(en,hr,vn,Pn){return Pn[vn]=(hr+=en)<10?hr:hr-10,nn&&(0===Pn[vn]&&vn>=hn?Pn.pop():nn=!1),hr>=10?1:0},0);sn&&(P.unshift(sn),C.integerLen++)}(hn,en,hr);let vn=hn.digits,Pn=hn.integerLen;const eo=hn.exponent;let gs=[];for(nn=vn.every(Mo=>!Mo);Pn<sn;Pn++)vn.unshift(0);for(;Pn<0;Pn++)vn.unshift(0);Pn>0?gs=vn.splice(Pn,vn.length):(gs=vn,vn=[0]);const zi=[];for(vn.length>=R.lgSize&&zi.unshift(vn.splice(-R.lgSize,vn.length).join(""));vn.length>R.gSize;)zi.unshift(vn.splice(-R.gSize,vn.length).join(""));vn.length&&zi.unshift(vn.join("")),lt=zi.join(jt(T,P)),gs.length&&(lt+=jt(T,H)+gs.join("")),eo&&(lt+=jt(T,ce.Exponential)+"+"+eo)}else lt=jt(T,ce.Infinity);return lt=C<0&&!nn?R.negPre+lt+R.negSuf:R.posPre+lt+R.posSuf,lt}function ls(C,R,T,P,H){const De=Vn(Dn(R,q.Currency),jt(R,ce.MinusSign));return De.minFrac=ai(P),De.maxFrac=De.minFrac,Wt(C,De,R,ce.CurrencyGroup,ce.CurrencyDecimal,H).replace("\xa4",T).replace("\xa4","").trim()}function Mr(C,R,T){return Wt(C,Vn(Dn(R,q.Percent),jt(R,ce.MinusSign)),R,ce.Group,ce.Decimal,T,!0).replace(new RegExp("%","g"),jt(R,ce.PercentSign))}function Ue(C,R,T){return Wt(C,Vn(Dn(R,q.Decimal),jt(R,ce.MinusSign)),R,ce.Group,ce.Decimal,T)}function Vn(C,R="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=C.split(";"),H=P[0],ue=P[1],De=-1!==H.indexOf(".")?H.split("."):[H.substring(0,H.lastIndexOf("0")+1),H.substring(H.lastIndexOf("0")+1)],lt=De[0],nn=De[1]||"";T.posPre=lt.substring(0,lt.indexOf("#"));for(let sn=0;sn<nn.length;sn++){const en=nn.charAt(sn);"0"===en?T.minFrac=T.maxFrac=sn+1:"#"===en?T.maxFrac=sn+1:T.posSuf+=en}const hn=lt.split(",");if(T.gSize=hn[1]?hn[1].length:0,T.lgSize=hn[2]||hn[1]?(hn[2]||hn[1]).length:0,ue){const sn=H.length-T.posPre.length-T.posSuf.length,en=ue.indexOf("#");T.negPre=ue.substring(0,en).replace(/'/g,""),T.negSuf=ue.slice(en+sn).replace(/'/g,"")}else T.negPre=R+T.posPre,T.negSuf=T.posSuf;return T}function tr(C){const R=parseInt(C);if(isNaN(R))throw new Error("Invalid integer literal when parsing "+C);return R}let cs=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:function(T){let P=null;return T?P=new T:(H=I.\u0275\u0275inject(I.LOCALE_ID),P=new cr(H)),P;var H},providedIn:"root"}),C})();function $n(C,R,T,P){let H=`=${C}`;if(R.indexOf(H)>-1||(H=T.getPluralCategory(C,P),R.indexOf(H)>-1))return H;if(R.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${C}"`)}let cr=(()=>{class C extends cs{constructor(T){super(),this.locale=T}getPluralCategory(T,P){switch(Ss(P||this.locale)(T)){case Te.Zero:return"zero";case Te.One:return"one";case Te.Two:return"two";case Te.Few:return"few";case Te.Many:return"many";default:return"other"}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275inject(I.LOCALE_ID))},C.\u0275prov=I.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();function Qn(C,R,T){return(0,I.\u0275registerLocaleData)(C,R,T)}function Ta(C,R){R=encodeURIComponent(R);for(const T of C.split(";")){const P=T.indexOf("="),[H,ue]=-1==P?[T,""]:[T.slice(0,P),T.slice(P+1)];if(H.trim()===R)return decodeURIComponent(ue)}return null}let wn=(()=>{class C{constructor(T,P,H,ue){this._iterableDiffers=T,this._keyValueDiffers=P,this._ngEl=H,this._renderer=ue,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,I.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),T.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!0)):Object.keys(T).forEach(P=>this._toggleClass(P,!!T[P])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!1)):Object.keys(T).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(T,P){(T=T.trim())&&T.split(/\s+/g).forEach(H=>{P?this._renderer.addClass(this._ngEl.nativeElement,H):this._renderer.removeClass(this._ngEl.nativeElement,H)})}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})(),Ks=(()=>{class C{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:P,ngComponentOutletNgModule:H,ngComponentOutletNgModuleFactory:ue}=this;if(P.clear(),this._componentRef=void 0,this.ngComponentOutlet){const De=this.ngComponentOutletInjector||P.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=H?(0,I.createNgModule)(H,_l(De)):ue?ue.create(_l(De)):void 0),this._componentRef=P.createComponent(this.ngComponentOutlet,{index:P.length,injector:De,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function _l(C){return C.get(I.NgModuleRef).injector}class Ns{constructor(R,T,P,H){this.$implicit=R,this.ngForOf=T,this.index=P,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ms=(()=>{class C{constructor(T,P,H){this._viewContainer=T,this._template=P,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const P=this._viewContainer;T.forEachOperation((H,ue,De)=>{if(null==H.previousIndex)P.createEmbeddedView(this._template,new Ns(H.item,this._ngForOf,-1,-1),null===De?void 0:De);else if(null==De)P.remove(null===ue?void 0:ue);else if(null!==ue){const lt=P.get(ue);P.move(lt,De),us(lt,H)}});for(let H=0,ue=P.length;H<ue;H++){const lt=P.get(H).context;lt.index=H,lt.count=ue,lt.ngForOf=this._ngForOf}T.forEachIdentityChange(H=>{us(P.get(H.currentIndex),H)})}static ngTemplateContextGuard(T,P){return!0}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.IterableDiffers))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function us(C,R){C.context.$implicit=R.item}let ur=(()=>{class C{constructor(T,P){this._viewContainer=T,this._context=new Sa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){rn("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){rn("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,P){return!0}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class Sa{constructor(){this.$implicit=null,this.ngIf=null}}function rn(C,R){if(R&&!R.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,I.\u0275stringify)(R)}'.`)}class Qr{constructor(R,T){this._viewContainerRef=R,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(R){R&&!this._created?this.create():!R&&this._created&&this.destroy()}}let Ko=(()=>{class C{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const P=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(T)}}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),C})(),vo=(()=>{class C{constructor(T,P,H){this.ngSwitch=H,H._addCase(),this._view=new Qr(T,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Ko,9))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),C})(),Aa=(()=>{class C{constructor(T,P,H){H._addDefault(new Qr(T,P))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Ko,9))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngSwitchDefault",""]],standalone:!0}),C})(),pc=(()=>{class C{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,P){this._caseViews[T]=P}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),P=$n(this._switchValue,T,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(cs))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),C})(),Os=(()=>{class C{constructor(T,P,H,ue){this.value=T;const De=!isNaN(Number(T));ue.addCase(De?`=${T}`:T,new Qr(H,P))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275injectAttribute("ngPluralCase"),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(pc,1))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngPluralCase",""]],standalone:!0}),C})(),yl=(()=>{class C{constructor(T,P,H){this._ngEl=T,this._differs=P,this._renderer=H,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,P){const[H,ue]=T.split("."),De=-1===H.indexOf("-")?void 0:I.RendererStyleFlags2.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,H,ue?`${P}${ue}`:P,De):this._renderer.removeStyle(this._ngEl.nativeElement,H,De)}_applyChanges(T){T.forEachRemovedItem(P=>this._setStyle(P.key,null)),T.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),T.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.Renderer2))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),C})(),Qo=(()=>{class C{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:H,ngTemplateOutletContext:ue,ngTemplateOutletInjector:De}=this;this._viewRef=P.createEmbeddedView(H,ue,De?{injector:De}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function dr(C,R){return new I.\u0275RuntimeError(2100,!1)}class vl{createSubscription(R,T){return R.subscribe({next:T,error:P=>{throw P}})}dispose(R){R.unsubscribe()}}class bl{createSubscription(R,T){return R.then(T,P=>{throw P})}dispose(R){}}const Ui=new bl,cf=new vl;let Do=(()=>{class C{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,P=>this._updateLatestValue(T,P))}_selectStrategy(T){if((0,I.\u0275isPromise)(T))return Ui;if((0,I.\u0275isSubscribable)(T))return cf;throw dr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,P){T===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"async",type:C,pure:!1,standalone:!0}),C})(),Rs=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw dr();return T.toLowerCase()}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"lowercase",type:C,pure:!0,standalone:!0}),C})();const xs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Yo=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw dr();return T.replace(xs,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"titlecase",type:C,pure:!0,standalone:!0}),C})(),Dl=(()=>{class C{transform(T){if(null==T)return null;if("string"!=typeof T)throw dr();return T.toUpperCase()}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"uppercase",type:C,pure:!0,standalone:!0}),C})();const nr=new I.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let rr=(()=>{class C{constructor(T,P){this.locale=T,this.defaultTimezone=P}transform(T,P="mediumDate",H,ue){if(null==T||""===T||T!=T)return null;try{return yn(T,P,ue||this.locale,H??this.defaultTimezone??void 0)}catch(De){throw dr()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(nr,24))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"date",type:C,pure:!0,standalone:!0}),C})();const ir=/#/g;let kn=(()=>{class C{constructor(T){this._localization=T}transform(T,P,H){if(null==T)return"";if("object"!=typeof P||null===P)throw dr();return P[$n(T,Object.keys(P),this._localization,H)].replace(ir,T.toString())}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(cs,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nPlural",type:C,pure:!0,standalone:!0}),C})(),ds=(()=>{class C{transform(T,P){if(null==T)return"";if("object"!=typeof P||"string"!=typeof T)throw dr();return P.hasOwnProperty(T)?P[T]:P.hasOwnProperty("other")?P.other:""}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nSelect",type:C,pure:!0,standalone:!0}),C})(),wo=(()=>{class C{transform(T){return JSON.stringify(T,null,2)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"json",type:C,pure:!1,standalone:!0}),C})(),qn=(()=>{class C{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=Sn}transform(T,P=Sn){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const H=this.differ.diff(T),ue=P!==this.compareFn;return H&&(this.keyValues=[],H.forEachItem(De=>{this.keyValues.push(function Na(C,R){return{key:C,value:R}}(De.key,De.currentValue))})),(H||ue)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.KeyValueDiffers,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"keyvalue",type:C,pure:!1,standalone:!0}),C})();function Sn(C,R){const T=C.key,P=R.key;if(T===P)return 0;if(void 0===T)return 1;if(void 0===P)return-1;if(null===T)return 1;if(null===P)return-1;if("string"==typeof T&&"string"==typeof P)return T<P?-1:1;if("number"==typeof T&&"number"==typeof P)return T-P;if("boolean"==typeof T&&"boolean"==typeof P)return T<P?-1:1;const H=String(T),ue=String(P);return H==ue?0:H<ue?-1:1}let ci=(()=>{class C{constructor(T){this._locale=T}transform(T,P,H){if(!Io(T))return null;H=H||this._locale;try{return Ue(Ma(T),H,P)}catch(ue){throw dr()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"number",type:C,pure:!0,standalone:!0}),C})(),$i=(()=>{class C{constructor(T){this._locale=T}transform(T,P,H){if(!Io(T))return null;H=H||this._locale;try{return Mr(Ma(T),H,P)}catch(ue){throw dr()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"percent",type:C,pure:!0,standalone:!0}),C})(),hs=(()=>{class C{constructor(T,P="USD"){this._locale=T,this._defaultCurrencyCode=P}transform(T,P=this._defaultCurrencyCode,H="symbol",ue,De){if(!Io(T))return null;De=De||this._locale,"boolean"==typeof H&&(H=H?"symbol":"code");let lt=P||this._defaultCurrencyCode;"code"!==H&&(lt="symbol"===H||"symbol-narrow"===H?os(lt,"symbol"===H?"wide":"narrow",De):H);try{return ls(Ma(T),De,lt,P,ue)}catch(nn){throw dr()}}}return C.\u0275fac=function(T){return new(T||C)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(I.DEFAULT_CURRENCY_CODE,16))},C.\u0275pipe=I.\u0275\u0275definePipe({name:"currency",type:C,pure:!0,standalone:!0}),C})();function Io(C){return!(null==C||""===C||C!=C)}function Ma(C){if("string"==typeof C&&!isNaN(Number(C)-parseFloat(C)))return Number(C);if("number"!=typeof C)throw new Error(`${C} is not a number`);return C}let Oa=(()=>{class C{transform(T,P,H){if(null==T)return null;if(!this.supports(T))throw dr();return T.slice(P,H)}supports(T){return"string"==typeof T||Array.isArray(T)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275pipe=I.\u0275\u0275definePipe({name:"slice",type:C,pure:!1,standalone:!0}),C})(),Co=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=I.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=I.\u0275\u0275defineInjector({}),C})();const Ur="browser",Hn="server",Yr="browserWorkerApp",fs="browserWorkerUi";function wl(C){return C===Ur}function $r(C){return C===Hn}function gc(C){return C===Yr}function ks(C){return C===fs}const Gn=new I.Version("14.2.8");let Si=(()=>{class C{}return C.\u0275prov=(0,I.\u0275\u0275defineInjectable)({token:C,providedIn:"root",factory:()=>new mc((0,I.\u0275\u0275inject)(ve),window)}),C})();class mc{constructor(R,T){this.document=R,this.window=T,this.offset=()=>[0,0]}setOffset(R){this.offset=Array.isArray(R)?()=>R:R}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(R){this.supportsScrolling()&&this.window.scrollTo(R[0],R[1])}scrollToAnchor(R){if(!this.supportsScrolling())return;const T=function Zn(C,R){const T=C.getElementById(R)||C.getElementsByName(R)[0];if(T)return T;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const P=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let H=P.currentNode;for(;H;){const ue=H.shadowRoot;if(ue){const De=ue.getElementById(R)||ue.querySelector(`[name="${R}"]`);if(De)return De}H=P.nextNode()}}return null}(this.document,R);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(R){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=R)}}scrollToElement(R){const T=R.getBoundingClientRect(),P=T.left+this.window.pageXOffset,H=T.top+this.window.pageYOffset,ue=this.offset();this.window.scrollTo(P-ue[0],H-ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const R=An(this.window.history)||An(Object.getPrototypeOf(this.window.history));return!(!R||!R.writable&&!R.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function An(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class Jo{setOffset(R){}getScrollPosition(){return[0,0]}scrollToPosition(R){}scrollToAnchor(R){}setHistoryScrollRestoration(R){}}class Xo{}function Bn(C){return C.startsWith("/")?C.slice(1):C}const Qs=new I.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),ta=C=>C.src,na=new I.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>ta});function Hi(C,R){return function(P,H={ensurePreconnect:!0}){return function bi(C){if("string"!=typeof C||""===C.trim())return!1;try{return new URL(C),!0}catch{return!1}}(P)||function ra(C,R){throw new I.\u0275RuntimeError(2959,!1)}(),P=function ea(C){return C.endsWith("/")?C.slice(0,-1):C}(P),[{provide:na,useValue:lt=>(function Ps(C){return/^https?:\/\//.test(C)}(lt.src)&&function Fs(C,R){throw new I.\u0275RuntimeError(2959,!1)}(),C(P,{...lt,src:Bn(lt.src)}))}]}}const Pe=Hi(Kt);function Kt(C,R){let T="format=auto";return R.width&&(T+=`,width=${R.width}`),`${C}/cdn-cgi/image/${T}/${R.src}`}const So=Hi(ia);function ia(C,R){let T="f_auto,q_auto";return R.width&&(T+=`,w_${R.width}`),`${C}/image/upload/${T}/${R.src}`}const jn=Hi(Ao);function Ao(C,R){let T="tr:q-auto";return R.width&&(T+=`,w-${R.width}`),`${C}/${T}/${R.src}`}const Gi=Hi(ui);function ui(C,R){const T=new URL(`${C}/${R.src}`);return T.searchParams.set("auto","format"),R.width&&T.searchParams.set("w",R.width.toString()),T.href}const Ai=/^((\s*\d+w\s*(,|$)){1,})$/;let Wi=(()=>{class C{constructor(){this.imageLoader=(0,I.inject)(na),this.renderer=(0,I.inject)(I.Renderer2),this.imgElement=(0,I.inject)(I.ElementRef).nativeElement,this.injector=(0,I.inject)(I.Injector),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=Jr(T)}get width(){return this._width}set height(T){this._height=Jr(T)}get height(){return this._height}set priority(T){this._priority=function hu(C){return null!=C&&"false"!=`${C}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.imageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const T=Ai.test(this.ngSrcset);return this.ngSrcset.split(",").filter(H=>""!==H).map(H=>{H=H.trim();const ue=T?parseFloat(H):parseFloat(H)*this.width;return`${this.imageLoader({src:this.ngSrc,width:ue})} ${H}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,P){this.renderer.setAttribute(this.imgElement,T,P)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275dir=I.\u0275\u0275defineDirective({type:C,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),C})();function Jr(C){return"string"==typeof C?parseInt(C,10):C}},4650:(mt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>_u,ANIMATION_MODULE_TYPE:()=>qE,APP_BOOTSTRAP_LISTENER:()=>l0,APP_ID:()=>ru,APP_INITIALIZER:()=>o0,ApplicationInitStatus:()=>uc,ApplicationModule:()=>gI,ApplicationRef:()=>zp,Attribute:()=>io,COMPILER_OPTIONS:()=>rd,CUSTOM_ELEMENTS_SCHEMA:()=>St,ChangeDetectionStrategy:()=>Un,ChangeDetectorRef:()=>d_,Compiler:()=>Yw,CompilerFactory:()=>dc,Component:()=>Hw,ComponentFactory:()=>Au,ComponentFactoryResolver:()=>Hd,ComponentRef:()=>qg,ContentChild:()=>hf,ContentChildren:()=>Cd,DEFAULT_CURRENCY_CODE:()=>l_,DebugElement:()=>Zp,DebugEventListener:()=>zh,DebugNode:()=>E0,DefaultIterableDiffer:()=>lI,Directive:()=>i_,ENVIRONMENT_INITIALIZER:()=>Ug,ElementRef:()=>f,EmbeddedViewRef:()=>oT,EnvironmentInjector:()=>bs,ErrorHandler:()=>Vf,EventEmitter:()=>ll,Host:()=>Ht,HostBinding:()=>zw,HostListener:()=>qw,INJECTOR:()=>Sf,Inject:()=>ke,InjectFlags:()=>ot,Injectable:()=>DN,InjectionToken:()=>Fn,Injector:()=>Ql,Input:()=>zE,IterableDiffers:()=>g_,KeyValueDiffers:()=>Kp,LOCALE_ID:()=>nd,MissingTranslationStrategy:()=>Hs,ModuleWithComponentFactories:()=>Qw,NO_ERRORS_SCHEMA:()=>kr,NgModule:()=>s_,NgModuleFactory:()=>Tw,NgModuleRef:()=>Jc,NgProbeToken:()=>eT,NgZone:()=>fo,Optional:()=>Qe,Output:()=>Ww,PACKAGE_ROOT_URL:()=>Gp,PLATFORM_ID:()=>Zw,PLATFORM_INITIALIZER:()=>td,Pipe:()=>Gw,PlatformRef:()=>Wp,Query:()=>Ga,QueryList:()=>Pp,ReflectiveInjector:()=>Zf,ReflectiveKey:()=>Yl,Renderer2:()=>L,RendererFactory2:()=>O,RendererStyleFlags2:()=>wi,ResolvedReflectiveFactory:()=>Xb,Sanitizer:()=>Ie,SecurityContext:()=>xr,Self:()=>bt,SimpleChange:()=>ci,SkipSelf:()=>Ot,TRANSLATIONS:()=>Kw,TRANSLATIONS_FORMAT:()=>KE,TemplateRef:()=>qu,Testability:()=>JE,TestabilityRegistry:()=>eI,Type:()=>Sc,VERSION:()=>pt,Version:()=>Ze,ViewChild:()=>vg,ViewChildren:()=>Tc,ViewContainerRef:()=>cl,ViewEncapsulation:()=>wt,ViewRef:()=>C0,asNativeElements:()=>qh,assertPlatform:()=>Gh,createComponent:()=>vI,createEnvironmentInjector:()=>Lt,createNgModule:()=>We,createNgModuleRef:()=>zr,createPlatform:()=>m0,createPlatformFactory:()=>rI,defineInjectable:()=>Ar,destroyPlatform:()=>nT,enableProdMode:()=>qp,forwardRef:()=>z,getDebugNode:()=>Zh,getModuleFactory:()=>D0,getNgModuleById:()=>iT,getPlatform:()=>Zr,importProvidersFrom:()=>Af,inject:()=>S,isDevMode:()=>rT,platformCore:()=>su,reflectComponentType:()=>gT,resolveForwardRef:()=>Y,setTestabilityGetter:()=>Xt,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>id,\u0275APP_ID_RANDOM_PROVIDER:()=>ed,\u0275ChangeDetectorStatus:()=>Ut,\u0275ComponentFactory:()=>Au,\u0275Console:()=>ZE,\u0275DEFAULT_LOCALE_ID:()=>ju,\u0275INJECTOR_SCOPE:()=>Su,\u0275LContext:()=>Eb,\u0275LifecycleHooksFeature:()=>Wy,\u0275LocaleDataIndex:()=>Ft,\u0275NG_COMP_DEF:()=>Ti,\u0275NG_DIR_DEF:()=>un,\u0275NG_ELEMENT_ID:()=>jr,\u0275NG_INJ_DEF:()=>Br,\u0275NG_MOD_DEF:()=>gn,\u0275NG_PIPE_DEF:()=>Bi,\u0275NG_PROV_DEF:()=>yi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Nt,\u0275NO_CHANGE:()=>Qt,\u0275NgModuleFactory:()=>Rh,\u0275NoopNgZone:()=>wa,\u0275ReflectionCapabilities:()=>Dg,\u0275Render3ComponentFactory:()=>ep,\u0275Render3ComponentRef:()=>sE,\u0275Render3NgModuleRef:()=>ic,\u0275RuntimeError:()=>le,\u0275TESTABILITY:()=>h0,\u0275TESTABILITY_GETTER:()=>Hh,\u0275ViewRef:()=>Xf,\u0275_sanitizeHtml:()=>Tu,\u0275_sanitizeUrl:()=>kd,\u0275allowSanitizationBypassAndThrow:()=>Pc,\u0275bypassSanitizationTrustHtml:()=>Rd,\u0275bypassSanitizationTrustResourceUrl:()=>Mg,\u0275bypassSanitizationTrustScript:()=>Ag,\u0275bypassSanitizationTrustStyle:()=>Sg,\u0275bypassSanitizationTrustUrl:()=>Ng,\u0275clearResolutionOfComponentResourcesQueue:()=>Iu,\u0275coerceToBoolean:()=>pT,\u0275compileComponent:()=>e0,\u0275compileDirective:()=>ul,\u0275compileNgModule:()=>Ci,\u0275compileNgModuleDefs:()=>Qv,\u0275compileNgModuleFactory:()=>p0,\u0275compilePipe:()=>s0,\u0275createInjector:()=>qb,\u0275defaultIterableDiffers:()=>N0,\u0275defaultKeyValueDiffers:()=>M0,\u0275detectChanges:()=>zt,\u0275devModeEqual:()=>aE,\u0275findLocaleData:()=>Lm,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>Zv,\u0275formatRuntimeError:()=>He,\u0275getDebugNode:()=>Zh,\u0275getDebugNodeR2:()=>lT,\u0275getDirectives:()=>Aw,\u0275getHostElement:()=>qm,\u0275getInjectableDef:()=>Dn,\u0275getLContext:()=>ws,\u0275getLocaleCurrencyCode:()=>Vm,\u0275getLocalePluralCase:()=>wh,\u0275getSanitizationBypassType:()=>el,\u0275getUnknownElementStrictMode:()=>Zg,\u0275getUnknownPropertyStrictMode:()=>Qg,\u0275global:()=>yn,\u0275injectChangeDetectorRef:()=>I0,\u0275internalCreateApplication:()=>tT,\u0275isBoundToModule:()=>g0,\u0275isDefaultChangeDetectionStrategy:()=>Tt,\u0275isInjectable:()=>ss,\u0275isListLikeIterable:()=>fm,\u0275isObservable:()=>kD,\u0275isPromise:()=>bm,\u0275isStandalone:()=>fn,\u0275isSubscribable:()=>ki,\u0275ivyEnabled:()=>mI,\u0275makeDecorator:()=>ys,\u0275noSideEffects:()=>zn,\u0275patchComponentDefWithScope:()=>Xm,\u0275publishDefaultGlobalUtils:()=>Uh,\u0275publishGlobalUtil:()=>Gs,\u0275registerLocaleData:()=>bp,\u0275resetCompiledComponents:()=>Jm,\u0275resetJitOptions:()=>Lw,\u0275resolveComponentResources:()=>jo,\u0275setAllowDuplicateNgModuleIdsForTest:()=>mf,\u0275setClassMetadata:()=>lr,\u0275setCurrentInjector:()=>oo,\u0275setDocument:()=>xc,\u0275setLocaleId:()=>Ih,\u0275setUnknownElementStrictMode:()=>Gd,\u0275setUnknownPropertyStrictMode:()=>Kg,\u0275store:()=>lh,\u0275stringify:()=>_e,\u0275transitiveScopesFor:()=>Er,\u0275unregisterLocaleData:()=>Iv,\u0275unwrapSafeValue:()=>ao,\u0275\u0275CopyDefinitionFeature:()=>MD,\u0275\u0275FactoryTarget:()=>fr,\u0275\u0275InheritDefinitionFeature:()=>SD,\u0275\u0275NgOnChangesFeature:()=>$i,\u0275\u0275ProvidersFeature:()=>rc,\u0275\u0275StandaloneFeature:()=>st,\u0275\u0275advance:()=>h1,\u0275\u0275attribute:()=>Zy,\u0275\u0275attributeInterpolate1:()=>Ae,\u0275\u0275attributeInterpolate2:()=>Xl,\u0275\u0275attributeInterpolate3:()=>ah,\u0275\u0275attributeInterpolate4:()=>sl,\u0275\u0275attributeInterpolate5:()=>In,\u0275\u0275attributeInterpolate6:()=>Ky,\u0275\u0275attributeInterpolate7:()=>ya,\u0275\u0275attributeInterpolate8:()=>It,\u0275\u0275attributeInterpolateV:()=>np,\u0275\u0275classMap:()=>uv,\u0275\u0275classMapInterpolate1:()=>WD,\u0275\u0275classMapInterpolate2:()=>Lu,\u0275\u0275classMapInterpolate3:()=>zD,\u0275\u0275classMapInterpolate4:()=>qD,\u0275\u0275classMapInterpolate5:()=>qc,\u0275\u0275classMapInterpolate6:()=>gv,\u0275\u0275classMapInterpolate7:()=>fp,\u0275\u0275classMapInterpolate8:()=>mv,\u0275\u0275classMapInterpolateV:()=>_h,\u0275\u0275classProp:()=>Sm,\u0275\u0275contentQuery:()=>cc,\u0275\u0275defineComponent:()=>Le,\u0275\u0275defineDirective:()=>ee,\u0275\u0275defineInjectable:()=>ln,\u0275\u0275defineInjector:()=>jt,\u0275\u0275defineNgModule:()=>Gt,\u0275\u0275definePipe:()=>Me,\u0275\u0275directiveInject:()=>Kf,\u0275\u0275disableBindings:()=>Fs,\u0275\u0275element:()=>ch,\u0275\u0275elementContainer:()=>ym,\u0275\u0275elementContainerEnd:()=>_m,\u0275\u0275elementContainerStart:()=>va,\u0275\u0275elementEnd:()=>pi,\u0275\u0275elementStart:()=>mm,\u0275\u0275enableBindings:()=>ra,\u0275\u0275getCurrentView:()=>vm,\u0275\u0275getInheritedFactory:()=>df,\u0275\u0275hostProperty:()=>bh,\u0275\u0275i18n:()=>Pv,\u0275\u0275i18nApply:()=>Iw,\u0275\u0275i18nAttributes:()=>Wu,\u0275\u0275i18nEnd:()=>Gm,\u0275\u0275i18nExp:()=>Fv,\u0275\u0275i18nPostprocess:()=>Wm,\u0275\u0275i18nStart:()=>Es,\u0275\u0275inject:()=>Nn,\u0275\u0275injectAttribute:()=>mu,\u0275\u0275invalidFactory:()=>A1,\u0275\u0275invalidFactoryDep:()=>Sd,\u0275\u0275listener:()=>uh,\u0275\u0275loadQuery:()=>Bp,\u0275\u0275namespaceHTML:()=>hn,\u0275\u0275namespaceMathML:()=>nn,\u0275\u0275namespaceSVG:()=>lt,\u0275\u0275nextContext:()=>PD,\u0275\u0275ngDeclareClassMetadata:()=>ad,\u0275\u0275ngDeclareComponent:()=>ld,\u0275\u0275ngDeclareDirective:()=>m_,\u0275\u0275ngDeclareFactory:()=>cd,\u0275\u0275ngDeclareInjectable:()=>_I,\u0275\u0275ngDeclareInjector:()=>O0,\u0275\u0275ngDeclareNgModule:()=>R0,\u0275\u0275ngDeclarePipe:()=>yI,\u0275\u0275pipe:()=>Km,\u0275\u0275pipeBind1:()=>sc,\u0275\u0275pipeBind2:()=>Qm,\u0275\u0275pipeBind3:()=>me,\u0275\u0275pipeBind4:()=>Rp,\u0275\u0275pipeBindV:()=>Wo,\u0275\u0275projection:()=>Jy,\u0275\u0275projectionDef:()=>Pu,\u0275\u0275property:()=>ip,\u0275\u0275propertyInterpolate:()=>op,\u0275\u0275propertyInterpolate1:()=>ap,\u0275\u0275propertyInterpolate2:()=>Xy,\u0275\u0275propertyInterpolate3:()=>Im,\u0275\u0275propertyInterpolate4:()=>dh,\u0275\u0275propertyInterpolate5:()=>lp,\u0275\u0275propertyInterpolate6:()=>cp,\u0275\u0275propertyInterpolate7:()=>up,\u0275\u0275propertyInterpolate8:()=>ev,\u0275\u0275propertyInterpolateV:()=>tv,\u0275\u0275pureFunction0:()=>Bt,\u0275\u0275pureFunction1:()=>xh,\u0275\u0275pureFunction2:()=>bn,\u0275\u0275pureFunction3:()=>Ow,\u0275\u0275pureFunction4:()=>Cr,\u0275\u0275pureFunction5:()=>tt,\u0275\u0275pureFunction6:()=>Op,\u0275\u0275pureFunction7:()=>Zm,\u0275\u0275pureFunction8:()=>Xc,\u0275\u0275pureFunctionV:()=>Rw,\u0275\u0275queryRefresh:()=>Fh,\u0275\u0275reference:()=>xD,\u0275\u0275registerNgModuleType:()=>fa,\u0275\u0275resetView:()=>ia,\u0275\u0275resolveBody:()=>qC,\u0275\u0275resolveDocument:()=>Ob,\u0275\u0275resolveWindow:()=>Mb,\u0275\u0275restoreView:()=>So,\u0275\u0275sanitizeHtml:()=>tl,\u0275\u0275sanitizeResourceUrl:()=>Ef,\u0275\u0275sanitizeScript:()=>Tf,\u0275\u0275sanitizeStyle:()=>Fg,\u0275\u0275sanitizeUrl:()=>Cf,\u0275\u0275sanitizeUrlOrResourceUrl:()=>jg,\u0275\u0275setComponentScope:()=>ft,\u0275\u0275setNgModuleScope:()=>Z,\u0275\u0275styleMap:()=>Ho,\u0275\u0275styleMapInterpolate1:()=>_v,\u0275\u0275styleMapInterpolate2:()=>Xi,\u0275\u0275styleMapInterpolate3:()=>yv,\u0275\u0275styleMapInterpolate4:()=>yh,\u0275\u0275styleMapInterpolate5:()=>pp,\u0275\u0275styleMapInterpolate6:()=>vv,\u0275\u0275styleMapInterpolate7:()=>Pm,\u0275\u0275styleMapInterpolate8:()=>bv,\u0275\u0275styleMapInterpolateV:()=>Dv,\u0275\u0275styleProp:()=>lv,\u0275\u0275stylePropInterpolate1:()=>Vu,\u0275\u0275stylePropInterpolate2:()=>gp,\u0275\u0275stylePropInterpolate3:()=>mp,\u0275\u0275stylePropInterpolate4:()=>_p,\u0275\u0275stylePropInterpolate5:()=>vh,\u0275\u0275stylePropInterpolate6:()=>Bu,\u0275\u0275stylePropInterpolate7:()=>Fm,\u0275\u0275stylePropInterpolate8:()=>wv,\u0275\u0275stylePropInterpolateV:()=>yp,\u0275\u0275syntheticHostListener:()=>Dm,\u0275\u0275syntheticHostProperty:()=>vp,\u0275\u0275template:()=>rp,\u0275\u0275templateRefExtractor:()=>Qu,\u0275\u0275text:()=>dp,\u0275\u0275textInterpolate:()=>hp,\u0275\u0275textInterpolate1:()=>gh,\u0275\u0275textInterpolate2:()=>Om,\u0275\u0275textInterpolate3:()=>fv,\u0275\u0275textInterpolate4:()=>Fu,\u0275\u0275textInterpolate5:()=>Rm,\u0275\u0275textInterpolate6:()=>xm,\u0275\u0275textInterpolate7:()=>km,\u0275\u0275textInterpolate8:()=>mh,\u0275\u0275textInterpolateV:()=>pv,\u0275\u0275trustConstantHtml:()=>Lg,\u0275\u0275trustConstantResourceUrl:()=>Vg,\u0275\u0275viewQuery:()=>Gv});var I=V(7579),u=V(727),B=V(9751),ae=V(6451),ie=V(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function ve(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=fe({__forward_ref__:fe});function z(s){return s.__forward_ref__=z,s.toString=function(){return _e(this())},s}function Y(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class le extends Error{constructor(o,a){super(He(o,a)),this.code=o}}function He(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function de(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Se(s,o){throw new le(-201,!1)}function nt(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function ln(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const Ar=ln;function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dn(s){return ii(s,yi)||ii(s,oi)}function ss(s){return null!==Dn(s)}function ii(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ss(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(qs))?s[Br]:null}const yi=fe({\u0275prov:fe}),Br=fe({\u0275inj:fe}),oi=fe({ngInjectableDef:fe}),qs=fe({ngInjectorDef:fe});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Nr;function mr(s){const o=Nr;return Nr=s,o}function ai(s,o,a){const c=Dn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ot.Optional?null:void 0!==o?o:void Se(_e(s))}function zn(s){return{toString:s}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Ut=(()=>((Ut=Ut||{})[Ut.CheckOnce=0]="CheckOnce",Ut[Ut.Checked=1]="Checked",Ut[Ut.CheckAlways=2]="CheckAlways",Ut[Ut.Detached=3]="Detached",Ut[Ut.Errored=4]="Errored",Ut[Ut.Destroyed=5]="Destroyed",Ut))();function Tt(s){return null==s||s===Un.Default}var wt=(()=>{return(s=wt||(wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",wt;var s})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),li={},Vt=[],Ti=fe({\u0275cmp:fe}),un=fe({\u0275dir:fe}),Bi=fe({\u0275pipe:fe}),gn=fe({\u0275mod:fe}),yr=fe({\u0275fac:fe}),jr=fe({__NG_ELEMENT_ID__:fe});let gt=0;function Le(s){return zn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||wt.Emulated,id:"c"+gt++,styles:s.styles||Vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,v=s.features;return h.inputs=W(s.inputs,c),h.outputs=W(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(kt).filter(Mt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ct).filter(Mt):null,h})}function ft(s,o,a){const c=s.\u0275cmp;c.directiveDefs=()=>("function"==typeof o?o():o).map(kt),c.pipeDefs=()=>("function"==typeof a?a():a).map(Ct)}function kt(s){return ne(s)||Xe(s)}function Mt(s){return null!==s}function Gt(s){return zn(()=>({type:s.type,bootstrap:s.bootstrap||Vt,declarations:s.declarations||Vt,imports:s.imports||Vt,exports:s.exports||Vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Z(s,o){return zn(()=>{const a=Rn(s,!0);a.declarations=o.declarations||Vt,a.imports=o.imports||Vt,a.exports=o.exports||Vt})}function W(s,o){if(null==s)return li;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const ee=Le;function Me(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ne(s){return s[Ti]||null}function Xe(s){return s[un]||null}function Ct(s){return s[Bi]||null}function fn(s){const o=ne(s)||Xe(s)||Ct(s);return null!==o&&o.standalone}function Rn(s,o){const a=s[gn]||null;if(!a&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return a}function rn(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qr(s){return Array.isArray(s)&&!0===s[1]}function Ko(s){return 0!=(8&s.flags)}function vo(s){return 2==(2&s.flags)}function Aa(s){return 1==(1&s.flags)}function Or(s){return null!==s.template}function pc(s){return 0!=(256&s[2])}function Sn(s,o){return s.hasOwnProperty(yr)?s[yr]:null}class ci{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function $i(){return hs}function hs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ma),Io}function Io(){const s=du(this),o=s?.current;if(o){const a=s.previous;if(a===li)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Ma(s,o,a,c){const h=du(s)||function Co(s,o){return s[Oa]=o}(s,{previous:li,current:null}),p=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[a],E=v[D];p[D]=new ci(E&&E.currentValue,o,v===li),s[c]=o}$i.ngInherit=!0;const Oa="__ngSimpleChanges__";function du(s){return s[Oa]||null}let Ur=null;const Hn=s=>{Ur=s},Yr=function(s,o,a){Ur?.(s,o,a)};function Gn(s){for(;Array.isArray(s);)s=s[0];return s}function An(s,o){return Gn(o[s])}function Zn(s,o){return Gn(o[s.index])}function Xo(s,o){return s.data[o]}function vi(s,o){return s[o]}function tn(s,o){const a=o[s];return rn(a)?a:a[0]}function Ps(s){return 64==(64&s[2])}function bi(s,o){return null==o?null:s[o]}function ea(s){s[18]=0}function Bn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const At={lFrame:Tl(null),bindingsEnabled:!0};function Hi(){return At.bindingsEnabled}function ra(){At.bindingsEnabled=!0}function Fs(){At.bindingsEnabled=!1}function Pe(){return At.lFrame.lView}function Kt(){return At.lFrame.tView}function So(s){return At.lFrame.contextLView=s,s[8]}function ia(s){return At.lFrame.contextLView=null,s}function jn(){let s=Ao();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ao(){return At.lFrame.currentTNode}function Gi(){const s=At.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ui(s,o){const a=At.lFrame;a.currentTNode=s,a.isParent=o}function No(){return At.lFrame.isParent}function Ys(){At.lFrame.isParent=!1}function Yn(){const s=At.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Hr(){return At.lFrame.bindingIndex}function Js(s){return At.lFrame.bindingIndex=s}function Wi(){return At.lFrame.bindingIndex++}function Jr(s){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Xs(s){At.lFrame.inI18n=s}function yd(s,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=s,Cl(o)}function Cl(s){At.lFrame.currentDirectiveIndex=s}function xa(s){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function vc(){return At.lFrame.currentQueryIndex}function ka(s){At.lFrame.currentQueryIndex=s}function bc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function El(s,o,a){if(a&ot.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ot.Host||(h=bc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=At.lFrame=Fa();return c.currentTNode=o,c.lView=s,!0}function Pa(s){const o=Fa(),a=s[1];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Fa(){const s=At.lFrame,o=null===s?null:s.child;return null===o?Tl(s):o}function Tl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Sl(){const s=At.lFrame;return At.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const C=Sl;function R(){const s=Sl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function H(){return At.lFrame.selectedIndex}function ue(s){At.lFrame.selectedIndex=s}function De(){const s=At.lFrame;return Xo(s.tView,s.selectedIndex)}function lt(){At.lFrame.currentNamespace="svg"}function nn(){At.lFrame.currentNamespace="math"}function hn(){!function sn(){At.lFrame.currentNamespace=null}()}function vn(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:F}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(a,F)}}function Pn(s,o,a){zi(s,o,3,a)}function eo(s,o,a,c){(3&s[2])===a&&zi(s,o,a,c)}function gs(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function zi(s,o,a,c){const p=c??-1,v=o.length-1;let D=0;for(let E=void 0!==c?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=c&&D>=c)break}else o[E]<0&&(s[18]+=65536),(D<p||-1==p)&&(Mo(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Mo(s,o,a,c){const h=a[c]<0,p=a[c+1],D=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048,Yr(4,D,p);try{p.call(D)}finally{Yr(5,D,p)}}}else{Yr(4,D,p);try{p.call(D)}finally{Yr(5,D,p)}}}class hi{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function wc(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],v=a[c++],D=a[c++];s.setAttribute(o,v,D,p)}else{const p=h,v=a[++c];fu(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),c++}}return c}function Oo(s){return 3===s||4===s||6===s}function fu(s){return 64===s.charCodeAt(0)}function pu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||bd(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function bd(s,o,a,c,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function gu(s){return-1!==s}function Xr(s){return 32767&s}function Nl(s,o){let a=function Va(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let ms=!0;function oa(s){const o=ms;return ms=s,o}let Kn=0;const Rr={};function Ro(s,o){const a=Dd(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Ba(c.data,s),Ba(o,null),Ba(c.blueprint,null));const h=Cc(s,o),p=s.injectorIndex;if(gu(h)){const v=Xr(h),D=Nl(h,o),E=D[1].data;for(let M=0;M<8;M++)o[p+M]=D[v+M]|E[v+M]}return o[p+8]=h,p}function Ba(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Dd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Cc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=kl(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function xo(s,o,a){!function Ol(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(jr)&&(c=a[jr]),null==c&&(c=a[jr]=Kn++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function ja(s,o,a){if(a&ot.Optional||void 0!==s)return s;Se()}function wd(s,o,a,c){if(a&ot.Optional&&void 0===c&&(c=null),0==(a&(ot.Self|ot.Host))){const h=s[9],p=mr(void 0);try{return h?h.get(o,c,a&ot.Optional):ai(o,c,a&ot.Optional)}finally{mr(p)}}return ja(c,0,a)}function aa(s,o,a,c=ot.Default,h){if(null!==s){if(1024&o[2]){const v=function Ha(s,o,a,c,h){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=Rl(p,v,a,c|ot.Self,Rr);if(D!==Rr)return D;let E=p.parent;if(!E){const M=v[21];if(M){const F=M.get(a,Rr,c);if(F!==Rr)return F}E=kl(v),v=v[15]}p=E}return h}(s,o,a,c,Rr);if(v!==Rr)return v}const p=Rl(s,o,a,c,Rr);if(p!==Rr)return p}return wd(o,a,c,h)}function Rl(s,o,a,c,h){const p=function no(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(jr)?s[jr]:void 0;return"number"==typeof o?o>=0?255&o:Id:o}(a);if("function"==typeof p){if(!El(o,s,c))return c&ot.Host?ja(h,0,c):wd(o,a,c,h);try{const v=p(c);if(null!=v||c&ot.Optional)return v;Se()}finally{C()}}else if("number"==typeof p){let v=null,D=Dd(s,o),E=-1,M=c&ot.Host?o[16][6]:null;for((-1===D||c&ot.SkipSelf)&&(E=-1===D?Cc(s,o):o[D+8],-1!==E&&$a(c,!1)?(v=o[1],D=Xr(E),o=Nl(E,o)):D=-1);-1!==D;){const F=o[1];if(ko(p,D,F.data)){const j=Ec(D,o,a,v,c,M);if(j!==Rr)return j}E=o[D+8],-1!==E&&$a(c,o[1].data[D+8]===M)&&ko(p,D,o)?(v=F,D=Xr(E),o=Nl(E,o)):D=-1}}return h}function Ec(s,o,a,c,h,p){const v=o[1],D=v.data[s+8],F=Ua(D,v,a,null==c?vo(D)&&ms:c!=v&&0!=(3&D.type),h&ot.Host&&p===D);return null!==F?to(o,v,F,D):Rr}function Ua(s,o,a,c,h){const p=s.providerIndexes,v=o.data,D=1048575&p,E=s.directiveStart,F=p>>20,Q=h?D+F:s.directiveEnd;for(let se=c?D:D+F;se<Q;se++){const Oe=v[se];if(se<E&&a===Oe||se>=E&&Oe.type===a)return se}if(h){const se=v[E];if(se&&Or(se)&&se.type===a)return E}return null}function to(s,o,a,c){let h=s[a];const p=o.data;if(function Ni(s){return s instanceof hi}(h)){const v=h;v.resolving&&function Ye(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new le(-200,`Circular dependency in DI detected for ${s}${a}`)}(de(p[a]));const D=oa(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?mr(v.injectImpl):null;El(s,c,ot.Default);try{h=s[a]=v.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function hr(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const v=hs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&mr(E),oa(D),v.resolving=!1,C()}}return h}function ko(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function $a(s,o){return!(s&ot.Self||s&ot.Host&&o)}class _s{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return aa(this._tNode,this._lView,o,c,a)}}function Id(){return new _s(jn(),Pe())}function df(s){return zn(()=>{const o=s.prototype.constructor,a=o[yr]||xl(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[yr]||xl(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function xl(s){return $e(s)?()=>{const o=xl(Y(s));return o&&o()}:Sn(s)}function kl(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function mu(s){return function yg(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(Oo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(jn(),s)}const fi="__annotations__",Ls="__parameters__",la="__prop__metadata__";function ys(s,o,a,c,h){return zn(()=>{const p=Pl(o);function v(...D){if(this instanceof v)return p.call(this,...D),this;const E=new v(...D);return function(F){return h&&h(F,...D),(F.hasOwnProperty(fi)?F[fi]:Object.defineProperty(F,fi,{value:[]})[fi]).push(E),c&&c(F),F}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function Pl(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}function ro(s,o,a){return zn(()=>{const c=Pl(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const v=new h(...p);return D.annotation=v,D;function D(E,M,F){const j=E.hasOwnProperty(Ls)?E[Ls]:Object.defineProperty(E,Ls,{value:[]})[Ls];for(;j.length<=F;)j.push(null);return(j[F]=j[F]||[]).push(v),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function ei(s,o,a,c){return zn(()=>{const h=Pl(o);function p(...v){if(this instanceof p)return h.apply(this,v),this;const D=new p(...v);return function E(M,F){const j=M.constructor,Q=j.hasOwnProperty(la)?j[la]:Object.defineProperty(j,la,{value:{}})[la];Q[F]=Q.hasOwnProperty(F)&&Q[F]||[],Q[F].unshift(D),c&&c(M,F,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}const io=ro("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>mu(s)}));class Fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ln({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _u=new Fn("AnalyzeForEntryComponents");class Ga{}const Cd=ei("ContentChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...o}),Ga),hf=ei("ContentChild",(s,o={})=>({selector:s,first:!0,isViewQuery:!1,descendants:!0,...o}),Ga),Tc=ei("ViewChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...o}),Ga),vg=ei("ViewChild",(s,o)=>({selector:s,first:!0,isViewQuery:!0,descendants:!0,...o}),Ga);var fr=(()=>((fr=fr||{})[fr.Directive=0]="Directive",fr[fr.Component=1]="Component",fr[fr.Injectable=2]="Injectable",fr[fr.Pipe=3]="Pipe",fr[fr.NgModule=4]="NgModule",fr))();function Dr(s){const o=yn.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Sc=Function;function Fl(s){return"function"==typeof s}function Di(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Di(c,o)):o!==s&&o.push(c)}return o}function qi(s,o){s.forEach(a=>Array.isArray(a)?qi(a,o):o(a))}function Po(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Wa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function so(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function Mi(s,o,a){let c=Fo(s,o);return c>=0?s[1|c]=a:(c=~c,function bu(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function za(s,o){const a=Fo(s,o);if(a>=0)return s[1|a]}function Fo(s,o){return function Vl(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const Oc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Du=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,G_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Dg{constructor(o){this._reflect=o||yn.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let c;c=so(typeof o>"u"?a.length:o.length);for(let h=0;h<c.length;h++)c[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(c[h]=c[h].concat(a[h]));return c}_ownParameters(o,a){if(function pf(s){return Oc.test(s)||G_.test(s)||Du.test(s)&&!qa.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const D="function"==typeof h?h():h,E=D.map(F=>F&&F.type),M=D.map(F=>F&&Bl(F.decorators));return this._zipTypesAndAnnotations(E,M)}const p=o.hasOwnProperty(Ls)&&o[Ls],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||p?this._zipTypesAndAnnotations(v,p):so(o.length)}parameters(o){if(!Fl(o))return[];const a=Lo(o);let c=this._ownParameters(o,a);return!c&&a!==Object&&(c=this.parameters(a)),c||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let c=o.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return o.decorators&&o.decorators!==a.decorators?Bl(o.decorators):o.hasOwnProperty(fi)?o[fi]:null}annotations(o){if(!Fl(o))return[];const a=Lo(o),c=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(c)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let c=o.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const c=o.propDecorators,h={};return Object.keys(c).forEach(p=>{h[p]=Bl(c[p])}),h}return o.hasOwnProperty(la)?o[la]:null}propMetadata(o){if(!Fl(o))return{};const a=Lo(o),c={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{c[v]=p[v]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const v=[];c.hasOwnProperty(p)&&v.push(...c[p]),v.push(...h[p]),c[p]=v}),c}ownPropMetadata(o){return Fl(o)&&this._ownPropMetadata(o,Lo(o))||{}}hasLifecycleHook(o,a){return o instanceof Sc&&a in o.prototype}}function Bl(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function Lo(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const Oi={},Ed="__NG_DI_FLAG__",wu="ngTempTokenPath",Td=/\n/gm,wg="__source";let jl;function oo(s){const o=jl;return jl=s,o}function Ul(s,o=ot.Default){if(void 0===jl)throw new le(-203,!1);return null===jl?ai(s,void 0,o):jl.get(s,o&ot.Optional?null:void 0,o)}function Nn(s,o=ot.Default){return(function os(){return Nr}()||Ul)(Y(s),o)}function Sd(s){throw new le(202,!1)}function S(s,o=ot.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Nn(s,o)}function A(s){const o=[];for(let a=0;a<s.length;a++){const c=Y(s[a]);if(Array.isArray(c)){if(0===c.length)throw new le(900,!1);let h,p=ot.Default;for(let v=0;v<c.length;v++){const D=c[v],E=U(D);"number"==typeof E?-1===E?h=D.token:p|=E:h=D}o.push(Nn(h,p))}else o.push(Nn(c))}return o}function x(s,o){return s[Ed]=o,s.prototype[Ed]=o,s}function U(s){return s[Ed]}const ke=x(ro("Inject",s=>({token:s})),-1),Qe=x(ro("Optional"),8),bt=x(ro("Self"),2),Ot=x(ro("SkipSelf"),4),Ht=x(ro("Host"),1);let Et=null;function Jn(){return Et=Et||new Dg}function Gr(s){return ua(Jn().parameters(s))}function ua(s){return s.map(o=>function Za(s){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const c=s[a];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof Qe||"Optional"===h.ngMetadataName)o.optional=!0;else if(c instanceof Ot||"SkipSelf"===h.ngMetadataName)o.skipSelf=!0;else if(c instanceof bt||"Self"===h.ngMetadataName)o.self=!0;else if(c instanceof Ht||"Host"===h.ngMetadataName)o.host=!0;else if(c instanceof ke)o.token=c.token;else if(c instanceof io){if(void 0===c.attributeName)throw new le(204,!1);o.attribute=c.attributeName}else o.token=c}else o.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return o}(o))}function jo(s){const o=[],a=new Map;function c(h){let p=a.get(h);if(!p){const v=s(h);a.set(h,p=v.then(Vs))}return p}return Ka.forEach((h,p)=>{const v=[];h.templateUrl&&v.push(c(h.templateUrl).then(j=>{h.template=j}));const D=h.styleUrls,E=h.styles||(h.styles=[]),M=h.styles.length;D&&D.forEach((j,Q)=>{E.push(""),v.push(c(j).then(se=>{E[M+Q]=se,D.splice(D.indexOf(j),1),0==D.length&&(h.styleUrls=void 0)}))});const F=Promise.all(v).then(()=>function Ya(s){Uo.delete(s)}(p));o.push(F)}),Iu(),Promise.all(o).then(()=>{})}let Ka=new Map;const Uo=new Set;function ha(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function Iu(){const s=Ka;return Ka=new Map,s}function Vs(s){return"string"==typeof s?s:s.text()}const Ri=new Map;let Ad,Xa,Gl,$l=!0;function fa(s,o){(function Ja(s,o,a){if(o&&o!==a&&$l)throw new Error(`Duplicate module registered for ${s} - ${_e(o)} vs ${_e(o.name)}`)})(o,Ri.get(o)||null,s),Ri.set(o,s)}function Hl(s){return Ri.get(s)}function mf(s){$l=!s}function xc(s){Ad=s}function Nd(){return void 0!==Ad?Ad:typeof document<"u"?document:void 0}function _f(){if(void 0===Xa&&(Xa=null,yn.trustedTypes))try{Xa=yn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Xa}function Ki(s){return _f()?.createHTML(s)||s}function Md(){if(void 0===Gl&&(Gl=null,yn.trustedTypes))try{Gl=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Gl}function kc(s){return Md()?.createHTML(s)||s}function Cg(s){return Md()?.createScript(s)||s}function vf(s){return Md()?.createScriptURL(s)||s}class pa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cu extends pa{getTypeName(){return"HTML"}}class Od extends pa{getTypeName(){return"Style"}}class bf extends pa{getTypeName(){return"Script"}}class Eg extends pa{getTypeName(){return"URL"}}class Tg extends pa{getTypeName(){return"ResourceURL"}}function ao(s){return s instanceof pa?s.changingThisBreaksApplicationSecurity:s}function Pc(s,o){const a=el(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function el(s){return s instanceof pa&&s.getTypeName()||null}function Rd(s){return new Cu(s)}function Sg(s){return new Od(s)}function Ag(s){return new bf(s)}function Ng(s){return new Eg(s)}function Mg(s){return new Tg(s)}function xd(s){const o=new q_(s);return function hb(){try{return!!(new window.DOMParser).parseFromString(Ki(""),"text/html")}catch{return!1}}()?new Og(o):o}class Og{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ki(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class q_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ki(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Ki(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Wl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function kd(s){return(s=String(s)).match(Wl)?s:"unsafe:"+s}function vs(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function zl(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Pd=vs("area,br,col,hr,img,wbr"),Fd=vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rg=vs("rp,rt"),Df=zl(Pd,zl(Fd,vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zl(Rg,vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zl(Rg,Fd)),Eu=vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kg=zl(Eu,vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Z_=vs("script,style,template");class K_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Df.hasOwnProperty(a))return this.sanitizedSomething=!0,!Z_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),v=p.name,D=v.toLowerCase();if(!kg.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=p.value;Eu[D]&&(E=kd(E)),this.buf.push(" ",v,'="',Q_(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Df.hasOwnProperty(a)&&!Pd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Q_(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Pg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wf=/([^\#-~ |!])/g;function Q_(s){return s.replace(/&/g,"&amp;").replace(Pg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(wf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let If;function Tu(s,o){let a=null;try{If=If||xd(s);let c=o?String(o):"";a=If.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=If.getInertBodyElement(c)}while(c!==p);return Ki((new K_).sanitizeChildren(Fc(a)||a))}finally{if(a){const c=Fc(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Fc(s){return"content"in s&&function Y_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function tl(s){const o=Lc();return o?kc(o.sanitize(xr.HTML,s)||""):Pc(s,"HTML")?kc(ao(s)):Tu(Nd(),ge(s))}function Fg(s){const o=Lc();return o?o.sanitize(xr.STYLE,s)||"":Pc(s,"Style")?ao(s):ge(s)}function Cf(s){const o=Lc();return o?o.sanitize(xr.URL,s)||"":Pc(s,"URL")?ao(s):kd(ge(s))}function Ef(s){const o=Lc();if(o)return vf(o.sanitize(xr.RESOURCE_URL,s)||"");if(Pc(s,"ResourceURL"))return vf(ao(s));throw new le(904,!1)}function Tf(s){const o=Lc();if(o)return Cg(o.sanitize(xr.SCRIPT,s)||"");if(Pc(s,"Script"))return Cg(ao(s));throw new le(905,!1)}function Lg(s){return Ki(s[0])}function Vg(s){return function $o(s){return _f()?.createScriptURL(s)||s}(s[0])}function jg(s,o,a){return function Bg(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Ef:Cf}(o,a)(s)}function Lc(){const s=Pe();return s&&s[12]}const Ug=new Fn("ENVIRONMENT_INITIALIZER"),Sf=new Fn("INJECTOR",-1),$g=new Fn("INJECTOR_DEF_TYPES");class Hg{get(o,a=Oi){if(a===Oi){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return a}}function Af(...s){return{\u0275providers:Vd(0,s)}}function Vd(s,...o){const a=[],c=new Set;let h;return qi(o,p=>{const v=p;jd(v,a,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&Bd(h,a),a}function Bd(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];qi(h,p=>{o.push(p)})}}function jd(s,o,a,c){if(!(s=Y(s)))return!1;let h=null,p=Ss(s);const v=!p&&ne(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Ss(E),!p)return!1;h=E}const D=c.has(h);if(v){if(D)return!1;if(c.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of E)jd(M,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let M;c.add(h);try{qi(p.imports,F=>{jd(F,o,a,c)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&Bd(M,o)}if(!D){const M=Sn(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Vt},{provide:$g,useValue:h,multi:!0},{provide:Ug,useValue:()=>Nn(h),multi:!0})}const E=p.providers;null==E||D||qi(E,F=>{o.push(F)})}}return h!==s&&void 0!==s.providers}const Nf=fe({provide:String,useValue:fe});function Mf(s){return null!==s&&"object"==typeof s&&Nf in s}function ql(s){return"function"==typeof s}const Su=new Fn("Set Injector scope."),Bc={},X_={};let Ud;function $d(){return void 0===Ud&&(Ud=new Hg),Ud}class bs{}class Gg extends bs{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jc(o,v=>this.processProvider(v)),this.records.set(Sf,Wr(void 0,this)),h.has("environment")&&this.records.set(bs,Wr(void 0,this));const p=this.records.get(Su);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get($g.multi,Vt,ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=oo(this),c=mr(void 0);try{return o()}finally{oo(a),mr(c)}}get(o,a=Oi,c=ot.Default){this.assertNotDestroyed();const h=oo(this),p=mr(void 0);try{if(!(c&ot.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function Db(s){return"function"==typeof s||"object"==typeof s&&s instanceof Fn}(o)&&Dn(o);D=E&&this.injectableDefInScope(E)?Wr(Wg(o),Bc):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&ot.Self?$d():this.parent).get(o,a=c&ot.Optional&&a===Oi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[wu]=v[wu]||[]).unshift(_e(o)),h)throw v;return function te(s,o,a,c){const h=s[wu];throw o[wg]&&h.unshift(o[wg]),s.message=function pe(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):_e(D)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Td,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[wu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{mr(p),oo(h)}}resolveInjectorInitializers(){const o=oo(this),a=mr(void 0);try{const c=this.get(Ug.multi,Vt,ot.Self);for(const h of c)h()}finally{oo(o),mr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(_e(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(o){let a=ql(o=Y(o))?o:Y(o&&o.provide);const c=function bb(s){return Mf(s)?Wr(void 0,s.useValue):Wr(Of(s),Bc)}(o);if(ql(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Wr(void 0,Bc,!0),h.factory=()=>A(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Bc&&(a.value=X_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Y(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Wg(s){const o=Dn(s),a=null!==o?o.factory:Sn(s);if(null!==a)return a;if(s instanceof Fn)throw new le(204,!1);if(s instanceof Function)return function vb(s){const o=s.length;if(o>0)throw so(o,"?"),new le(204,!1);const a=function Kr(s){const o=s&&(s[yi]||s[oi]);if(o){const a=function si(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new le(204,!1)}function Of(s,o,a){let c;if(ql(s)){const h=Y(s);return Sn(h)||Wg(h)}if(Mf(s))c=()=>Y(s.useValue);else if(function Vc(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...A(s.deps||[]));else if(function Qi(s){return!(!s||!s.useExisting)}(s))c=()=>Nn(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function Rf(s){return!!s.deps}(s))return Sn(h)||Wg(h);c=()=>new h(...A(s.deps))}return c}function Wr(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function nl(s){return!!s.\u0275providers}function jc(s,o){for(const a of s)Array.isArray(a)?jc(a,o):nl(a)?jc(a.\u0275providers,o):o(a)}class qg{}class Au{}class wb{resolveComponentFactory(o){throw function ey(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Hd=(()=>{class s{}return s.NULL=new wb,s})();function ty(){return y(jn(),Pe())}function y(s,o){return new f(Zn(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ty,s})();function m(s){return s instanceof f?s.nativeElement:s}class O{}let L=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function J(){const s=Pe(),a=tn(jn().index,s);return(rn(a)?a:s)[11]}(),s})(),Ie=(()=>{class s{}return s.\u0275prov=ln({token:s,providedIn:"root",factory:()=>null}),s})();class Ze{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pt=new Ze("14.2.8"),Nt={},St={name:"custom-elements"},kr={name:"no-errors-schema"};let Ds=!1;function Gd(s){Ds=s}function Zg(){return Ds}let Nu=!1;function Kg(s){Nu=s}function Qg(){return Nu}const iy="ngOriginalError";function Lf(s){return s[iy]}class Vf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Lf(o);for(;a&&Lf(a);)a=Lf(a);return a||null}}const OC=/^>|^->|<!--|-->|--!>|<!-$/g,RC=/(<|>)/;const sy=new Map;let VC=0;function jC(s){return sy.get(s)||null}class Eb{constructor(o,a,c){this.lViewId=o,this.nodeIndex=a,this.native=c}get lView(){return jC(this.lViewId)}}function ws(s){let o=Xg(s);if(o){if(rn(o)){const a=o;let c,h,p;if(function $C(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(c=Nb(a,s),-1==c)throw new Error("The provided component was not found in the application");h=s}else if(function nN(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(c=function rN(s,o){let a=s[1].firstChild;for(;a;){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++)if(s[p]===o)return a.index;a=GC(a)}return-1}(a,s),-1==c)throw new Error("The provided directive was not found in the application");p=WC(c,a,!1)}else if(c=HC(a,s),-1==c)return null;const v=Gn(a[c]),D=Xg(v),E=D&&!Array.isArray(D)?D:Tb(a,c,v);if(h&&void 0===E.component&&(E.component=h,Is(E.component,E)),p&&void 0===E.directives){E.directives=p;for(let M=0;M<p.length;M++)Is(p[M],E)}Is(E.native,E),o=E}}else{const a=s;let c=a;for(;c=c.parentNode;){const h=Xg(c);if(h){const p=Array.isArray(h)?h:h.lView;if(!p)return null;const v=HC(p,a);if(v>=0){const D=Gn(p[v]),E=Tb(p,v,D);Is(D,E),o=E;break}}}}return o||null}function Tb(s,o,a){return new Eb(s[20],o,a)}function UC(s){let a,o=Xg(s);if(rn(o)){const c=o,h=Nb(c,s);a=tn(h,c);const p=Tb(c,h,a[0]);p.component=s,Is(s,p),Is(p.native,p)}else a=tn(o.nodeIndex,o.lView);return a}const Sb="__ngContext__";function Is(s,o){rn(o)?(s[Sb]=o[20],function eN(s){sy.set(s[20],s)}(o)):s[Sb]=o}function Xg(s){const o=s[Sb];return"number"==typeof o?jC(o):o||null}function Ab(s){const o=Xg(s);return o?rn(o)?o:o.lView:null}function HC(s,o){const a=s[1];for(let c=22;c<a.bindingStartIndex;c++)if(Gn(s[c])===o)return c;return-1}function GC(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function Nb(s,o){const a=s[1].components;if(a)for(let c=0;c<a.length;c++){const h=a[c];if(tn(h,s)[8]===o)return h}else if(tn(22,s)[8]===o)return 22;return-1}function WC(s,o,a){const c=o[1].data[s];let h=c.directiveStart;return 0==h?Vt:(!a&&2&c.flags&&h++,o.slice(h,c.directiveEnd))}function Mb(s){return s.ownerDocument.defaultView}function Ob(s){return s.ownerDocument}function qC(s){return s.ownerDocument.body}function Zl(s){return s instanceof Function?s():s}var wi=(()=>((wi=wi||{})[wi.Important=1]="Important",wi[wi.DashCase=2]="DashCase",wi))();let jf;function Kl(s,o){return jf(s,o)}function em(s){const o=s[3];return Qr(o)?o[3]:o}function zd(s){return function QC(s){let o=rn(s)?s:Ab(s);for(;o&&!(256&o[2]);)o=em(o);return o}(s)[8]}function ay(s){return Fb(s[13])}function Pb(s){return Fb(s[4])}function Fb(s){for(;null!==s&&!Qr(s);)s=s[4];return s}function qd(s,o,a,c,h){if(null!=c){let p,v=!1;Qr(c)?p=c:rn(c)&&(v=!0,c=c[0]);const D=Gn(c);0===s&&null!==a?null==h?n1(o,a,D):Kd(o,a,D,h||null,!0):1===s&&null!==a?Kd(o,a,D,h||null,!0):2===s?my(o,D,v):3===s&&o.destroyNode(D),null!=p&&function aN(s,o,a,c,h){const p=a[7];p!==Gn(a)&&qd(o,s,c,p,h);for(let D=10;D<a.length;D++){const E=a[D];zf(E[1],E,s,o,c,p)}}(o,s,p,a,h)}}function ly(s,o){return s.createText(o)}function Zd(s,o,a){s.setValue(o,a)}function Yi(s,o){return s.createComment(function Cb(s){return s.replace(OC,o=>o.replace(RC,"\u200b$1\u200b"))}(o))}function cy(s,o,a){return s.createElement(o,a)}function hy(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Bn(h,-1)),a.splice(c,1)}function tm(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&hy(h,c),o>0&&(s[a-1][4]=c[4]);const p=Wa(s,10+o);!function JC(s,o){zf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function nm(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&zf(s,o,a,3,null,null),function XC(s){let o=s[13];if(!o)return fy(s[1],s);for(;o;){let a=null;if(rn(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)rn(o)&&fy(o[1],o),o=o[3];null===o&&(o=s),rn(o)&&fy(o[1],o),a=o&&o[4]}o=a}}(o)}}function fy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Vb(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof hi)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=h[p[v]],E=p[v+1];Yr(4,D,E);try{E.call(D)}finally{Yr(5,D,E)}}else{Yr(4,h,p);try{p.call(h)}finally{Yr(5,h,p)}}}}}(s,o),function Lb(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(o):Gn(o[v]),E=c[h=a[p+2]],M=a[p+3];"boolean"==typeof M?D.removeEventListener(a[p],E,M):M>=0?c[h=M]():c[h=-M].unsubscribe(),p+=2}else{const v=c[h=a[p+1]];a[p].call(v)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Qr(o[3])){a!==o[3]&&hy(a,o);const c=o[19];null!==c&&c.detachView(s)}!function tN(s){sy.delete(s[20])}(o)}}function t1(s,o,a){return py(s,o.parent,a)}function py(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===wt.None||h===wt.Emulated)return null}return Zn(c,a)}function Kd(s,o,a,c,h){s.insertBefore(o,a,c,h)}function n1(s,o,a){s.appendChild(o,a)}function r1(s,o,a,c,h){null!==c?Kd(s,o,a,c,h):n1(s,o,a)}function $f(s,o){return s.parentNode(o)}function Gf(s,o,a){return Ub(s,o,a)}function jb(s,o,a){return 40&s.type?Zn(s,a):null}let gy,Ub=jb;function $b(s,o){Ub=s,gy=o}function Wf(s,o,a,c){const h=t1(s,c,o),p=o[11],D=Gf(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)r1(p,h,a[E],D,!1);else r1(p,h,a,D,!1);void 0!==gy&&gy(p,c,o,a,h)}function rm(s,o){if(null!==o){const a=o.type;if(3&a)return Zn(o,s);if(4&a)return Hb(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return rm(s,c);{const h=s[o.index];return Qr(h)?Hb(-1,h):Gn(h)}}if(32&a)return Kl(o,s)()||Gn(s[o.index]);{const c=Uc(s,o);return null!==c?Array.isArray(c)?c[0]:rm(em(s[16]),c):rm(s,o.next)}}return null}function Uc(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Hb(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return rm(c,h)}return o[7]}function my(s,o,a){const c=$f(s,o);c&&function Bb(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}function _y(s,o,a,c,h,p,v){for(;null!=a;){const D=c[a.index],E=a.type;if(v&&0===o&&(D&&Is(Gn(D),c),a.flags|=4),64!=(64&a.flags))if(8&E)_y(s,o,a.child,c,h,p,!1),qd(o,s,h,D,p);else if(32&E){const M=Kl(a,c);let F;for(;F=M();)qd(o,s,h,F,p);qd(o,s,h,D,p)}else 16&E?ga(s,o,c,a,h,p):qd(o,s,h,D,p);a=v?a.projectionNext:a.next}}function zf(s,o,a,c,h,p){_y(a,c,s.firstChild,o,h,p,!1)}function ga(s,o,a,c,h,p){const v=a[16],E=v[6].projection[c.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)qd(o,s,h,E[M],p);else _y(s,o,E,v[3],h,p,!0)}function Wb(s,o,a){s.setAttribute(o,"style",a)}function zb(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function i1(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const s1="ng-template";function cN(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==i1(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function o1(s){return 4===s.type&&s.value!==s1}function uN(s,o,a){return o===(4!==s.type||a?s.value:s1)}function dN(s,o,a){let c=4;const h=s.attrs||[],p=function fN(s){for(let o=0;o<s.length;o++)if(Oo(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!v)if(4&c){if(c=2|1&c,""!==E&&!uN(s,E,a)||""===E&&1===o.length){if(ma(c))return!1;v=!0}}else{const M=8&c?E:o[++D];if(8&c&&null!==s.attrs){if(!cN(s.attrs,M,a)){if(ma(c))return!1;v=!0}continue}const j=a1(8&c?"class":E,h,o1(s),a);if(-1===j){if(ma(c))return!1;v=!0;continue}if(""!==M){let Q;Q=j>p?"":h[j+1].toLowerCase();const se=8&c?Q:null;if(se&&-1!==i1(se,M,0)||2&c&&M!==Q){if(ma(c))return!1;v=!0}}}}else{if(!v&&!ma(c)&&!ma(E))return!1;if(v&&ma(E))continue;v=!1,c=E|1&c}}return ma(c)||v}function ma(s){return 0==(1&s)}function a1(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function pN(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function l1(s,o,a=!1){for(let c=0;c<o.length;c++)if(dN(s,o[c],a))return!0;return!1}function c1(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function u1(s,o){return s?":not("+o.trim()+")":o}function gN(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const D=s[++a];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!ma(v)&&(o+=u1(p,h),h=""),c=v,p=p||!ma(c);a++}return""!==h&&(o+=u1(p,h)),o}const Qt={};function h1(s){f1(Kt(),Pe(),H()+s,!1)}function f1(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Pn(o,p,a)}else{const p=s.preOrderHooks;null!==p&&eo(o,p,0,a)}ue(a)}const p1={\u0275\u0275defineInjectable:ln,\u0275\u0275defineInjector:jt,\u0275\u0275inject:Nn,\u0275\u0275invalidFactoryDep:Sd,resolveForwardRef:Y};const _N=fe({provide:String,useValue:fe});function m1(s){return void 0!==s.useClass}function ti(s){return void 0!==s.useFactory}const DN=ys("Injectable",void 0,void 0,void 0,(s,o)=>function g1(s,o){let a=null,c=null;s.hasOwnProperty(yi)||Object.defineProperty(s,yi,{get:()=>(null===a&&(a=Dr().compileInjectable(p1,`ng:///${s.name}/\u0275prov.js`,function bN(s,o){const a=o||{providedIn:null},c={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(m1(a)||ti(a))&&void 0!==a.deps&&(c.deps=ua(a.deps)),m1(a)?c.useClass=a.useClass:function yN(s){return _N in s}(a)?c.useValue=a.useValue:ti(a)?c.useFactory=a.useFactory:function vN(s){return void 0!==s.useExisting}(a)&&(c.useExisting=a.useExisting),c}(s,o))),a)}),s.hasOwnProperty(yr)||Object.defineProperty(s,yr,{get:()=>{if(null===c){const h=Dr();c=h.compileFactory(p1,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Gr(s),target:h.FactoryTarget.Injectable})}return c},configurable:!0})}(s,o));function qb(s,o=null,a=null,c){const h=qf(s,o,a,c);return h.resolveInjectorInitializers(),h}function qf(s,o=null,a=null,c,h=new Set){const p=[a||Vt,Af(s)];return c=c||("object"==typeof s?void 0:_e(s)),new Gg(p,o||$d(),c||null,h)}let Ql=(()=>{class s{static create(a,c){if(Array.isArray(a))return qb({name:""},c,a,"");{const h=a.name??"";return qb({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Oi,s.NULL=new Hg,s.\u0275prov=ln({token:s,providedIn:"any",factory:()=>Nn(Sf)}),s.__NG_ELEMENT_ID__=-1,s})();function yy(s){return s.length>1?" ("+function _1(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(c=>_e(c.token)).join(" -> ")+")":""}function vy(s,o,a,c){const h=[o],p=a(h),v=c?function MC(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,c=Error(a);return c[iy]=o,c}(p,c):Error(p);return v.addKey=Zb,v.keys=h,v.injectors=[s],v.constructResolvingMessage=a,v[iy]=c,v}function Zb(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function Qb(s,o){const a=[];for(let c=0,h=o.length;c<h;c++){const p=o[c];a.push(p&&0!=p.length?p.map(_e).join(" "):"?")}return Error("Cannot resolve all parameters for '"+_e(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+_e(s)+"' is decorated with Injectable.")}function w1(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class Yl{constructor(o,a){if(this.token=o,this.id=a,!o)throw new le(208,!1);this.displayName=_e(this.token)}static get(o){return Yb.get(Y(o))}static get numberOfKeys(){return Yb.numberOfKeys}}class I1{constructor(){this._allKeys=new Map}get(o){if(o instanceof Yl)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new Yl(o,Yl.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const Yb=new I1;class im{constructor(o,a,c){this.key=o,this.optional=a,this.visibility=c}static fromKey(o){return new im(o,!1,null)}}const Jb=[];class by{constructor(o,a,c){this.key=o,this.resolvedFactories=a,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class Xb{constructor(o,a){this.factory=o,this.dependencies=a}}function wN(s){let o,a;if(s.useClass){const c=Y(s.useClass);o=Jn().factory(c),a=T1(c)}else s.useExisting?(o=c=>c,a=[im.fromKey(Yl.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function E1(s,o){if(o){const a=o.map(c=>[c]);return o.map(c=>S1(s,c,a))}return T1(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=Jb);return new Xb(o,a)}function C1(s){return new by(Yl.get(s.provide),[wN(s)],s.multi||!1)}function IN(s){const c=function CN(s,o){for(let a=0;a<s.length;a++){const c=s[a],h=o.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw w1(h,c);if(c.multiProvider)for(let p=0;p<c.resolvedFactories.length;p++)h.resolvedFactories.push(c.resolvedFactories[p]);else o.set(c.key.id,c)}else{let p;p=c.multiProvider?new by(c.key,c.resolvedFactories.slice(),c.multiProvider):c,o.set(c.key.id,p)}}return o}(eD(s,[]).map(C1),new Map);return Array.from(c.values())}function eD(s,o){return s.forEach(a=>{if(a instanceof Sc)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function b1(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);eD(a,o)}}),o}function T1(s){const o=Jn().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw Qb(s,o);return o.map(a=>S1(s,a,o))}function S1(s,o,a){let c=null,h=!1;if(!Array.isArray(o))return tD(o instanceof ke?o.token:o,h,null);let p=null;for(let v=0;v<o.length;++v){const D=o[v];D instanceof Sc?c=D:D instanceof ke?c=D.token:D instanceof Qe?h=!0:D instanceof bt||D instanceof Ot?p=D:D instanceof Fn&&(c=D)}if(c=Y(c),null!=c)return tD(c,h,p);throw Qb(s,a)}function tD(s,o,a){return new im(Yl.get(s),o,a)}const sm={};class Zf{static resolve(o){return IN(o)}static resolveAndCreate(o,a){const c=Zf.resolve(o);return Zf.fromResolvedProviders(c,a)}static fromResolvedProviders(o,a){return new EN(o,a)}}let EN=(()=>{class s{constructor(a,c){this._constructionCounter=0,this._providers=a,this.parent=c||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=sm}get(a,c=Oi){return this._getByKey(Yl.get(a),null,c)}resolveAndCreateChild(a){const c=Zf.resolve(a);return this.createChildFromResolved(c)}createChildFromResolved(a){const c=new s(a);return c.parent=this,c}resolveAndInstantiate(a){return this.instantiateResolved(Zf.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function D1(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function y1(s,o){return vy(s,o,function(a){return`Cannot instantiate cyclic dependency!${yy(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const c=[];for(let h=0;h<a.resolvedFactories.length;++h)c[h]=this._instantiate(a,a.resolvedFactories[h]);return c}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,c){const h=c.factory;let p,v;try{p=c.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,a.key),D}try{v=h(...p)}catch(D){throw function v1(s,o,a,c){return vy(s,c,function(h){const p=_e(h[0].token);return`${o.message}: Error during instantiation of ${p}!${yy(h)}.`},o)}(this,D,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Oi)}_getByKey(a,c,h){return a===s.INJECTOR_KEY?this:c instanceof bt?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,c)}_getObjByKeyId(a){for(let c=0;c<this.keyIds.length;c++)if(this.keyIds[c]===a)return this.objs[c]===sm&&(this.objs[c]=this._new(this._providers[c])),this.objs[c];return sm}_throwOrNull(a,c){if(c!==Oi)return c;throw function Kb(s,o){return vy(s,o,function(a){return`No provider for ${_e(a[0].token)}!${yy(a)}`})}(this,a)}_getByKeySelf(a,c){const h=this._getObjByKeyId(a.id);return h!==sm?h:this._throwOrNull(a,c)}_getByKeyDefault(a,c,h){let p;for(p=h instanceof Ot?this.parent:this;p instanceof s;){const v=p,D=v._getObjByKeyId(a.id);if(D!==sm)return D;p=v.parent}return null!==p?p.get(a.token,c):this._throwOrNull(a,c)}get displayName(){return`ReflectiveInjector(providers: [${function TN(s,o){const a=[];for(let c=0;c<s._providers.length;++c)a[c]=o(s.getProviderAtIndex(c));return a}(this,c=>' "'+c.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=Yl.get(Ql),s})();function Kf(s,o=ot.Default){const a=Pe();return null===a?Nn(s,o):aa(jn(),a,Y(s),o)}function A1(){throw new Error("invalid")}function Dy(s,o){return s<<17|o<<2}function rl(s){return s>>17&32767}function wy(s){return 2|s}function $c(s){return(131068&s)>>2}function nD(s,o){return-131069&s|o<<2}function rD(s){return 1|s}function Ay(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const v=s.data[p];ka(h),v.contentQueries(2,o[p],p)}}}function Yf(s,o,a,c,h,p,v,D,E,M,F){const j=o.blueprint.slice();return j[0]=h,j[2]=76|c,(null!==F||s&&1024&s[2])&&(j[2]|=1024),ea(j),j[3]=j[15]=s,j[8]=a,j[10]=v||s&&s[10],j[11]=D||s&&s[11],j[12]=E||s&&s[12]||null,j[9]=M||s&&s[9]||null,j[6]=p,j[20]=function BC(){return VC++}(),j[21]=F,j[16]=2==o.type?s[16]:j,j}function xu(s,o,a,c,h){let p=s.data[o];if(null===p)p=Xd(s,o,a,c,h),function hu(){return At.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const v=Gi();p.injectorIndex=null===v?-1:v.injectorIndex}return ui(p,!0),p}function Xd(s,o,a,c,h){const p=Ao(),v=No(),E=s.data[o]=function G1(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(v?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function eh(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function th(s,o,a){Pa(o);try{const c=s.viewQuery;null!==c&&dm(1,c,a);const h=s.template;null!==h&&Oy(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ay(s,o),s.staticViewQueries&&dm(2,s.viewQuery,a);const p=s.components;null!==p&&function Ny(s,o){for(let a=0;a<o.length;a++)J1(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,R()}}function My(s,o,a,c){const h=o[2];if(128!=(128&h)){Pa(o);try{ea(o),Js(s.bindingStartIndex),null!==a&&Oy(s,o,a,2,c);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Pn(o,M,null)}else{const M=s.preOrderHooks;null!==M&&eo(o,M,0,null),gs(o,0)}if(function Q1(s){for(let o=ay(s);null!==o;o=Pb(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&Bn(p,1),h[2]|=512}}}(o),function K1(s){for(let o=ay(s);null!==o;o=Pb(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Ps(c)&&My(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Ay(s,o),v){const M=s.contentCheckHooks;null!==M&&Pn(o,M)}else{const M=s.contentHooks;null!==M&&eo(o,M,1),gs(o,1)}!function xN(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)ue(~h);else{const p=h,v=a[++c],D=a[++c];yd(v,p),D(2,o[p])}}}finally{ue(-1)}}(s,o);const D=s.components;null!==D&&function $1(s,o){for(let a=0;a<o.length;a++)Y1(s,o[a])}(o,D);const E=s.viewQuery;if(null!==E&&dm(2,E,c),v){const M=s.viewCheckHooks;null!==M&&Pn(o,M)}else{const M=s.viewHooks;null!==M&&eo(o,M,2),gs(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Bn(o[3],-1))}finally{R()}}}function Oy(s,o,a,c,h){const p=H(),v=2&c;try{ue(-1),v&&o.length>22&&f1(s,o,22,!1),Yr(v?2:0,h),a(c,h)}finally{ue(p),Yr(v?3:1,h)}}function Gc(s,o,a){if(Ko(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function dD(s,o,a){!Hi()||(function Ly(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Ro(a,o),Is(c,o);const v=a.initialInputs;for(let D=h;D<p;D++){const E=s.data[D],M=Or(E);M&&wD(o,a,E);const F=to(o,s,D,a);Is(F,o),null!==v&&FN(0,D-h,F,E,0,v),M&&(tn(a.index,o)[8]=F)}}(s,o,a,Zn(a,o)),128==(128&a.flags)&&function PN(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,v=function yc(){return At.lFrame.currentDirectiveIndex}();try{ue(p);for(let D=c;D<h;D++){const E=s.data[D],M=o[D];Cl(D),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&q1(E,M)}}finally{ue(-1),Cl(v)}}(s,o,a))}function Ry(s,o,a=Zn){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],D=-1===v?a(o,s):s[v];s[h++]=D}}}function xy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ky(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ky(s,o,a,c,h,p,v,D,E,M){const F=22+c,j=F+h,Q=function Jf(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Qt);return a}(F,j),se="function"==typeof M?M():M;return Q[1]={type:s,blueprint:Q,template:a,queries:null,viewQuery:D,declTNode:o,data:Q.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function hD(s,o,a,c){const h=X1(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&$y(s).push(c,h.length-1))}function fD(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Py(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,v=[];let D=null,E=null;for(let M=o.directiveStart;M<c;M++){const F=h[M],j=F.inputs,Q=null===p||o1(o)?null:LN(j,p);v.push(Q),D=fD(j,M,D),E=fD(F.outputs,M,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=E}function js(s,o,a,c,h,p,v,D){const E=Zn(o,a);let F,M=o.inputs;!D&&null!=M&&(F=M[c])?(hm(s,a,F,c,h),vo(o)&&pD(a,o.index)):3&o.type&&(c=function W1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,p.setProperty(E,c,h))}function pD(s,o){const a=tn(o,s);16&a[2]||(a[2]|=32)}function lm(s,o,a,c){let h=!1;if(Hi()){const p=function yD(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];l1(a,v.selectors,!1)&&(h||(h=[]),xo(Ro(a,o),s,v.type),Or(v)?(vD(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===c?null:{"":-1};if(null!==p){h=!0,Vy(a,s.data.length,p.length);for(let F=0;F<p.length;F++){const j=p[F];j.providersResolver&&j.providersResolver(j)}let D=!1,E=!1,M=eh(s,o,p.length,null);for(let F=0;F<p.length;F++){const j=p[F];a.mergedAttrs=pu(a.mergedAttrs,j.hostAttrs),By(s,a,o,M,j),DD(M,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const Q=j.type.prototype;!D&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!E&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),M++}Py(s,a)}v&&function bD(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new le(-301,!1);c.push(o[h],p)}}}(a,c,v)}return a.mergedAttrs=pu(a.mergedAttrs,a.attrs),h}function _D(s,o,a,c,h,p){const v=p.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function z1(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=E&&D.push(E),D.push(c,h,v)}}function q1(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function vD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function DD(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Or(o)&&(a[""]=s)}}function Vy(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function By(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Sn(h.type)),v=new hi(p,Or(h),Kf);s.blueprint[c]=v,a[c]=v,_D(s,o,0,c,eh(s,a,h.hostVars,Qt),h)}function wD(s,o,a){const c=Zn(o,s),h=xy(a),p=s[10],v=jy(s,Yf(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=v}function _a(s,o,a,c,h,p){const v=Zn(s,o);cm(o[11],v,p,s.value,a,c,h)}function cm(s,o,a,c,h,p,v){if(null==p)s.removeAttribute(o,h,a);else{const D=null==v?ge(p):v(p,c||"",h);s.setAttribute(o,h,D,a)}}function FN(s,o,a,c,h,p){const v=p[o];if(null!==v){const D=c.setInput;for(let E=0;E<v.length;){const M=v[E++],F=v[E++],j=v[E++];null!==D?c.setInput(a,j,M,F):a[F]=j}}}function LN(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function ID(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function Y1(s,o){const a=tn(o,s);if(Ps(a)){const c=a[1];48&a[2]?My(c,a,c.template,a[8]):a[5]>0&&um(a)}}function um(s){for(let c=ay(s);null!==c;c=Pb(c))for(let h=10;h<c.length;h++){const p=c[h];if(Ps(p))if(512&p[2]){const v=p[1];My(v,p,v.template,p[8])}else p[5]>0&&um(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=tn(a[c],s);Ps(h)&&h[5]>0&&um(h)}}function J1(s,o){const a=tn(o,s),c=a[1];(function VN(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),th(c,a,a[8])}function jy(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function CD(s){for(;s;){s[2]|=32;const o=em(s);if(pc(s)&&!o)return s;s=o}return null}function Uy(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{My(s,o,s.template,a)}catch(v){throw c&&tE(o,v),v}finally{h.end&&h.end()}}function dm(s,o,a){ka(0),o(s,a)}function X1(s){return s[7]||(s[7]=[])}function $y(s){return s.cleanup||(s.cleanup=[])}function eE(s,o,a){return(null===s||Or(s))&&(a=function Si(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function tE(s,o){const a=s[9],c=a?a.get(Vf,null):null;c&&c.handleError(o)}function hm(s,o,a,c,h){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],E=o[v],M=s.data[v];null!==M.setInput?M.setInput(E,h,c,D):E[D]=h}}function Wc(s,o,a){const c=An(o,s);Zd(s[11],c,a)}function Hy(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?p=D:1==p?h=ye(h,D):2==p&&(c=ye(c,D+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Gy(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Gn(p)),Qr(p))for(let D=10;D<p.length;D++){const E=p[D],M=E[1].firstChild;null!==M&&Gy(E[1],E,M,c)}const v=a.type;if(8&v)Gy(s,o,a.child,c);else if(32&v){const D=Kl(a,o);let E;for(;E=D();)c.push(E)}else if(16&v){const D=Uc(o,a);if(Array.isArray(D))c.push(...D);else{const E=em(o[16]);Gy(E[1],E,D,c,!0)}}a=h?a.projectionNext:a.next}return c}class Xf{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Gy(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(tm(o,c),Wa(a,c))}this._attachedToViewContainer=!1}nm(this._lView[1],this._lView)}onDestroy(o){hD(this._lView[1],this._lView,null,o)}markForCheck(){CD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Uy(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uf(s,o){zf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=o}}class nE extends Xf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Uy(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ED extends Hd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ne(o);return new ep(a,this.ngModule)}}function rE(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class BN{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,Nt,c);return h!==Nt||a===Nt?h:this.parentInjector.get(o,a,c)}}class ep extends Au{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function d1(s){return s.map(gN).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return rE(this.componentDef.inputs)}get outputs(){return rE(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof bs?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new BN(o,p):o,D=v.get(O,null);if(null===D)throw new le(407,!1);const E=v.get(Ie,null),M=D.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",j=c?function H1(s,o,a){return s.selectRootElement(o,a===wt.ShadowDom)}(M,c,this.componentDef.encapsulation):cy(D.createRenderer(null,this.componentDef),F,function iE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Q=this.componentDef.onPush?288:272,se=ky(0,null,null,1,0,null,null,null,null,null),Oe=Yf(null,se,null,Q,null,null,D,M,E,v,null);let ze,et;Pa(Oe);try{const _t=function jN(s,o,a,c,h,p){const v=a[1];a[22]=s;const E=xu(v,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Hy(E,M,!0),null!==s&&(wc(h,s,M),null!==E.classes&&zb(h,s,E.classes),null!==E.styles&&Wb(h,s,E.styles)));const F=c.createRenderer(s,o),j=Yf(a,xy(o),null,o.onPush?32:16,a[22],E,c,F,p||null,null,null);return v.firstCreatePass&&(xo(Ro(E,a),v,o.type),vD(v,E),Vy(E,a.length,1)),jy(a,j),a[22]=j}(j,this.componentDef,Oe,D,M);if(j)if(c)wc(M,j,["ng-version",pt.full]);else{const{attrs:Rt,classes:Ve}=function mN(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!ma(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Rt&&wc(M,j,Rt),Ve&&Ve.length>0&&zb(M,j,Ve.join(" "))}if(et=Xo(se,22),void 0!==a){const Rt=et.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const xt=a[Ve];Rt.push(null!=xt?Array.from(xt):null)}}ze=function UN(s,o,a,c){const h=a[1],p=function Fy(s,o,a){const c=jn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),By(s,c,o,eh(s,o,1,null),a),Py(s,c));const h=to(o,s,c.directiveStart,c);Is(h,o);const p=Zn(c,o);return p&&Is(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==c)for(const D of c)D(p,o);if(o.contentQueries){const D=jn();o.contentQueries(1,p,D.directiveStart)}const v=jn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ue(v.index),_D(a[1],v,0,v.directiveStart,v.directiveEnd,o),q1(o,p)),p}(_t,this.componentDef,Oe,[Wy]),th(se,Oe,null)}finally{R()}return new sE(this.componentType,ze,y(et,Oe),Oe,et)}}class sE extends qg{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new nE(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;hm(p[1],p,h,o,a),pD(p,this._tNode.index)}}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Wy(){const s=jn();vn(Pe()[1],s)}function oE(s){return Object.getPrototypeOf(s.prototype).constructor}function SD(s){let o=oE(s.type),a=!0;const c=[s];for(;o;){let h;if(Or(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new le(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const v=s;v.inputs=AD(s.inputs),v.declaredInputs=AD(s.declaredInputs),v.outputs=AD(s.outputs);const D=h.hostBindings;D&&GN(s,D);const E=h.viewQuery,M=h.contentQueries;if(E&&ND(s,E),M&&HN(s,M),ve(s.inputs,h.inputs),ve(s.declaredInputs,h.declaredInputs),ve(s.outputs,h.outputs),Or(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(s),D===SD&&(a=!1)}}o=Object.getPrototypeOf(o)}!function $N(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=pu(h.hostAttrs,a=pu(a,h.hostAttrs))}}(c)}function AD(s){return s===li?{}:s===Vt?[]:s}function ND(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function HN(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function GN(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}const WN=["providersResolver"],zN=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function MD(s){let a,o=oE(s.type);a=Or(s)?o.\u0275cmp:o.\u0275dir;const c=s;for(const h of WN)c[h]=a[h];if(Or(a))for(const h of zN)c[h]=a[h]}let zy=null;function nh(){if(!zy){const s=yn.Symbol;if(s&&s.iterator)zy=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(zy=c)}}}return zy}function fm(s){return!!RD(s)&&(Array.isArray(s)||!(s instanceof Map)&&nh()in s)}function RD(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function aE(s,o){const a=fm(s),c=fm(o);return a&&c?function OD(s,o,a){const c=s[nh()](),h=o[nh()]();for(;;){const p=c.next(),v=h.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(s,o,aE):!(a||!s||"object"!=typeof s&&"function"!=typeof s||c||!o||"object"!=typeof o&&"function"!=typeof o)||Object.is(s,o)}function Jl(s,o,a){return s[o]=a}function pm(s,o){return s[o]}function Cs(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function rh(s,o,a,c){const h=Cs(s,o,a);return Cs(s,o+1,c)||h}function qy(s,o,a,c,h){const p=rh(s,o,a,c);return Cs(s,o+2,h)||p}function lo(s,o,a,c,h,p){const v=rh(s,o,a,c);return rh(s,o+2,h,p)||v}function Zy(s,o,a,c){const h=Pe();return Cs(h,Wi(),o)&&(Kt(),_a(De(),h,s,o,a,c)),Zy}function ih(s,o){let a=!1,c=Hr();for(let p=1;p<o.length;p+=2)a=Cs(s,c++,o[p])||a;if(Js(c),!a)return Qt;let h=o[0];for(let p=1;p<o.length;p+=2)h+=ge(o[p])+o[p+1];return h}function ku(s,o,a,c){return Cs(s,Wi(),a)?o+ge(a)+c:Qt}function Ji(s,o,a,c,h,p){const D=rh(s,Hr(),a,h);return Jr(2),D?o+ge(a)+c+ge(h)+p:Qt}function wr(s,o,a,c,h,p,v,D){const M=qy(s,Hr(),a,h,v);return Jr(3),M?o+ge(a)+c+ge(h)+p+ge(v)+D:Qt}function zc(s,o,a,c,h,p,v,D,E,M){const j=lo(s,Hr(),a,h,v,E);return Jr(4),j?o+ge(a)+c+ge(h)+p+ge(v)+D+ge(E)+M:Qt}function sh(s,o,a,c,h,p,v,D,E,M,F,j){const Q=Hr();let se=lo(s,Q,a,h,v,E);return se=Cs(s,Q+4,F)||se,Jr(5),se?o+ge(a)+c+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j:Qt}function il(s,o,a,c,h,p,v,D,E,M,F,j,Q,se){const Oe=Hr();let ze=lo(s,Oe,a,h,v,E);return ze=rh(s,Oe+4,F,Q)||ze,Jr(6),ze?o+ge(a)+c+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+se:Qt}function tp(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze){const et=Hr();let _t=lo(s,et,a,h,v,E);return _t=qy(s,et+4,F,Q,Oe)||_t,Jr(7),_t?o+ge(a)+c+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+se+ge(Oe)+ze:Qt}function oh(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t){const Rt=Hr();let Ve=lo(s,Rt,a,h,v,E);return Ve=lo(s,Rt+4,F,Q,Oe,et)||Ve,Jr(8),Ve?o+ge(a)+c+ge(h)+p+ge(v)+D+ge(E)+M+ge(F)+j+ge(Q)+se+ge(Oe)+ze+ge(et)+_t:Qt}function Ae(s,o,a,c,h,p){const v=Pe(),D=ku(v,o,a,c);return D!==Qt&&_a(De(),v,s,D,h,p),Ae}function Xl(s,o,a,c,h,p,v,D){const E=Pe(),M=Ji(E,o,a,c,h,p);return M!==Qt&&_a(De(),E,s,M,v,D),Xl}function ah(s,o,a,c,h,p,v,D,E,M){const F=Pe(),j=wr(F,o,a,c,h,p,v,D);return j!==Qt&&_a(De(),F,s,j,E,M),ah}function sl(s,o,a,c,h,p,v,D,E,M,F,j){const Q=Pe(),se=zc(Q,o,a,c,h,p,v,D,E,M);return se!==Qt&&_a(De(),Q,s,se,F,j),sl}function In(s,o,a,c,h,p,v,D,E,M,F,j,Q,se){const Oe=Pe(),ze=sh(Oe,o,a,c,h,p,v,D,E,M,F,j);return ze!==Qt&&_a(De(),Oe,s,ze,Q,se),In}function Ky(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze){const et=Pe(),_t=il(et,o,a,c,h,p,v,D,E,M,F,j,Q,se);return _t!==Qt&&_a(De(),et,s,_t,Oe,ze),Ky}function ya(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t){const Rt=Pe(),Ve=tp(Rt,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze);return Ve!==Qt&&_a(De(),Rt,s,Ve,et,_t),ya}function It(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t,Rt,Ve){const xt=Pe(),En=oh(xt,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t);return En!==Qt&&_a(De(),xt,s,En,Rt,Ve),It}function np(s,o,a,c){const h=Pe(),p=ih(h,o);return p!==Qt&&_a(De(),h,s,p,a,c),np}function zt(s){const o=UC(s);Uy(o[1],o,s)}function rp(s,o,a,c,h,p,v,D){const E=Pe(),M=Kt(),F=s+22,j=M.firstCreatePass?function gm(s,o,a,c,h,p,v,D,E){const M=o.consts,F=xu(o,s,4,v||null,bi(M,D));lm(o,a,F,bi(M,E)),vn(o,F);const j=F.tViews=ky(2,F,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),j.queries=o.queries.embeddedTView(F)),F}(F,M,E,o,a,c,h,p,v):M.data[F];ui(j,!1);const Q=E[11].createComment("");Wf(M,E,Q,j),Is(Q,E),jy(E,E[F]=ID(Q,E,Q,j)),Aa(j)&&dD(M,E,j),null!=v&&Ry(E,j,D)}function lh(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}function xD(s){return vi(function Ai(){return At.lFrame.contextLView}(),22+s)}function ip(s,o,a){const c=Pe();return Cs(c,Wi(),o)&&js(Kt(),De(),c,s,o,c[11],a,!1),ip}function Qy(s,o,a,c,h){const v=h?"class":"style";hm(s,a,o.inputs[v],v,c)}function mm(s,o,a,c){const h=Pe(),p=Kt(),v=22+s,D=h[11],E=h[v]=cy(D,o,function en(){return At.lFrame.currentNamespace}()),M=p.firstCreatePass?function lE(s,o,a,c,h,p,v){const D=o.consts,M=xu(o,s,2,h,bi(D,p));return lm(o,a,M,bi(D,v)),null!==M.attrs&&Hy(M,M.attrs,!1),null!==M.mergedAttrs&&Hy(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,p,h,0,o,a,c):p.data[v];ui(M,!0);const F=M.mergedAttrs;null!==F&&wc(D,E,F);const j=M.classes;null!==j&&zb(D,E,j);const Q=M.styles;return null!==Q&&Wb(D,E,Q),64!=(64&M.flags)&&Wf(p,h,E,M),0===function To(){return At.lFrame.elementDepthCount}()&&Is(E,h),function ta(){At.lFrame.elementDepthCount++}(),Aa(M)&&(dD(p,h,M),Gc(p,M,h)),null!==c&&Ry(h,M),mm}function pi(){let s=jn();No()?Ys():(s=s.parent,ui(s,!1));const o=s;!function na(){At.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(vn(a,s),Ko(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Dc(s){return 0!=(16&s.flags)}(o)&&Qy(a,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function uf(s){return 0!=(32&s.flags)}(o)&&Qy(a,o,Pe(),o.stylesWithoutHost,!1),pi}function ch(s,o,a,c){return mm(s,o,a,c),pi(),ch}function va(s,o,a){const c=Pe(),h=Kt(),p=s+22,v=h.firstCreatePass?function xi(s,o,a,c,h){const p=o.consts,v=bi(p,c),D=xu(o,s,8,"ng-container",v);return null!==v&&Hy(D,v,!0),lm(o,a,D,bi(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,c,o,a):h.data[p];ui(v,!0);const D=c[p]=c[11].createComment("");return Wf(h,c,D,v),Is(D,c),Aa(v)&&(dD(h,c,v),Gc(h,v,c)),null!=a&&Ry(c,v),va}function _m(){let s=jn();const o=Kt();return No()?Ys():(s=s.parent,ui(s,!1)),o.firstCreatePass&&(vn(o,s),Ko(s)&&o.queries.elementEnd(s)),_m}function ym(s,o,a){return va(s,o,a),_m(),ym}function vm(){return Pe()}function bm(s){return!!s&&"function"==typeof s.then}function ki(s){return!!s&&"function"==typeof s.subscribe}const kD=ki;function uh(s,o,a,c){const h=Pe(),p=Kt(),v=jn();return sp(p,h,h[11],v,s,o,0,c),uh}function Dm(s,o){const a=jn(),c=Pe(),h=Kt();return sp(h,c,eE(xa(h.data),a,c),a,s,o),Dm}function sp(s,o,a,c,h,p,v,D){const E=Aa(c),F=s.firstCreatePass&&$y(s),j=o[8],Q=X1(o);let se=!0;if(3&c.type||D){const et=Zn(c,o),_t=D?D(et):et,Rt=Q.length,Ve=D?En=>D(Gn(En[c.index])):c.index;let xt=null;if(!D&&E&&(xt=function Yy(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===c){const D=o[7],E=h[p+2];return D.length>E?D[E]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,c.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,se=!1;else{p=wm(c,o,j,p,!1);const En=a.listen(_t,h,p);Q.push(p,En),F&&F.push(h,Ve,Rt,Rt+1)}}else p=wm(c,o,j,p,!1);const Oe=c.outputs;let ze;if(se&&null!==Oe&&(ze=Oe[h])){const et=ze.length;if(et)for(let _t=0;_t<et;_t+=2){const Wn=o[ze[_t]][ze[_t+1]].subscribe(p),ou=Q.length;Q.push(p,Wn),F&&F.push(h,c.index,ou,-(ou+1))}}}function ba(s,o,a,c){try{return Yr(6,o,a),!1!==a(c)}catch(h){return tE(s,h),!1}finally{Yr(7,o,a)}}function wm(s,o,a,c,h){return function p(v){if(v===Function)return c;CD(2&s.flags?tn(s.index,o):o);let E=ba(o,a,c,v),M=p.__ngNextListenerFn__;for(;M;)E=ba(o,a,M,v)&&E,M=M.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function PD(s=1){return function T(s){return(At.lFrame.contextLView=function P(s,o){for(;s>0;)o=o[15],s--;return o}(s,At.lFrame.contextLView))[8]}(s)}function cE(s,o){let a=null;const c=function hN(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?l1(s,p,!0):c1(c,p))return h}else a=h}return a}function Pu(s){const o=Pe()[16][6];if(!o.projection){const c=o.projection=so(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const v=s?cE(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:c[v]=p,h[v]=p),p=p.next}}}function Jy(s,o=0,a){const c=Pe(),h=Kt(),p=xu(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Ys(),64!=(64&p.flags)&&function Gb(s,o,a){ga(o[11],0,o,a,t1(s,a,o),Gf(a.parent||o[6],a,o))}(h,c,p)}function op(s,o,a){return ap(s,"",o,"",a),op}function ap(s,o,a,c,h){const p=Pe(),v=ku(p,o,a,c);return v!==Qt&&js(Kt(),De(),p,s,v,p[11],h,!1),ap}function Xy(s,o,a,c,h,p,v){const D=Pe(),E=Ji(D,o,a,c,h,p);return E!==Qt&&js(Kt(),De(),D,s,E,D[11],v,!1),Xy}function Im(s,o,a,c,h,p,v,D,E){const M=Pe(),F=wr(M,o,a,c,h,p,v,D);return F!==Qt&&js(Kt(),De(),M,s,F,M[11],E,!1),Im}function dh(s,o,a,c,h,p,v,D,E,M,F){const j=Pe(),Q=zc(j,o,a,c,h,p,v,D,E,M);return Q!==Qt&&js(Kt(),De(),j,s,Q,j[11],F,!1),dh}function lp(s,o,a,c,h,p,v,D,E,M,F,j,Q){const se=Pe(),Oe=sh(se,o,a,c,h,p,v,D,E,M,F,j);return Oe!==Qt&&js(Kt(),De(),se,s,Oe,se[11],Q,!1),lp}function cp(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe){const ze=Pe(),et=il(ze,o,a,c,h,p,v,D,E,M,F,j,Q,se);return et!==Qt&&js(Kt(),De(),ze,s,et,ze[11],Oe,!1),cp}function up(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et){const _t=Pe(),Rt=tp(_t,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze);return Rt!==Qt&&js(Kt(),De(),_t,s,Rt,_t[11],et,!1),up}function ev(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t,Rt){const Ve=Pe(),xt=oh(Ve,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t);return xt!==Qt&&js(Kt(),De(),Ve,s,xt,Ve[11],Rt,!1),ev}function tv(s,o,a){const c=Pe(),h=ih(c,o);return h!==Qt&&js(Kt(),De(),c,s,h,c[11],a,!1),tv}function hh(s,o,a,c,h){const p=s[a+1],v=null===o;let D=c?rl(p):$c(p),E=!1;for(;0!==D&&(!1===E||v);){const F=s[D+1];dE(s[D],o)&&(E=!0,s[D+1]=c?rD(F):wy(F)),D=c?rl(F):$c(F)}E&&(s[a+1]=c?wy(p):rD(p))}function dE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Fo(s,o)>=0}const Ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VD(s){return s.substring(Ir.key,Ir.keyEnd)}function hE(s){return s.substring(Ir.value,Ir.valueEnd)}function Em(s,o){const a=Ir.textEnd;return a===o?-1:(o=Ir.keyEnd=function iv(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Ir.key=o,a),ec(s,o,a))}function nv(s,o){const a=Ir.textEnd;let c=Ir.key=ec(s,o,a);return a===c?-1:(c=Ir.keyEnd=function sv(s,o,a){let c;for(;o<a&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,a),c=Tm(s,c,a),c=Ir.value=ec(s,c,a),c=Ir.valueEnd=function ov(s,o,a){let c=-1,h=-1,p=-1,v=o,D=v;for(;v<a;){const E=s.charCodeAt(v++);if(59===E)return D;34===E||39===E?D=v=av(s,E,v,a):o===v-4&&85===p&&82===h&&76===c&&40===E?D=v=av(s,41,v,a):E>32&&(D=v),p=h,h=c,c=-33&E}return D}(s,c,a),Tm(s,c,a))}function rv(s){Ir.key=0,Ir.keyEnd=0,Ir.value=0,Ir.valueEnd=0,Ir.textEnd=s.length}function ec(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Tm(s,o,a,c){return(o=ec(s,o,a))<a&&o++,o}function av(s,o,a,c){let h=-1,p=a;for(;p<c;){const v=s.charCodeAt(p++);if(v==o&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function lv(s,o,a){return co(s,o,a,!1),lv}function Sm(s,o){return co(s,o,null,!0),Sm}function Ho(s){uo(jD,cv,s,!1)}function cv(s,o){for(let a=function BD(s){return rv(s),nv(s,ec(s,0,Ir.textEnd))}(o);a>=0;a=nv(o,a))jD(s,VD(o),hE(o))}function uv(s){uo(Mi,ol,s,!0)}function ol(s,o){for(let a=function Cm(s){return rv(s),Em(s,ec(s,0,Ir.textEnd))}(o);a>=0;a=Em(o,a))Mi(s,VD(o),!0)}function co(s,o,a,c){const h=Pe(),p=Kt(),v=Jr(2);p.firstUpdatePass&&gi(p,s,v,c),o!==Qt&&Cs(h,v,o)&&Mm(p,p.data[H()],h,h[11],s,h[v+1]=function HD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(ao(s)))),s}(o,a),c,v)}function uo(s,o,a,c){const h=Kt(),p=Jr(2);h.firstUpdatePass&&gi(h,null,p,c);const v=Pe();if(a!==Qt&&Cs(v,p,a)){const D=h.data[H()];if(GD(D,c)&&!Am(h,p)){let E=c?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(a=ye(E,a||"")),Qy(h,D,v,a,c)}else!function UD(s,o,a,c,h,p,v,D){h===Qt&&(h=Vt);let E=0,M=0,F=0<h.length?h[0]:null,j=0<p.length?p[0]:null;for(;null!==F||null!==j;){const Q=E<h.length?h[E+1]:void 0,se=M<p.length?p[M+1]:void 0;let ze,Oe=null;F===j?(E+=2,M+=2,Q!==se&&(Oe=j,ze=se)):null===j||null!==F&&F<j?(E+=2,Oe=F):(M+=2,Oe=j,ze=se),null!==Oe&&Mm(s,o,a,c,Oe,ze,v,D),F=E<h.length?h[E]:null,j=M<p.length?p[M]:null}}(h,D,v,v[11],v[p+1],v[p+1]=function gE(s,o,a){if(null==a||""===a)return Vt;const c=[],h=ao(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}function Am(s,o){return o>=s.expandoStartIndex}function gi(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[H()],v=Am(s,a);GD(p,c)&&null===o&&!v&&(o=!1),o=function Pi(s,o,a,c){const h=xa(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=fh(a=hv(null,s,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=hv(h,s,o,a,c),null===p){let E=function Nm(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==$c(c))return s[rl(c)]}(s,o,c);void 0!==E&&Array.isArray(E)&&(E=hv(null,s,o,E[1],c),E=fh(E,o.attrs,c),function dv(s,o,a,c){s[rl(a?o.classBindings:o.styleBindings)]=c}(s,o,c,E))}else p=function pE(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=fh(c,s[p].hostAttrs,a);return fh(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function LD(s,o,a,c,h,p){let v=p?o.classBindings:o.styleBindings,D=rl(v),E=$c(v);s[c]=a;let F,M=!1;if(Array.isArray(a)){const j=a;F=j[1],(null===F||Fo(j,F)>0)&&(M=!0)}else F=a;if(h)if(0!==E){const Q=rl(s[D+1]);s[c+1]=Dy(Q,D),0!==Q&&(s[Q+1]=nD(s[Q+1],c)),s[D+1]=function SN(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=Dy(D,0),0!==D&&(s[D+1]=nD(s[D+1],c)),D=c;else s[c+1]=Dy(E,0),0===D?D=c:s[E+1]=nD(s[E+1],c),E=c;M&&(s[c+1]=wy(s[c+1])),hh(s,F,c,!0),hh(s,F,c,!1),function uE(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Fo(p,o)>=0&&(a[c+1]=rD(a[c+1]))}(o,F,s,c,p),v=Dy(D,E),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,c)}}function hv(s,o,a,c,h){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=o[D],c=fh(c,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),c}function fh(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Mi(s,v,!!a||o[++p]))}return void 0===s?null:s}function jD(s,o,a){Mi(s,o,ao(a))}function Mm(s,o,a,c,h,p,v,D){if(!(3&o.type))return;const E=s.data,M=E[D+1];ph(function O1(s){return 1==(1&s)}(M)?$D(E,o,a,h,$c(M),v):void 0)||(ph(p)||function M1(s){return 2==(2&s)}(M)&&(p=$D(E,null,a,h,D,v)),function lN(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:wi.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=wi.Important),s.setStyle(a,c,h,p))}}(c,v,An(H(),a),h,p))}function $D(s,o,a,c,h,p){const v=null===o;let D;for(;h>0;){const E=s[h],M=Array.isArray(E),F=M?E[1]:E,j=null===F;let Q=a[h+1];Q===Qt&&(Q=j?Vt:void 0);let se=j?za(Q,c):F===c?Q:void 0;if(M&&!ph(se)&&(se=za(E,c)),ph(se)&&(D=se,v))return D;const Oe=s[h+1];h=v?rl(Oe):$c(Oe)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(D=za(E,c))}return D}function ph(s){return void 0!==s}function GD(s,o){return 0!=(s.flags&(o?16:32))}function dp(s,o=""){const a=Pe(),c=Kt(),h=s+22,p=c.firstCreatePass?xu(c,h,1,o,null):c.data[h],v=a[h]=ly(a[11],o);Wf(c,a,v,p),ui(p,!1)}function hp(s){return gh("",s,""),hp}function gh(s,o,a){const c=Pe(),h=ku(c,s,o,a);return h!==Qt&&Wc(c,H(),h),gh}function Om(s,o,a,c,h){const p=Pe(),v=Ji(p,s,o,a,c,h);return v!==Qt&&Wc(p,H(),v),Om}function fv(s,o,a,c,h,p,v){const D=Pe(),E=wr(D,s,o,a,c,h,p,v);return E!==Qt&&Wc(D,H(),E),fv}function Fu(s,o,a,c,h,p,v,D,E){const M=Pe(),F=zc(M,s,o,a,c,h,p,v,D,E);return F!==Qt&&Wc(M,H(),F),Fu}function Rm(s,o,a,c,h,p,v,D,E,M,F){const j=Pe(),Q=sh(j,s,o,a,c,h,p,v,D,E,M,F);return Q!==Qt&&Wc(j,H(),Q),Rm}function xm(s,o,a,c,h,p,v,D,E,M,F,j,Q){const se=Pe(),Oe=il(se,s,o,a,c,h,p,v,D,E,M,F,j,Q);return Oe!==Qt&&Wc(se,H(),Oe),xm}function km(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe){const ze=Pe(),et=tp(ze,s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe);return et!==Qt&&Wc(ze,H(),et),km}function mh(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et){const _t=Pe(),Rt=oh(_t,s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et);return Rt!==Qt&&Wc(_t,H(),Rt),mh}function pv(s){const o=Pe(),a=ih(o,s);return a!==Qt&&Wc(o,H(),a),pv}function WD(s,o,a){uo(Mi,ol,ku(Pe(),s,o,a),!0)}function Lu(s,o,a,c,h){uo(Mi,ol,Ji(Pe(),s,o,a,c,h),!0)}function zD(s,o,a,c,h,p,v){uo(Mi,ol,wr(Pe(),s,o,a,c,h,p,v),!0)}function qD(s,o,a,c,h,p,v,D,E){uo(Mi,ol,zc(Pe(),s,o,a,c,h,p,v,D,E),!0)}function qc(s,o,a,c,h,p,v,D,E,M,F){uo(Mi,ol,sh(Pe(),s,o,a,c,h,p,v,D,E,M,F),!0)}function gv(s,o,a,c,h,p,v,D,E,M,F,j,Q){uo(Mi,ol,il(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q),!0)}function fp(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe){uo(Mi,ol,tp(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe),!0)}function mv(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et){uo(Mi,ol,oh(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et),!0)}function _h(s){uo(Mi,ol,ih(Pe(),s),!0)}function _v(s,o,a){Ho(ku(Pe(),s,o,a))}function Xi(s,o,a,c,h){Ho(Ji(Pe(),s,o,a,c,h))}function yv(s,o,a,c,h,p,v){Ho(wr(Pe(),s,o,a,c,h,p,v))}function yh(s,o,a,c,h,p,v,D,E){Ho(zc(Pe(),s,o,a,c,h,p,v,D,E))}function pp(s,o,a,c,h,p,v,D,E,M,F){Ho(sh(Pe(),s,o,a,c,h,p,v,D,E,M,F))}function vv(s,o,a,c,h,p,v,D,E,M,F,j,Q){Ho(il(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q))}function Pm(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe){Ho(tp(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe))}function bv(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et){Ho(oh(Pe(),s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et))}function Dv(s){Ho(ih(Pe(),s))}function Vu(s,o,a,c,h){return co(s,ku(Pe(),o,a,c),h,!1),Vu}function gp(s,o,a,c,h,p,v){return co(s,Ji(Pe(),o,a,c,h,p),v,!1),gp}function mp(s,o,a,c,h,p,v,D,E){return co(s,wr(Pe(),o,a,c,h,p,v,D),E,!1),mp}function _p(s,o,a,c,h,p,v,D,E,M,F){return co(s,zc(Pe(),o,a,c,h,p,v,D,E,M),F,!1),_p}function vh(s,o,a,c,h,p,v,D,E,M,F,j,Q){return co(s,sh(Pe(),o,a,c,h,p,v,D,E,M,F,j),Q,!1),vh}function Bu(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe){return co(s,il(Pe(),o,a,c,h,p,v,D,E,M,F,j,Q,se),Oe,!1),Bu}function Fm(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et){return co(s,tp(Pe(),o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze),et,!1),Fm}function wv(s,o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t,Rt){return co(s,oh(Pe(),o,a,c,h,p,v,D,E,M,F,j,Q,se,Oe,ze,et,_t),Rt,!1),wv}function yp(s,o,a){return co(s,ih(Pe(),o),a,!1),yp}function bh(s,o,a){const c=Pe();return Cs(c,Wi(),o)&&js(Kt(),De(),c,s,o,c[11],a,!0),bh}function vp(s,o,a){const c=Pe();if(Cs(c,Wi(),o)){const p=Kt(),v=De();js(p,v,c,s,o,eE(xa(p.data),v,c),a,!0)}return vp}const Zc=void 0;var KD=["en",[["a","p"],["AM","PM"],Zc],[["AM","PM"],Zc,Zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zc,"{1} 'at' {0}",Zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZD(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Dh={};function bp(s,o,a){"string"!=typeof o&&(a=o,o=s[Ft.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Dh[o]=s,a&&(Dh[o][Ft.ExtraData]=a)}function Lm(s){const o=function mE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Kc(o);if(a)return a;const c=o.split("-")[0];if(a=Kc(c),a)return a;if("en"===c)return KD;throw new le(701,!1)}function Vm(s){return Lm(s)[Ft.CurrencyCode]||null}function wh(s){return Lm(s)[Ft.PluralCase]}function Kc(s){return s in Dh||(Dh[s]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[s]),Dh[s]}function Iv(){Dh={}}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const QD=["zero","one","two","few","many"],ju="en-US",Go={marker:"element"},$u={marker:"ICU"};var or=(()=>((or=or||{})[or.SHIFT=2]="SHIFT",or[or.APPEND_EAGERLY=1]="APPEND_EAGERLY",or[or.COMMENT=2]="COMMENT",or))();let ar=ju;function Ih(s){(function qt(s,o){null==s&&nt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(ar=s.toLowerCase().replace(/_/g,"-"))}function Ch(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?jb(s,0,a):Gn(a[h])}function JD(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=c,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let E=1;E<p.length;E++)Kd(s,v,a[p[E]],D,!1)}}function Cv(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];XD(c)||yE(c,o)&&null===vE(c)&&bE(c,o.index)}}function XD(s){return!(64&s.type)}function yE(s,o){return XD(o)||s.index>o.index}function vE(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function bE(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:($b(Ch,JD),s.insertBeforeIndex=o)}function tc(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function tw(s,o,a){const c=Xd(s,a,64,null,null);return Cv(o,c),c}function wp(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Hu(s){return s>>>17}function nw(s){return(131070&s)>>>1}let Ip=0,Eh=0;function Sv(s,o,a,c){const h=a[11];let v,p=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const M=o[++D];null===a[M]&&(a[M]=ly(h,E))}else if("number"==typeof E)switch(1&E){case 0:const M=Hu(E);let F,j;if(null===p&&(p=M,v=$f(h,c)),M===p?(F=c,j=v):(F=null,j=Gn(a[M])),null!==j){const ze=nw(E);Kd(h,j,a[ze],F,!1);const _t=tc(s,ze);if(null!==_t&&"object"==typeof _t){const Rt=wp(_t,a);null!==Rt&&Sv(s,_t.create[Rt],a,a[_t.anchorIdx])}}break;case 1:const se=o[++D],Oe=o[++D];cm(h,An(E>>>1,a),null,null,se,Oe,null)}else switch(E){case $u:const M=o[++D],F=o[++D];null===a[F]&&Is(a[F]=Yi(h,M),a);break;case Go:const j=o[++D],Q=o[++D];null===a[Q]&&Is(a[Q]=cy(h,j,null),a)}}}function Av(s,o,a,c,h){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&h){let E="";for(let M=p+1;M<=p+D;M++){const F=a[M];if("string"==typeof F)E+=F;else if("number"==typeof F)if(F<0)E+=ge(o[c-F]);else{const j=F>>>2;switch(3&F){case 1:const Q=a[++M],se=a[++M],Oe=s.data[j];"string"==typeof Oe?cm(o[11],o[j],null,Oe,Q,E,se):js(s,Oe,o,Q,E,o[11],se,!1);break;case 0:const ze=o[j];null!==ze&&Zd(o[11],ze,E);break;case 2:DE(s,tc(s,j),o,E);break;case 3:Bm(s,tc(s,j),c,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const F=tc(s,E>>>2);o[F.currentCaseLViewIndex]<0&&Bm(s,F,c,o)}}p+=D}}function Bm(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=Ip;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),Av(s,c,o.update[h],a,p)}}function DE(s,o,a,c){const h=function wE(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function YD(s,o){const a=wh(o)(parseInt(s,10)),c=QD[a];return void 0!==c?c:"other"}(o,function Dp(){return ar}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(wp(o,a)!==h&&(ow(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&Sv(s,o.create[h],a,v)}}function ow(s,o,a){let c=wp(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const D=An(v,a);null!==D&&my(a[11],D)}else ow(s,tc(s,~v),a)}}}function jm(){const s=[];let a,c,o=-1;function p(D,E){o=0;const M=wp(D,E);c=null!==M?D.remove[M]:Vt}function v(){if(o<c.length){const D=c[o++];return D>0?a[D]:(s.push(o,c),p(a[1].data[~D],a),v())}return 0===s.length?null:(c=s.pop(),o=s.pop(),v())}return function h(D,E){for(a=E;s.length;)s.pop();return p(D.value,E),v}}const Yc=/\ufffd(\d+):?\d*\ufffd/gi,CE=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Pr=/\ufffd(\d+)\ufffd/,Mv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,EE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lw=/\uE500/g;function Ep(s,o,a,c,h,p,v){const D=eh(s,c,1,null);let E=D<<or.SHIFT,M=Gi();o===M&&(M=null),null===M&&(E|=or.APPEND_EAGERLY),v&&(E|=or.COMMENT,function kb(s){void 0===jf&&(jf=s())}(jm)),h.push(E,null===p?"":p);const F=Xd(s,D,v?32:1,null===p?"":p,null);Cv(a,F);const j=F.index;return ui(F,!1),null!==M&&o!==M&&function ew(s,o){let a=s.insertBeforeIndex;null===a?($b(Ch,JD),a=s.insertBeforeIndex=[null,o]):(function Te(s,o,a){s!=o&&nt(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(M,j),F}function dw(s,o,a,c,h,p,v){const D=v.match(Yc),E=Ep(s,o,a,p,c,D?null:v,!1);D&&Sh(h,v,E.index,null,0,null)}function Sh(s,o,a,c,h,p){const v=s.length,D=v+1;s.push(null,null);const E=v+2,M=o.split(Yc);let F=0;for(let j=0;j<M.length;j++){const Q=M[j];if(1&j){const se=h+parseInt(Q,10);s.push(-1-se),F|=$m(se)}else""!==Q&&s.push(Q)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[v]=F,s[D]=s.length-E,F}function hw(s){let o=0;for(let a=0;a<s.length;a++){const c=s[a];"number"==typeof c&&c<0&&o++}return o}function $m(s){return 1<<Math.min(s,31)}function Ov(s){let o,p,a="",c=0,h=!1;for(;null!==(o=EE.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(c),a}function Sp(s,o,a,c,h,p){let v=0;const D={type:h.type,currentCaseLViewIndex:eh(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function gw(s,o,a){s.push($m(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function Qc(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,D);const E=h.values;for(let M=0;M<E.length;M++){const F=E[M],j=[];for(let Q=0;Q<F.length;Q++){const se=F[Q];if("string"!=typeof se){const Oe=j.push(se)-1;F[Q]=`\x3c!--\ufffd${Oe}\ufffd--\x3e`}}v=SE(s,D,o,a,c,h.cases[M],F.join(""),j)|v}v&&function kv(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function fw(s){const o=[],a=[];let c=1,h=0;const p=Ah(s=s.replace(Mv,function(v,D,E){return c="select"===E?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=Ah(p[v++]);o.length>a.length&&a.push(E)}return{type:c,mainBinding:h,cases:o,values:a}}function Ah(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,D);Mv.test(E)?c.push(fw(E)):c.push(E),o=D+1}}else{if(0==a.length){const E=s.substring(o,D);c.push(E),o=D+1}a.push("{")}}const v=s.substring(o);return c.push(v),c}function SE(s,o,a,c,h,p,v,D){const E=[],M=[],F=[];o.cases.push(p),o.create.push(E),o.remove.push(M),o.update.push(F);const Q=xd(Nd()).getInertBodyElement(v),se=Fc(Q)||Q;return se?xv(s,o,a,c,E,M,F,se,h,D,0):0}function xv(s,o,a,c,h,p,v,D,E,M,F){let j=0,Q=D.firstChild;for(;Q;){const se=eh(s,a,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Oe=Q,ze=Oe.tagName.toLowerCase();if(Df.hasOwnProperty(ze)){Ap(h,Go,ze,E,se),s.data[se]=ze;const Ve=Oe.attributes;for(let xt=0;xt<Ve.length;xt++){const En=Ve.item(xt),Wn=En.name.toLowerCase();En.value.match(Yc)?kg.hasOwnProperty(Wn)&&Sh(v,En.value,se,En.name,0,Eu[Wn]?kd:null):mw(h,se,En)}j=xv(s,o,a,c,h,p,v,Q,se,M,F+1)|j,Nh(p,se,F)}break;case Node.TEXT_NODE:const et=Q.textContent||"",_t=et.match(Yc);Ap(h,null,_t?"":et,E,se),Nh(p,se,F),_t&&(j=Sh(v,et,se,null,0,null)|j);break;case Node.COMMENT_NODE:const Rt=Pr.exec(Q.textContent||"");if(Rt){const xt=M[parseInt(Rt[1],10)];Ap(h,$u,"",E,se),Sp(s,a,c,E,xt,se),pw(p,se,F)}}Q=Q.nextSibling}return j}function Nh(s,o,a){0===a&&s.push(o)}function pw(s,o,a){0===a&&(s.push(~o),s.push(o))}function Ap(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function iw(s,o,a){return s|o<<17|a<<1}(0,c,h))}function mw(s,o,a){s.push(o<<1|1,a.name,a.value)}const _w=/\[(\ufffd.+?\ufffd?)\]/,yw=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Gu=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vw=/{([A-Z0-9_]+)}/g,bw=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Dw=/\/\*/,ww=/\d+\:(\d+)/;function Es(s,o,a=-1){const c=Kt(),h=Pe(),p=22+s,v=bi(c.consts,o),D=Gi();c.firstCreatePass&&function uw(s,o,a,c,h,p){const v=Gi(),D=[],E=[],M=[[]];h=function Rv(s,o){if(function Tp(s){return-1===s}(o))return Ov(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Ov(s.substring(a,c))}}(h,p);const F=function cw(s){return s.replace(lw," ")}(h).split(TE);for(let j=0;j<F.length;j++){let Q=F[j];if(0==(1&j)){const se=Ah(Q);for(let Oe=0;Oe<se.length;Oe++){let ze=se[Oe];if(0==(1&Oe)){const et=ze;""!==et&&dw(s,v,M[0],D,E,a,et)}else{const et=ze;if("object"!=typeof et)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Sp(s,a,E,o,et,Ep(s,v,M[0],a,D,"",!0).index)}}}else{const se=47===Q.charCodeAt(0),ze=(Q.charCodeAt(se?1:0),22+Number.parseInt(Q.substring(se?2:1)));if(se)M.shift(),ui(Gi(),!1);else{const et=tw(s,M[0],ze);M.unshift([]),ui(et,!0)}}}s.data[c]={create:D,update:E}}(c,null===D?0:D.index,h,p,v,a);const E=c.data[p],F=py(c,D===h[6]?null:D,h);(function Tv(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],D=o[p],E=(v&or.COMMENT)===or.COMMENT,M=(v&or.APPEND_EAGERLY)===or.APPEND_EAGERLY,F=v>>>or.SHIFT;let j=s[F];null===j&&(j=s[F]=E?h.createComment(D):ly(h,D)),M&&null!==a&&Kd(h,a,j,c,!1)}})(h,E.create,F,D&&8&D.type?h[D.index]:null),Xs(!0)}function Gm(){Xs(!1)}function Pv(s,o,a){Es(s,o,a),Gm()}function Wu(s,o){const a=Kt();!function nc(s,o,a){const h=jn().index,p=[];if(s.firstCreatePass&&null===s.data[o]){for(let v=0;v<a.length;v+=2){const D=a[v],E=a[v+1];if(""!==E){if(CE.test(E))throw new Error(`ICU expressions are not supported in attributes. Message: "${E}".`);Sh(p,E,h,D,hw(p),null)}}s.data[o]=p}}(a,s+22,bi(a.consts,o))}function Fv(s){return function sw(s){s&&(Ip|=1<<Math.min(Eh,31)),Eh++}(Cs(Pe(),Wi(),s)),Fv}function Iw(s){!function Ev(s,o,a){if(Eh>0){const c=s.data[a];Av(s,o,Array.isArray(c)?c:c.update,Hr()-Eh-1,Ip)}Ip=0,Eh=0}(Kt(),Pe(),s+22)}function Wm(s,o={}){return function Hm(s,o={}){let a=s;if(_w.test(s)){const c={},h=[0];a=a.replace(yw,(p,v,D)=>{const E=v||D,M=c[E]||[];if(M.length||(E.split("|").forEach(ze=>{const et=ze.match(ww),_t=et?parseInt(et[1],10):0,Rt=Dw.test(ze);M.push([_t,Rt,ze])}),c[E]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${E}`);const F=h[h.length-1];let j=0;for(let ze=0;ze<M.length;ze++)if(M[ze][0]===F){j=ze;break}const[Q,se,Oe]=M[j];return se?h.pop():F!==Q&&h.push(Q),M.splice(j,1),Oe})}return Object.keys(o).length&&(a=a.replace(Gu,(c,h,p,v,D,E)=>o.hasOwnProperty(p)?`${h}${o[p]}${E}`:c),a=a.replace(vw,(c,h)=>o.hasOwnProperty(h)?o[h]:c),a=a.replace(bw,(c,h)=>{if(o.hasOwnProperty(h)){const p=o[h];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return p.shift()}return c})),a}(s,o)}function Lv(s,o,a,c,h){if(s=Y(s),Array.isArray(s))for(let p=0;p<s.length;p++)Lv(s[p],o,a,c,h);else{const p=Kt(),v=Pe();let D=ql(s)?s:Y(s.provide),E=Of(s);const M=jn(),F=1048575&M.providerIndexes,j=M.directiveStart,Q=M.providerIndexes>>20;if(ql(s)||!s.multi){const se=new hi(E,h,Kf),Oe=Mh(D,o,h?F:F+Q,j);-1===Oe?(xo(Ro(M,v),p,D),zm(p,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(se),v.push(se)):(a[Oe]=se,v[Oe]=se)}else{const se=Mh(D,o,F+Q,j),Oe=Mh(D,o,F,F+Q),ze=se>=0&&a[se],et=Oe>=0&&a[Oe];if(h&&!et||!h&&!ze){xo(Ro(M,v),p,D);const _t=function Oh(s,o,a,c,h){const p=new hi(s,a,Kf);return p.multi=[],p.index=o,p.componentProviders=0,Cw(p,h,c&&!a),p}(h?Ew:NE,a.length,h,c,E);!h&&et&&(a[Oe].providerFactory=_t),zm(p,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(_t),v.push(_t)}else zm(p,s,se>-1?se:Oe,Cw(a[h?Oe:se],E,!h&&c));!h&&c&&et&&a[Oe].componentProviders++}}}function zm(s,o,a,c){const h=ql(o),p=function J_(s){return!!s.useClass}(o);if(h||p){const E=(p?Y(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=M.indexOf(a);-1===F?M.push(a,[c,E]):M[F+1].push(c,E)}else M.push(a,E)}}}function Cw(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Mh(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function NE(s,o,a,c){return ni(this.multi,[])}function Ew(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=to(a,a[1],this.providerFactory.index,c);p=D.slice(0,v),ni(h,p);for(let E=v;E<D.length;E++)p.push(D[E])}else p=[],ni(h,p);return p}function ni(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function rc(s,o=[]){return a=>{a.providersResolver=(c,h)=>function AE(s,o,a){const c=Kt();if(c.firstCreatePass){const h=Or(s);Lv(a,c.data,c.blueprint,h,!0),Lv(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Jc{}class Tw{}function We(s,o){return new ic(s,o??null)}const zr=We;class ic extends Jc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ED(this);const c=Rn(o);this._bootstrapComponents=Zl(c.bootstrap),this._r3Injector=qf(o,a,[{provide:Jc,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Rh extends Tw{constructor(o){super(),this.moduleType=o}create(o){return new ic(this.moduleType,o)}}class yt extends Jc{constructor(o,a,c){super(),this.componentFactoryResolver=new ED(this),this.instance=null;const h=new Gg([...o,{provide:Jc,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],a||$d(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Lt(s,o,a=null){return new yt(s,o,a).injector}let ME=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Vd(0,a.type),h=c.length>0?Lt([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ln({token:s,providedIn:"environment",factory:()=>new s(Nn(bs))}),s})();function st(s){s.getStandaloneInjector=o=>o.get(ME).getOrCreateStandaloneInjector(s)}function Ce(s){const o=ws(s);if(null===o)return null;if(void 0===o.component){const a=o.lView;if(null===a)return null;o.component=function zC(s,o){const a=o[1].data[s];return 2&a.flags?o[a.directiveStart]:null}(o.nodeIndex,a)}return o.component}function Be(s){!function Mw(s){if(typeof Element<"u"&&!(s instanceof Element))throw new Error("Expecting instance of DOM Element")}(s);const o=ws(s),a=o?o.lView:null;return null===a?null:a[8]}function ri(s){const o=ws(s);let c,a=o?o.lView:null;if(null===a)return null;for(;2===a[1].type&&(c=em(a));)a=c;return 256&a[2]?null:a[8]}function Vv(s){const o=Ab(s);return null!==o?[zd(o)]:[]}function Sw(s){const o=ws(s),a=o?o.lView:null;return null===a?Ql.NULL:new _s(a[1].data[o.nodeIndex],a)}function Aw(s){if(s instanceof Text)return[];const o=ws(s),a=o?o.lView:null;if(null===a)return[];const h=o.nodeIndex;return a[1]?.data[h]?(void 0===o.directives&&(o.directives=WC(h,a,!1)),null===o.directives?[]:[...o.directives]):[]}function RE(s){const{constructor:o}=s;if(!o)throw new Error("Unable to find the instance constructor");const a=ne(o);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Un.OnPush:Un.Default};const c=Xe(o);return c?{inputs:c.inputs,outputs:c.outputs}:null}function qm(s){return ws(s).native}function kE(s){const o=ws(s),a=null===o?null:o.lView;if(null===a)return[];const h=a[7],p=a[1].cleanup,v=[];if(p&&h)for(let D=0;D<p.length;){const E=p[D++],M=p[D++];if("string"==typeof E){const F=E,j=Gn(a[M]),Q=h[p[D++]],se=p[D++],Oe="boolean"==typeof se||se>=0?"dom":"output",ze="boolean"==typeof se&&se;s==j&&v.push({element:s,name:F,callback:Q,useCapture:ze,type:Oe})}}return v.sort(PE),v}function PE(s,o){return s.name==o.name?0:s.name<o.name?-1:1}function Nw(s){return void 0!==s.type&&void 0!==s.template&&void 0!==s.declaredInputs}function lr(s,o,a,c){return zn(()=>{const h=s;null!==o&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...o):h.decorators=o),null!==a&&(h.ctorParameters=a),null!==c&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?{...h.propDecorators,...c}:c)})}function Bt(s,o,a){const c=Yn()+s,h=Pe();return h[c]===Qt?Jl(h,c,a?o.call(a):o()):pm(h,c)}function xh(s,o,a,c){return xw(Pe(),Yn(),s,o,a,c)}function bn(s,o,a,c,h){return kh(Pe(),Yn(),s,o,a,c,h)}function Ow(s,o,a,c,h,p){return Bv(Pe(),Yn(),s,o,a,c,h,p)}function Cr(s,o,a,c,h,p,v){return jv(Pe(),Yn(),s,o,a,c,h,p,v)}function tt(s,o,a,c,h,p,v,D){const E=Yn()+s,M=Pe(),F=lo(M,E,a,c,h,p);return Cs(M,E+4,v)||F?Jl(M,E+5,D?o.call(D,a,c,h,p,v):o(a,c,h,p,v)):pm(M,E+5)}function Op(s,o,a,c,h,p,v,D,E){const M=Yn()+s,F=Pe(),j=lo(F,M,a,c,h,p);return rh(F,M+4,v,D)||j?Jl(F,M+6,E?o.call(E,a,c,h,p,v,D):o(a,c,h,p,v,D)):pm(F,M+6)}function Zm(s,o,a,c,h,p,v,D,E,M){const F=Yn()+s,j=Pe();let Q=lo(j,F,a,c,h,p);return qy(j,F+4,v,D,E)||Q?Jl(j,F+7,M?o.call(M,a,c,h,p,v,D,E):o(a,c,h,p,v,D,E)):pm(j,F+7)}function Xc(s,o,a,c,h,p,v,D,E,M,F){const j=Yn()+s,Q=Pe(),se=lo(Q,j,a,c,h,p);return lo(Q,j+4,v,D,E,M)||se?Jl(Q,j+8,F?o.call(F,a,c,h,p,v,D,E,M):o(a,c,h,p,v,D,E,M)):pm(Q,j+8)}function Rw(s,o,a,c){return Us(Pe(),Yn(),s,o,a,c)}function eu(s,o){const a=s[o];return a===Qt?void 0:a}function xw(s,o,a,c,h,p){const v=o+a;return Cs(s,v,h)?Jl(s,v+1,p?c.call(p,h):c(h)):eu(s,v+1)}function kh(s,o,a,c,h,p,v){const D=o+a;return rh(s,D,h,p)?Jl(s,D+2,v?c.call(v,h,p):c(h,p)):eu(s,D+2)}function Bv(s,o,a,c,h,p,v,D){const E=o+a;return qy(s,E,h,p,v)?Jl(s,E+3,D?c.call(D,h,p,v):c(h,p,v)):eu(s,E+3)}function jv(s,o,a,c,h,p,v,D,E){const M=o+a;return lo(s,M,h,p,v,D)?Jl(s,M+4,E?c.call(E,h,p,v,D):c(h,p,v,D)):eu(s,M+4)}function Us(s,o,a,c,h,p){let v=o+a,D=!1;for(let E=0;E<h.length;E++)Cs(s,v++,h[E])&&(D=!0);return D?Jl(s,v,c.apply(p,h)):eu(s,v)}function Km(s,o){const a=Kt();let c;const h=s+22;a.firstCreatePass?(c=function kw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=Sn(c.type)),v=mr(Kf);try{const D=oa(!1),E=p();return oa(D),lh(a,Pe(),h,E),E}finally{mr(v)}}function sc(s,o,a){const c=s+22,h=Pe(),p=vi(h,c);return xp(h,c)?xw(h,Yn(),o,p.transform,a,p):p.transform(a)}function Qm(s,o,a,c){const h=s+22,p=Pe(),v=vi(p,h);return xp(p,h)?kh(p,Yn(),o,v.transform,a,c,v):v.transform(a,c)}function me(s,o,a,c,h){const p=s+22,v=Pe(),D=vi(v,p);return xp(v,p)?Bv(v,Yn(),o,D.transform,a,c,h,D):D.transform(a,c,h)}function Rp(s,o,a,c,h,p){const v=s+22,D=Pe(),E=vi(D,v);return xp(D,v)?jv(D,Yn(),o,E.transform,a,c,h,p,E):E.transform(a,c,h,p)}function Wo(s,o,a){const c=s+22,h=Pe(),p=vi(h,c);return xp(h,c)?Us(h,Yn(),o,p.transform,a,p):p.transform.apply(p,a)}function xp(s,o){return s[1].data[o].pure}function al(s){return o=>{setTimeout(s,void 0,o)}}const ll=class kp extends I.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(p=al(p),h&&(h=al(h)),v&&(v=al(v)));const D=super.subscribe({next:h,error:p,complete:v});return o instanceof u.w0&&o.add(D),D}};function zu(){return this._results[nh()]()}class Pp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=nh(),c=Pp.prototype;c[a]||(c[a]=zu)}get changes(){return this._changes||(this._changes=new ll)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Di(o);(this._changesDetected=!function Ac(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qu=(()=>{class s{}return s.__NG_ELEMENT_ID__=$s,s})();const LE=qu,VE=class extends LE{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=Yf(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),th(c,h,o),new Xf(h)}};function $s(){return Fp(jn(),Pe())}function Fp(s,o){return 4&s.type?new VE(o,s,y(s,o)):null}let cl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pw,s})();function Pw(){return Uv(jn(),Pe())}const Fr=cl,Lp=class extends Fr{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cc(this._hostTNode,this._hostLView);if(gu(o)){const a=Nl(o,this._hostLView),c=Xr(o);return new _s(a[1].data[c+8],a)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ii(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,c,h,p){const v=o&&!Fl(o);let D;if(v)D=a;else{const j=a||{};D=j.index,c=j.injector,h=j.projectableNodes,p=j.environmentInjector||j.ngModuleRef}const E=v?o:new ep(ne(o)),M=c||this.parentInjector;if(!p&&null==E.ngModule){const Q=(v?M:this.parentInjector).get(bs,null);Q&&(p=Q)}const F=E.create(M,h,void 0,p);return this.insert(F.hostView,D),F}insert(o,a){const c=o._lView,h=c[1];if(function Eo(s){return Qr(s[3])}(c)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const j=c[3],Q=new Lp(j,j[6],j[3]);Q.detach(Q.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function e1(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],Po(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function dy(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,c,v,p);const D=Hb(p,v),E=c[11],M=$f(E,v[7]);return null!==M&&function uy(s,o,a,c,h,p){c[0]=h,c[6]=o,zf(s,c,a,1,h,p)}(h,v[6],E,c,M,D),o.attachToViewContainerRef(),Po(Ln(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ii(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=tm(this._lContainer,a);c&&(Wa(Ln(this._lContainer),a),nm(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=tm(this._lContainer,a);return c&&null!=Wa(Ln(this._lContainer),a)?new Xf(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Ii(s){return s[8]}function Ln(s){return s[8]||(s[8]=[])}function Uv(s,o){let a;const c=o[s.index];if(Qr(c))a=c;else{let h;if(8&s.type)h=Gn(c);else{const p=o[11];h=p.createComment("");const v=Zn(s,o);Kd(p,$f(p,v),h,function Hf(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=ID(c,o,h,s),jy(o,a)}return new Lp(a,s,o)}class qr{constructor(o){this.queryList=o,this.matches=null}clone(){return new qr(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new $v(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Wv(o,a).matches&&this.queries[a].setDirty()}}class oc{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class pr{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new pr(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ac{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ac(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,Hv(a,p)),this.matchTNodeWithReadOption(o,a,Ua(a,o,p,!1,!1))}else c===qu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ua(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===f||h===cl||h===qu&&4&a.type)this.addMatch(a.index,-2);else{const p=Ua(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Hv(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Vp(s,o,a,c){return-1===a?function Fw(s,o){return 11&s.type?y(s,o):4&s.type?Fp(s,o):null}(o,s):-2===a?function BE(s,o,a){return a===f?y(o,s):a===qu?Fp(o,s):a===cl?Uv(o,s):void 0}(s,o,c):to(s,s[1],a,o)}function lc(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,v=a.matches,D=[];for(let E=0;E<v.length;E+=2){const M=v[E];D.push(M<0?null:Vp(o,p[M],v[E+1],a.metadata.read))}h.matches=D}return h.matches}function Zu(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=lc(s,o,h,a);for(let D=0;D<p.length;D+=2){const E=p[D];if(E>0)c.push(v[D/2]);else{const M=p[D+1],F=o[-E];for(let j=10;j<F.length;j++){const Q=F[j];Q[17]===Q[3]&&Zu(Q[1],Q,M,c)}if(null!==F[9]){const j=F[9];for(let Q=0;Q<j.length;Q++){const se=j[Q];Zu(se[1],se,M,c)}}}}}return c}function Fh(s){const o=Pe(),a=Kt(),c=vc();ka(c+1);const h=Wv(a,c);if(s.dirty&&function ps(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Zu(a,o,c,[]):lc(a,o,h,c);s.reset(p,m),s.notifyOnChanges()}return!0}return!1}function Gv(s,o,a){const c=Kt();c.firstCreatePass&&(Lh(c,new oc(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Da(c,Pe(),o)}function cc(s,o,a,c){const h=Kt();if(h.firstCreatePass){const p=jn();Lh(h,new oc(o,a,c),p.index),function tu(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Da(h,Pe(),a)}function Bp(){return function Ku(s,o){return s[19].queries[o].queryList}(Pe(),vc())}function Da(s,o,a){const c=new Pp(4==(4&a));hD(s,o,c,c.destroy),null===o[19]&&(o[19]=new $v),o[19].queries.push(new qr(c))}function Lh(s,o,a){null===s.queries&&(s.queries=new pr),s.queries.track(new ac(o,a))}function Wv(s,o){return s.queries.getByIndex(o)}function Qu(s,o){return Fp(s,o)}const Fi=(()=>({\u0275\u0275attribute:Zy,\u0275\u0275attributeInterpolate1:Ae,\u0275\u0275attributeInterpolate2:Xl,\u0275\u0275attributeInterpolate3:ah,\u0275\u0275attributeInterpolate4:sl,\u0275\u0275attributeInterpolate5:In,\u0275\u0275attributeInterpolate6:Ky,\u0275\u0275attributeInterpolate7:ya,\u0275\u0275attributeInterpolate8:It,\u0275\u0275attributeInterpolateV:np,\u0275\u0275defineComponent:Le,\u0275\u0275defineDirective:ee,\u0275\u0275defineInjectable:ln,\u0275\u0275defineInjector:jt,\u0275\u0275defineNgModule:Gt,\u0275\u0275definePipe:Me,\u0275\u0275directiveInject:Kf,\u0275\u0275getInheritedFactory:df,\u0275\u0275inject:Nn,\u0275\u0275injectAttribute:mu,\u0275\u0275invalidFactory:A1,\u0275\u0275invalidFactoryDep:Sd,\u0275\u0275templateRefExtractor:Qu,\u0275\u0275resetView:ia,\u0275\u0275NgOnChangesFeature:$i,\u0275\u0275ProvidersFeature:rc,\u0275\u0275CopyDefinitionFeature:MD,\u0275\u0275InheritDefinitionFeature:SD,\u0275\u0275StandaloneFeature:st,\u0275\u0275nextContext:PD,\u0275\u0275namespaceHTML:hn,\u0275\u0275namespaceMathML:nn,\u0275\u0275namespaceSVG:lt,\u0275\u0275enableBindings:ra,\u0275\u0275disableBindings:Fs,\u0275\u0275elementStart:mm,\u0275\u0275elementEnd:pi,\u0275\u0275element:ch,\u0275\u0275elementContainerStart:va,\u0275\u0275elementContainerEnd:_m,\u0275\u0275elementContainer:ym,\u0275\u0275pureFunction0:Bt,\u0275\u0275pureFunction1:xh,\u0275\u0275pureFunction2:bn,\u0275\u0275pureFunction3:Ow,\u0275\u0275pureFunction4:Cr,\u0275\u0275pureFunction5:tt,\u0275\u0275pureFunction6:Op,\u0275\u0275pureFunction7:Zm,\u0275\u0275pureFunction8:Xc,\u0275\u0275pureFunctionV:Rw,\u0275\u0275getCurrentView:vm,\u0275\u0275restoreView:So,\u0275\u0275listener:uh,\u0275\u0275projection:Jy,\u0275\u0275syntheticHostProperty:vp,\u0275\u0275syntheticHostListener:Dm,\u0275\u0275pipeBind1:sc,\u0275\u0275pipeBind2:Qm,\u0275\u0275pipeBind3:me,\u0275\u0275pipeBind4:Rp,\u0275\u0275pipeBindV:Wo,\u0275\u0275projectionDef:Pu,\u0275\u0275hostProperty:bh,\u0275\u0275property:ip,\u0275\u0275propertyInterpolate:op,\u0275\u0275propertyInterpolate1:ap,\u0275\u0275propertyInterpolate2:Xy,\u0275\u0275propertyInterpolate3:Im,\u0275\u0275propertyInterpolate4:dh,\u0275\u0275propertyInterpolate5:lp,\u0275\u0275propertyInterpolate6:cp,\u0275\u0275propertyInterpolate7:up,\u0275\u0275propertyInterpolate8:ev,\u0275\u0275propertyInterpolateV:tv,\u0275\u0275pipe:Km,\u0275\u0275queryRefresh:Fh,\u0275\u0275viewQuery:Gv,\u0275\u0275loadQuery:Bp,\u0275\u0275contentQuery:cc,\u0275\u0275reference:xD,\u0275\u0275classMap:uv,\u0275\u0275classMapInterpolate1:WD,\u0275\u0275classMapInterpolate2:Lu,\u0275\u0275classMapInterpolate3:zD,\u0275\u0275classMapInterpolate4:qD,\u0275\u0275classMapInterpolate5:qc,\u0275\u0275classMapInterpolate6:gv,\u0275\u0275classMapInterpolate7:fp,\u0275\u0275classMapInterpolate8:mv,\u0275\u0275classMapInterpolateV:_h,\u0275\u0275styleMap:Ho,\u0275\u0275styleMapInterpolate1:_v,\u0275\u0275styleMapInterpolate2:Xi,\u0275\u0275styleMapInterpolate3:yv,\u0275\u0275styleMapInterpolate4:yh,\u0275\u0275styleMapInterpolate5:pp,\u0275\u0275styleMapInterpolate6:vv,\u0275\u0275styleMapInterpolate7:Pm,\u0275\u0275styleMapInterpolate8:bv,\u0275\u0275styleMapInterpolateV:Dv,\u0275\u0275styleProp:lv,\u0275\u0275stylePropInterpolate1:Vu,\u0275\u0275stylePropInterpolate2:gp,\u0275\u0275stylePropInterpolate3:mp,\u0275\u0275stylePropInterpolate4:_p,\u0275\u0275stylePropInterpolate5:vh,\u0275\u0275stylePropInterpolate6:Bu,\u0275\u0275stylePropInterpolate7:Fm,\u0275\u0275stylePropInterpolate8:wv,\u0275\u0275stylePropInterpolateV:yp,\u0275\u0275classProp:Sm,\u0275\u0275advance:h1,\u0275\u0275template:rp,\u0275\u0275text:dp,\u0275\u0275textInterpolate:hp,\u0275\u0275textInterpolate1:gh,\u0275\u0275textInterpolate2:Om,\u0275\u0275textInterpolate3:fv,\u0275\u0275textInterpolate4:Fu,\u0275\u0275textInterpolate5:Rm,\u0275\u0275textInterpolate6:xm,\u0275\u0275textInterpolate7:km,\u0275\u0275textInterpolate8:mh,\u0275\u0275textInterpolateV:pv,\u0275\u0275i18n:Pv,\u0275\u0275i18nAttributes:Wu,\u0275\u0275i18nExp:Fv,\u0275\u0275i18nStart:Es,\u0275\u0275i18nEnd:Gm,\u0275\u0275i18nApply:Iw,\u0275\u0275i18nPostprocess:Wm,\u0275\u0275resolveWindow:Mb,\u0275\u0275resolveDocument:Ob,\u0275\u0275resolveBody:qC,\u0275\u0275setComponentScope:ft,\u0275\u0275setNgModuleScope:Z,\u0275\u0275registerNgModuleType:fa,\u0275\u0275sanitizeHtml:tl,\u0275\u0275sanitizeStyle:Fg,\u0275\u0275sanitizeResourceUrl:Ef,\u0275\u0275sanitizeScript:Tf,\u0275\u0275sanitizeUrl:Cf,\u0275\u0275sanitizeUrlOrResourceUrl:jg,\u0275\u0275trustConstantHtml:Lg,\u0275\u0275trustConstantResourceUrl:Vg,forwardRef:z,resolveForwardRef:Y}))();let zo=null;function Lw(){zo=null}function Vh(s){return!!Rn(s)}const Bh=[];let qv=!1;function Zv(){if(!qv){qv=!0;try{for(let s=Bh.length-1;s>=0;s--){const{moduleType:o,ngModule:a}=Bh[s];a.declarations&&a.declarations.every(Kv)&&(Bh.splice(s,1),Vw(o,a))}}finally{qv=!1}}}function Kv(s){return Array.isArray(s)?s.every(Kv):!!Y(s)}function Ci(s,o={}){Qv(s,o),void 0!==o.id&&fa(s,o.id),function UE(s,o){Bh.push({moduleType:s,ngModule:o})}(s,o)}function Qv(s,o,a=!1){const c=Di(o.declarations||Vt);let h=null;Object.defineProperty(s,gn,{configurable:!0,get:()=>(null===h&&(h=Dr().compileNgModule(Fi,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:Di(o.bootstrap||Vt).map(Y),declarations:c.map(Y),imports:Di(o.imports||Vt).map(Y).map(Bw),exports:Di(o.exports||Vt).map(Y).map(Bw),schemas:o.schemas?Di(o.schemas):null,id:o.id||null}),h.schemas||(h.schemas=[])),h)});let p=null;Object.defineProperty(s,yr,{get:()=>{if(null===p){const D=Dr();p=D.compileFactory(Fi,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Gr(s),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(s,Br,{get:()=>{if(null===v){const D={name:s.name,type:s,providers:o.providers||Vt,imports:[(o.imports||Vt).map(Y),(o.exports||Vt).map(Y)]};v=Dr().compileInjector(Fi,`ng:///${s.name}/\u0275inj.js`,D)}return v},configurable:!1})}let Ym=new WeakMap,Yu=new WeakMap;function Jm(){Ym=new WeakMap,Yu=new WeakMap,Bh.length=0}function Vw(s,o){const a=Di(o.declarations||Vt),c=Er(s);a.forEach(h=>{(h=Y(h)).hasOwnProperty(Ti)?Xm(ne(h),c):!h.hasOwnProperty(un)&&!h.hasOwnProperty(Bi)&&(h.ngSelectorScope=s)})}function Xm(s,o){s.directiveDefs=()=>Array.from(o.compilation.directives).map(a=>a.hasOwnProperty(Ti)?ne(a):Xe(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(o.compilation.pipes).map(a=>Ct(a)),s.schemas=o.schemas,s.tView=null}function Er(s){if(Vh(s))return function $E(s){const o=Rn(s,!0);if(null!==o.transitiveCompileScopes)return o.transitiveCompileScopes;const a={schemas:o.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Zl(o.imports).forEach(c=>{const h=Er(c);h.exported.directives.forEach(p=>a.compilation.directives.add(p)),h.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),Zl(o.declarations).forEach(c=>{Ct(c)?a.compilation.pipes.add(c):a.compilation.directives.add(c)}),Zl(o.exports).forEach(c=>{const h=c;if(Vh(h)){const p=Er(h);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Ct(h)?a.exported.pipes.add(h):a.exported.directives.add(h)}),o.transitiveCompileScopes=a,a}(s);if(fn(s)){if(null!==(ne(s)||Xe(s)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([s]),pipes:new Set}};if(null!==Ct(s))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([s])}}}throw new Error(`${s.name} does not have a module def (\u0275mod property)`)}function Bw(s){return function Up(s){return void 0!==s.ngModule}(s)?s.ngModule:s}let Xv=0;function e0(s,o){let a=null;(function da(s,o){ha(o)&&(Ka.set(s,o),Uo.add(s))})(s,o),jw(s,o),Object.defineProperty(s,Ti,{get:()=>{if(null===a){const c=Dr();if(ha(o)){const M=[`Component '${s.name}' is not resolved:`];throw o.templateUrl&&M.push(` - templateUrl: ${o.templateUrl}`),o.styleUrls&&o.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(o.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const h=function jp(){return zo}();let p=o.preserveWhitespaces;void 0===p&&(p=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=o.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:wt.Emulated);const D=o.templateUrl||`ng:///${s.name}/template.html`,E={...t0(s,o),typeSourceSpan:c.createParseSourceSpan("Component",s.name,D),template:o.template||"",preserveWhitespaces:p,styles:o.styles||Vt,animations:o.animations,declarations:[],changeDetection:o.changeDetection,encapsulation:v,interpolation:o.interpolation,viewProviders:o.viewProviders||null,isStandalone:!!o.standalone};Xv++;try{if(E.usesInheritance&&dl(s),a=c.compileComponent(Fi,D,E),o.standalone){const M=Di(o.imports||Vt),{directiveDefs:F,pipeDefs:j}=function GE(s,o){let a=null,c=null;return{directiveDefs:()=>{if(null===a){a=[ne(s)];const v=new Set;for(const D of o){const E=Y(D);if(!v.has(E))if(v.add(E),Rn(E)){const M=Er(E);for(const F of M.exported.directives){const j=ne(F)||Xe(F);j&&!v.has(F)&&(v.add(F),a.push(j))}}else{const M=ne(E)||Xe(E);M&&a.push(M)}}}return a},pipeDefs:()=>{if(null===c){c=[];const v=new Set;for(const D of o){const E=Y(D);if(!v.has(E))if(v.add(E),Rn(E)){const M=Er(E);for(const F of M.exported.pipes){const j=Ct(F);j&&!v.has(F)&&(v.add(F),c.push(j))}}else{const M=Ct(E);M&&c.push(M)}}}return c}}}(s,M);a.directiveDefs=F,a.pipeDefs=j,a.dependencies=()=>M.map(Y)}}finally{Xv--}if(0===Xv&&Zv(),function WE(s){return void 0!==s.ngSelectorScope}(s)){const M=Er(s.ngSelectorScope);Xm(a,M)}if(o.schemas){if(!o.standalone)throw new Error(`The 'schemas' was specified for the ${de(s)} but is only valid on a component that is standalone.`);a.schemas=o.schemas}else o.standalone&&(a.schemas=[])}return a},configurable:!1})}function ul(s,o){let a=null;jw(s,o||{}),Object.defineProperty(s,un,{get:()=>{if(null===a){const c=Ju(s,o||{});a=Dr().compileDirective(Fi,c.sourceMapUrl,c.metadata)}return a},configurable:!1})}function Ju(s,o){const a=s&&s.name,c=`ng:///${a}/\u0275dir.js`,h=Dr(),p=t0(s,o);return p.typeSourceSpan=h.createParseSourceSpan("Directive",a,c),p.usesInheritance&&dl(s),{metadata:p,sourceMapUrl:c}}function jw(s,o){let a=null;Object.defineProperty(s,yr,{get:()=>{if(null===a){const c=Ju(s,o),h=Dr();a=h.compileFactory(Fi,`ng:///${s.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:Gr(s),target:h.FactoryTarget.Directive})}return a},configurable:!1})}function Uw(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function t0(s,o){const a=Jn(),c=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==o.selector?o.selector:null,host:o.host||li,propMetadata:c,inputs:o.inputs||Vt,outputs:o.outputs||Vt,queries:n0(s,c,e_),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Uw(s),exportAs:r0(o.exportAs),providers:o.providers||null,viewQueries:n0(s,c,t_),isStandalone:!!o.standalone}}function dl(s){const o=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==o;)!Xe(a)&&!ne(a)&&Hp(a)&&ul(a,null),a=Object.getPrototypeOf(a)}function $w(s){return"string"==typeof s?es(s):Y(s)}function jh(s,o){return{propertyName:s,predicate:$w(o.selector),descendants:o.descendants,first:o.first,read:o.read?o.read:null,static:!!o.static,emitDistinctChangesOnly:!!o.emitDistinctChangesOnly}}function n0(s,o,a){const c=[];for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${de(s)}" since the query selector wasn't defined.`);if(p.some(Xu))throw new Error("Cannot combine @Input decorators with query decorators");c.push(jh(h,v))}})}return c}function r0(s){return void 0===s?null:es(s)}function e_(s){const o=s.ngMetadataName;return"ContentChild"===o||"ContentChildren"===o}function t_(s){const o=s.ngMetadataName;return"ViewChild"===o||"ViewChildren"===o}function Xu(s){return"Input"===s.ngMetadataName}function es(s){return s.split(",").map(o=>o.trim())}const n_=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Hp(s){const o=Jn();if(n_.some(c=>o.hasLifecycleHook(s,c)))return!0;const a=o.propMetadata(s);for(const c in a){const h=a[c];for(let p=0;p<h.length;p++){const v=h[p],D=v.ngMetadataName;if(Xu(v)||e_(v)||t_(v)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function s0(s,o){let a=null,c=null;Object.defineProperty(s,yr,{get:()=>{if(null===c){const h=r_(s,o),p=Dr();c=p.compileFactory(Fi,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:Gr(s),target:p.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(s,Bi,{get:()=>{if(null===a){const h=r_(s,o);a=Dr().compilePipe(Fi,`ng:///${h.name}/\u0275pipe.js`,h)}return a},configurable:!1})}function r_(s,o){return{type:s,name:s.name,pipeName:o.name,pure:void 0===o.pure||o.pure,isStandalone:!!o.standalone}}const i_=ys("Directive",(s={})=>s,void 0,void 0,(s,o)=>ul(s,o)),Hw=ys("Component",(s={})=>({changeDetection:Un.Default,...s}),i_,void 0,(s,o)=>e0(s,o)),Gw=ys("Pipe",s=>({pure:!0,...s}),void 0,void 0,(s,o)=>s0(s,o)),zE=ei("Input",s=>({bindingPropertyName:s})),Ww=ei("Output",s=>({bindingPropertyName:s})),zw=ei("HostBinding",s=>({hostPropertyName:s})),qw=ei("HostListener",(s,o)=>({eventName:s,args:o})),s_=ys("NgModule",s=>s,void 0,void 0,(s,o)=>Ci(s,o));function o_(...s){}const o0=new Fn("Application Initializer");let uc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=o_,this.reject=o_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(bm(p))a.push(p);else if(kD(p)){const v=new Promise((D,E)=>{p.subscribe({complete:D,error:E})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Nn(o0,8))},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ru=new Fn("AppId",{providedIn:"root",factory:a0});function a0(){return`${a_()}${a_()}${a_()}`}const ed={provide:ru,useFactory:a0,deps:[]};function a_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const td=new Fn("Platform Initializer"),Zw=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),l0=new Fn("appBootstrapListener"),Gp=new Fn("Application Packages Root URL"),qE=new Fn("AnimationModuleType");let ZE=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const nd=new Fn("LocaleId",{providedIn:"root",factory:()=>S(nd,ot.Optional|ot.SkipSelf)||function gr(){return typeof $localize<"u"&&$localize.locale||ju}()}),l_=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Kw=new Fn("Translations"),KE=new Fn("TranslationsFormat");var Hs=(()=>((Hs=Hs||{})[Hs.Error=0]="Error",Hs[Hs.Warning=1]="Warning",Hs[Hs.Ignore=2]="Ignore",Hs))();class Qw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Yw=(()=>{class s{compileModuleSync(a){return new Rh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Zl(Rn(a).declarations).reduce((v,D)=>{const E=ne(D);return E&&v.push(new ep(E)),v},[]);return new Qw(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rd=new Fn("compilerOptions");class dc{}function Jw(s){CD(UC(s)),Vv(s).forEach(o=>zt(o))}let u0=!1;function Uh(){u0||(u0=!0,Gs("\u0275setProfiler",Hn),Gs("getDirectiveMetadata",RE),Gs("getComponent",Ce),Gs("getContext",Be),Gs("getListeners",kE),Gs("getOwningComponent",ri),Gs("getHostElement",qm),Gs("getInjector",Sw),Gs("getRootComponents",Vv),Gs("getDirectives",Aw),Gs("applyChanges",Jw))}function Gs(s,o){if(typeof COMPILED>"u"||!COMPILED){const a=yn;if(a){let c=a.ng;c||(c=a.ng={}),c[s]=o}}}const QE=(()=>Promise.resolve(0))();function Lr(s){typeof Zone>"u"?QE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Cn(){let s=yn.requestAnimationFrame,o=yn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ws(s){const o=()=>{!function YE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(yn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,c_(s),s.isCheckStableRunning=!0,hl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),c_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,v,D)=>{try{return $h(s),a.invokeTask(h,p,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),d0(s)}},onInvoke:(a,c,h,p,v,D,E)=>{try{return $h(s),a.invoke(h,p,v,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),d0(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,c_(s),hl(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fo.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new le(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,Xw,o_,o_);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Xw={};function hl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function c_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $h(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function d0(s){s._nesting--,hl(s)}class wa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const h0=new Fn(""),Hh=new Fn("");let f0,JE=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,f0||(Xt(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),Lr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lr(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Nn(fo),Nn(eI),Nn(Hh))},s.\u0275prov=ln({token:s,factory:s.\u0275fac}),s})(),eI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return f0?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Xt(s){f0=s}let Ia=null;const id=new Fn("AllowMultipleToken"),sd=new Fn("PlatformDestroyListeners");function p0(s,o,a){const c=new Rh(a);return Promise.resolve(c)}function g0(s){return s.isBoundToModule}class eT{constructor(o,a){this.name=o,this.token=a}}function m0(s){if(Ia&&!Ia.get(id,!1))throw new le(400,!1);Ia=s;const o=s.get(Wp);return nI(s),o}function nI(s){const o=s.get(td,null);o&&o.forEach(a=>a())}function tT(s){const{rootComponent:o,appProviders:a,platformProviders:c}=s,h=function tI(s=[]){if(Ia)return Ia;const o=_0(s);return Ia=o,nI(o),o}(c),p=Wh("zone.js",y0());return p.run(()=>{const D=Lt([{provide:fo,useValue:p},...a||[]],h,"Environment Injector"),E=D.get(Vf,null);let M;p.runOutsideAngular(()=>{M=p.onError.subscribe({next:Q=>{E.handleError(Q)}})});const F=()=>D.destroy(),j=h.get(sd);return j.add(F),D.onDestroy(()=>{M.unsubscribe(),j.delete(F)}),Ca(E,p,()=>{const Q=D.get(uc);return Q.runInitializers(),Q.donePromise.then(()=>{Ih(D.get(nd,ju)||ju);const Oe=D.get(zp);return void 0!==o&&Oe.bootstrap(o),Oe})})})}function rI(s,o,a=[]){const c=`Platform: ${o}`,h=new Fn(c);return(p=[])=>{let v=Zr();if(!v||v.injector.get(id,!1)){const D=[...a,...p,{provide:h,useValue:!0}];s?s(D):m0(_0(D,c))}return Gh()}}function Gh(s){const o=Zr();if(!o)throw new le(401,!1);return o}function _0(s=[],o){return Ql.create({name:o,providers:[{provide:Su,useValue:"platform"},{provide:sd,useValue:new Set([()=>Ia=null])},...s]})}function nT(){Zr()?.destroy()}function Zr(){return Ia?.get(Wp)??null}let Wp=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=Wh(c?.ngZone,y0(c)),p=[{provide:fo,useValue:h}];return h.run(()=>{const v=Ql.create({providers:p,parent:this.injector,name:a.moduleType.name}),D=a.create(v),E=D.injector.get(Vf,null);if(!E)throw new le(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:F=>{E.handleError(F)}});D.onDestroy(()=>{iu(this._modules,D),M.unsubscribe()})}),Ca(E,h,()=>{const M=D.injector.get(uc);return M.runInitializers(),M.donePromise.then(()=>(Ih(D.injector.get(nd,ju)||ju),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,c=[]){const h=u_({},c);return p0(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(zp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new le(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(sd,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Nn(Ql))},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function y0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}function Wh(s,o){let a;return a="noop"===s?new wa:("zone.js"===s?void 0:s)||new fo(o),a}function Ca(s,o,a){try{const c=a();return bm(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}function u_(s,o){return Array.isArray(o)?o.reduce(u_,s):{...s,...o}}let zp=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{fo.assertNotInAngularZone(),Lr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(p,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Au;if(!this._injector.get(uc).done)throw!h&&fn(a),new le(405,false);let v;v=h?a:this._injector.get(Hd).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=g0(v)?void 0:this._injector.get(Jc),M=v.create(Ql.NULL,[],c||v.selector,D),F=M.location.nativeElement,j=M.injector.get(h0,null);return j?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),iu(this.components,M),j?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;iu(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(l0,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>iu(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new le(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Nn(fo),Nn(bs),Nn(Vf))},s.\u0275prov=ln({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function iu(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let b0=!0,sI=!1;function rT(){return sI=!0,b0}function qp(){if(sI)throw new Error("Cannot enable prod mode after platform setup.");b0=!1}function D0(s){const o=Hl(s);if(!o)throw w0(s);return new Rh(o)}function iT(s){const o=Hl(s);if(!o)throw w0(s);return o}function w0(s){return new Error(`No module with ID ${s} loaded`)}let d_=(()=>{class s{}return s.__NG_ELEMENT_ID__=I0,s})();function I0(s){return function sT(s,o,a){if(vo(s)&&!a){const c=tn(s.index,o);return new Xf(c,c)}return 47&s.type?new Xf(o[16],o):null}(jn(),Pe(),16==(16&s))}class C0 extends d_{}class oT extends C0{}class zh{constructor(o,a){this.name=o,this.callback=a}}function qh(s){return s.map(o=>o.nativeElement)}class E0{constructor(o){this.nativeNode=o}get parent(){const o=this.nativeNode.parentNode;return o?new Zp(o):null}get injector(){return Sw(this.nativeNode)}get componentInstance(){const o=this.nativeNode;return o&&(Ce(o)||ri(o))}get context(){return Ce(this.nativeNode)||Be(this.nativeNode)}get listeners(){return kE(this.nativeNode).filter(o=>"dom"===o.type)}get references(){return function xE(s){const o=ws(s);if(null===o)return{};if(void 0===o.localRefs){const a=o.lView;if(null===a)return{};o.localRefs=function iN(s,o){const a=s[1].data[o];if(a&&a.localNames){const c={};let h=a.index+1;for(let p=0;p<a.localNames.length;p+=2)c[a.localNames[p]]=s[h],h++;return c}return null}(a,o.nodeIndex)}return o.localRefs||{}}(this.nativeNode)}get providerTokens(){return function OE(s){const o=ws(s),a=o?o.lView:null;if(null===a)return[];const c=a[1],h=c.data[o.nodeIndex],p=[],D=h.directiveEnd;for(let E=1048575&h.providerIndexes;E<D;E++){let M=c.data[E];Nw(M)&&(M=M.type),p.push(M)}return p}(this.nativeNode)}}class Zp extends E0{constructor(o){super(o)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const o=ws(this.nativeNode),a=o?o.lView:null;return null!==a?a[1].data[o.nodeIndex].value:this.nativeNode.nodeName}get properties(){const o=ws(this.nativeNode),a=o?o.lView:null;if(null===a)return{};const c=a[1].data,h=c[o.nodeIndex],p={};return function aT(s,o){if(s){let a=Object.getPrototypeOf(s);const c=Node.prototype;for(;null!==a&&a!==c;){const h=Object.getOwnPropertyDescriptors(a);for(let p in h)if(!p.startsWith("__")&&!p.startsWith("on")){const v=s[p];oI(v)&&(o[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function f_(s,o,a,c){let h=o.propertyBindings;if(null!==h)for(let p=0;p<h.length;p++){const v=h[p],E=c[v].split("\ufffd"),M=E[0];if(E.length>1){let F=E[1];for(let j=1;j<E.length-1;j++)F+=ge(a[v+j-1])+E[j+1];s[M]=F}else s[M]=a[v]}}(p,h,a,c),p}get attributes(){const o={},a=this.nativeElement;if(!a)return o;const c=ws(a),h=c?c.lView:null;if(null===h)return{};const p=h[1].data[c.nodeIndex].attrs,v=[];if(p){let E=0;for(;E<p.length;){const M=p[E];if("string"!=typeof M)break;o[M]=p[E+1],v.push(M.toLowerCase()),E+=2}}const D=a.attributes;for(let E=0;E<D.length;E++){const M=D[E],F=M.name.toLowerCase();-1===v.indexOf(F)&&(o[F]=M.value)}return o}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const o={},c=this.nativeElement.className;return("string"!=typeof c?c.baseVal.split(" "):c.split(" ")).forEach(p=>o[p]=!0),o}get childNodes(){const o=this.nativeNode.childNodes,a=[];for(let c=0;c<o.length;c++)a.push(Zh(o[c]));return a}get children(){const o=this.nativeElement;if(!o)return[];const a=o.children,c=[];for(let h=0;h<a.length;h++)c.push(Zh(a[h]));return c}query(o){return this.queryAll(o)[0]||null}queryAll(o){const a=[];return ts(this,o,a,!0),a}queryAllNodes(o){const a=[];return ts(this,o,a,!1),a}triggerEventHandler(o,a){const c=this.nativeNode,h=[];this.listeners.forEach(p=>{if(p.name===o){const v=p.callback;v.call(c,a),h.push(v)}}),"function"==typeof c.eventListeners&&c.eventListeners(o).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(c,a)}})}}function oI(s){return"string"==typeof s||"boolean"==typeof s||"number"==typeof s||null===s}function ts(s,o,a,c){const h=ws(s.nativeNode),p=h?h.lView:null;null!==p?od(p[1].data[h.nodeIndex],p,o,a,c,s.nativeNode):h_(s.nativeNode,o,a,c)}function od(s,o,a,c,h,p){const v=function Jo(s,o){const a=null===s?-1:s.index;return-1!==a?Gn(o[a]):null}(s,o);if(11&s.type){if(Zo(v,a,c,h,p),vo(s)){const E=tn(s.index,o);E&&E[1].firstChild&&od(E[1].firstChild,E,a,c,h,p)}else s.child&&od(s.child,o,a,c,h,p),v&&h_(v,a,c,h);const D=o[s.index];Qr(D)&&T0(D,a,c,h,p)}else if(4&s.type){const D=o[s.index];Zo(D[7],a,c,h,p),T0(D,a,c,h,p)}else if(16&s.type){const D=o[16],M=D[6].projection[s.projection];if(Array.isArray(M))for(let F of M)Zo(F,a,c,h,p);else if(M){const F=D[3];od(F[1].data[M.index],F,a,c,h,p)}}else s.child&&od(s.child,o,a,c,h,p);if(p!==v){const D=4&s.flags?s.projectionNext:s.next;D&&od(D,o,a,c,h,p)}}function T0(s,o,a,c,h){for(let p=10;p<s.length;p++){const v=s[p],D=v[1].firstChild;D&&od(D,v,o,a,c,h)}}function Zo(s,o,a,c,h){if(h!==s){const p=Zh(s);if(!p)return;(c&&p instanceof Zp&&o(p)&&-1===a.indexOf(p)||!c&&o(p)&&-1===a.indexOf(p))&&a.push(p)}}function h_(s,o,a,c){const h=s.childNodes,p=h.length;for(let v=0;v<p;v++){const D=h[v],E=Zh(D);E&&((c&&E instanceof Zp&&o(E)&&-1===a.indexOf(E)||!c&&o(E)&&-1===a.indexOf(E))&&a.push(E),h_(D,o,a,c))}}const S0="__ng_debug__";function Zh(s){return s instanceof Node?(s.hasOwnProperty(S0)||(s[S0]=s.nodeType==Node.ELEMENT_NODE?new Zp(s):new E0(s)),s[S0]):null}function lT(s){return null}class aI{constructor(){}supports(o){return fm(o)}create(o){return new lI(o)}}const cT=(s,o)=>o;class lI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||cT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<uI(c,h,p)?a:c,D=uI(v,h,p),E=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const M=D-h,F=E-h;if(M!=F){for(let Q=0;Q<M;Q++){const se=Q<p.length?p[Q]:p[Q]=0,Oe=se+Q;F<=Oe&&Oe<M&&(p[Q]=se+1)}p[v.previousIndex]=F-M}}D!==E&&o(v,D,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!fm(o))throw new le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),c=!0),a=a._next}else h=0,function qN(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[nh()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,D=>{v=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,D,v,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new uT(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new cI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class uT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class cI{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new dT,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uI(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class dI{constructor(){}supports(o){return o instanceof Map||RD(o)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||RD(o)))throw new le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const c=new hI(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class hI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fI(){return new g_([new aI])}let g_=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||fI()),deps:[[s,new Ot,new Qe]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new le(901,!1)}}return s.\u0275prov=ln({token:s,providedIn:"root",factory:fI}),s})();function pI(){return new Kp([new dI])}let Kp=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||pI()),deps:[[s,new Ot,new Qe]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new le(901,!1)}}return s.\u0275prov=ln({token:s,providedIn:"root",factory:pI}),s})();const Ei=[new dI],N0=new g_([new aI]),M0=new Kp(Ei),su=rI(null,"core",[]);let gI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Nn(zp))},s.\u0275mod=Gt({type:s}),s.\u0275inj=jt({}),s})();function pT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}const mI=!0;function m_(s){return Dr().compileDirectiveDeclaration(Fi,`ng:///${s.type.name}/\u0275fac.js`,s)}function ad(s){lr(s.type,s.decorators,s.ctorParameters??null,s.propDecorators??null)}function ld(s){return Dr().compileComponentDeclaration(Fi,`ng:///${s.type.name}/\u0275cmp.js`,s)}function cd(s){return Dr(function Qp(s){switch(s){case fr.Directive:return"directive";case fr.Component:return"component";case fr.Injectable:return"injectable";case fr.Pipe:return"pipe";case fr.NgModule:return"NgModule"}}(s.target)).compileFactoryDeclaration(Fi,`ng:///${s.type.name}/\u0275fac.js`,s)}function _I(s){return Dr().compileInjectableDeclaration(Fi,`ng:///${s.type.name}/\u0275prov.js`,s)}function O0(s){return Dr().compileInjectorDeclaration(Fi,`ng:///${s.type.name}/\u0275inj.js`,s)}function R0(s){return Dr().compileNgModuleDeclaration(Fi,`ng:///${s.type.name}/\u0275mod.js`,s)}function yI(s){return Dr().compilePipeDeclaration(Fi,`ng:///${s.type.name}/\u0275pipe.js`,s)}function vI(s,o){const a=ne(s),c=o.elementInjector||$d();return new ep(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function gT(s){const o=ne(s);if(!o)return null;const a=new ep(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(mt,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>le});var I=V(2090),u=V(4859),B=V(9681),ae=V(1877);class ie{constructor(ge,de){this._delegate=ge,this.firebase=de,(0,B._addComponent)(ge,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ge,de=B._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(ge);return!it.isInitialized()&&"EXPLICIT"===(null===(Ye=it.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&it.initialize(),it.getImmediate({identifier:de})}_removeServiceInstance(ge,de=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(de)}_addComponent(ge){(0,B._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,B._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ye(){const He=function _e(He){const ge={},de={__esModule:!0,initializeApp:function xe(Je,q={}){const Te=B.initializeApp(Je,q);if((0,I.r3)(ge,Te.name))return ge[Te.name];const X=new He(Te,de);return ge[Te.name]=X,X},app:it,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Re(Je){const q=Je.name,Te=q.replace("-compat","");if(B._registerComponent(Je)&&"PUBLIC"===Je.type){const X=(re=it())=>{if("function"!=typeof re[Te])throw ve.create("invalid-app-argument",{appName:q});return re[Te]()};void 0!==Je.serviceProps&&(0,I.ZB)(X,Je.serviceProps),de[Te]=X,He.prototype[Te]=function(...re){return this._getService.bind(this,q).apply(this,Je.multipleInstances?re:[])}}return"PUBLIC"===Je.type?de[Te]:null},removeApp:function Ye(Je){delete ge[Je]},useAsService:function Ke(Je,q){return"serverAuth"===q?null:q},modularAPIs:B}};function it(Je){if(!(0,I.r3)(ge,Je=Je||B._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Je});return ge[Je]}return de.default=de,Object.defineProperty(de,"apps",{get:function Se(){return Object.keys(ge).map(Je=>ge[Je])}}),it.App=He,de}(ie);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ge(de){(0,I.ZB)(He,de)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),He}(),z=new ae.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const le=G;!function be(He){(0,B.registerVersion)("@firebase/app-compat","0.1.38",He)}()},9681:(mt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ss,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>an,_addOrOverwriteComponent:()=>ln,_apps:()=>_n,_clearComponents:()=>ss,_components:()=>Mn,_getProvider:()=>jt,_registerComponent:()=>Ar,_removeServiceInstance:()=>Dn,deleteApp:()=>qs,getApp:()=>Br,getApps:()=>oi,initializeApp:()=>yi,onLog:()=>os,registerVersion:()=>Nr,setLogLevel:()=>mr});var I=V(5861),u=V(4859),B=V(1877),ae=V(2090),ie=V(8766);class fe{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function ve(gt){return"VERSION"===gt.getComponent()?.type}(ft)){const kt=ft.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(ft=>ft).join(" ")}}const _e="@firebase/app",G=new B.Yd("@firebase/app"),qt="[DEFAULT]",nt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Mn=new Map;function an(gt,Le){try{gt.container.addComponent(Le)}catch(ft){G.debug(`Component ${Le.name} failed to register with FirebaseApp ${gt.name}`,ft)}}function ln(gt,Le){gt.container.addOrOverwriteComponent(Le)}function Ar(gt){const Le=gt.name;if(Mn.has(Le))return G.debug(`There were multiple attempts to register component ${Le}.`),!1;Mn.set(Le,gt);for(const ft of _n.values())an(ft,gt);return!0}function jt(gt,Le){const ft=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),gt.container.getProvider(Le)}function Dn(gt,Le,ft=qt){jt(gt,Le).clearInstance(ft)}function ss(){Mn.clear()}const Kr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class si{constructor(Le,ft,kt){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const Ss="9.13.0";function yi(gt,Le={}){let ft=gt;"object"!=typeof Le&&(Le={name:Le});const kt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Le),Mt=kt.name;if("string"!=typeof Mt||!Mt)throw Kr.create("bad-app-name",{appName:String(Mt)});if(ft||(ft=(0,ae.aH)()),!ft)throw Kr.create("no-options");const Gt=_n.get(Mt);if(Gt){if((0,ae.vZ)(ft,Gt.options)&&(0,ae.vZ)(kt,Gt.config))return Gt;throw Kr.create("duplicate-app",{appName:Mt})}const Z=new u.H0(Mt);for(const ee of Mn.values())Z.addComponent(ee);const W=new si(ft,kt,Z);return _n.set(Mt,W),W}function Br(gt=qt){const Le=_n.get(gt);if(!Le&&gt===qt)return yi();if(!Le)throw Kr.create("no-app",{appName:gt});return Le}function oi(){return Array.from(_n.values())}function qs(gt){return ot.apply(this,arguments)}function ot(){return(ot=(0,I.Z)(function*(gt){const Le=gt.name;_n.has(Le)&&(_n.delete(Le),yield Promise.all(gt.container.getProviders().map(ft=>ft.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Nr(gt,Le,ft){var kt;let Mt=null!==(kt=nt[gt])&&void 0!==kt?kt:gt;ft&&(Mt+=`-${ft}`);const Gt=Mt.match(/\s|\//),Z=Le.match(/\s|\//);if(Gt||Z){const W=[`Unable to register library "${Mt}" with version "${Le}":`];return Gt&&W.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Gt&&Z&&W.push("and"),Z&&W.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void G.warn(W.join(" "))}Ar(new u.wA(`${Mt}-version`,()=>({library:Mt,version:Le}),"VERSION"))}function os(gt,Le){if(null!==gt&&"function"!=typeof gt)throw Kr.create("invalid-log-argument");(0,B.Am)(gt,Le)}function mr(gt){(0,B.Ub)(gt)}const zn="firebase-heartbeat-store";let Un=null;function Ut(){return Un||(Un=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(gt,Le)=>{0===Le&&gt.createObjectStore(zn)}}).catch(gt=>{throw Kr.create("idb-open",{originalErrorMessage:gt.message})})),Un}function wt(){return(wt=(0,I.Z)(function*(gt){var Le;try{return(yield Ut()).transaction(zn).objectStore(zn).get(On(gt))}catch(ft){if(ft instanceof ae.ZR)G.warn(ft.message);else{const kt=Kr.create("idb-get",{originalErrorMessage:null===(Le=ft)||void 0===Le?void 0:Le.message});G.warn(kt.message)}}})).apply(this,arguments)}function yn(gt,Le){return _r.apply(this,arguments)}function _r(){return(_r=(0,I.Z)(function*(gt,Le){var ft;try{const Mt=(yield Ut()).transaction(zn,"readwrite");return yield Mt.objectStore(zn).put(Le,On(gt)),Mt.done}catch(kt){if(kt instanceof ae.ZR)G.warn(kt.message);else{const Mt=Kr.create("idb-set",{originalErrorMessage:null===(ft=kt)||void 0===ft?void 0:ft.message});G.warn(Mt.message)}}})).apply(this,arguments)}function On(gt){return`${gt.name}!${gt.options.appId}`}class Ti{constructor(Le){this.container=Le,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new gn(ft),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Le=this;return(0,I.Z)(function*(){const kt=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=un();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!Le._heartbeatsCache.heartbeats.some(Gt=>Gt.date===Mt))return Le._heartbeatsCache.heartbeats.push({date:Mt,agent:kt}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(Gt=>{const Z=new Date(Gt.date).valueOf();return Date.now()-Z<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,I.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const ft=un(),{heartbeatsToSend:kt,unsentEntries:Mt}=function Bi(gt,Le=1024){const ft=[];let kt=gt.slice();for(const Mt of gt){const Gt=ft.find(Z=>Z.agent===Mt.agent);if(Gt){if(Gt.dates.push(Mt.date),yr(ft)>Le){Gt.dates.pop();break}}else if(ft.push({agent:Mt.agent,dates:[Mt.date]}),yr(ft)>Le){ft.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:ft,unsentEntries:kt}}(Le._heartbeatsCache.heartbeats),Gt=(0,ae.L)(JSON.stringify({version:2,heartbeats:kt}));return Le._heartbeatsCache.lastSentHeartbeatDate=ft,Mt.length>0?(Le._heartbeatsCache.heartbeats=Mt,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),Gt})()}}function un(){return(new Date).toISOString().substring(0,10)}class gn{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,I.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function Tt(gt){return wt.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var ft=this;return(0,I.Z)(function*(){var kt;if(yield ft._canUseIndexedDBPromise){const Gt=yield ft.read();return yn(ft.app,{lastSentHeartbeatDate:null!==(kt=Le.lastSentHeartbeatDate)&&void 0!==kt?kt:Gt.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var ft=this;return(0,I.Z)(function*(){var kt;if(yield ft._canUseIndexedDBPromise){const Gt=yield ft.read();return yn(ft.app,{lastSentHeartbeatDate:null!==(kt=Le.lastSentHeartbeatDate)&&void 0!==kt?kt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Le.heartbeats]})}})()}}function yr(gt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:gt})).length}!function jr(gt){Ar(new u.wA("platform-logger",Le=>new fe(Le),"PRIVATE")),Ar(new u.wA("heartbeat",Le=>new Ti(Le),"PRIVATE")),Nr(_e,"0.8.3",gt),Nr(_e,"0.8.3","esm2017"),Nr("fire-js","")}("")},4859:(mt,Ee,V)=>{"use strict";V.d(Ee,{H0:()=>_e,wA:()=>B});var I=V(5861),u=V(2090);class B{constructor(G,z,Y){this.name=G,this.instanceFactory=z,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class ie{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const Y=new u.BH;if(this.instancesDeferred.set(z,Y),this.isInitialized(z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:z});$e&&Y.resolve($e)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const Y=this.normalizeInstanceIdentifier(G?.identifier),$e=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(be){if($e)return null;throw be}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ve(ye){return"EAGER"===ye.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[z,Y]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(z);try{const be=this.getOrInitializeService({instanceIdentifier:$e});Y.resolve(be)}catch{}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,I.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...z.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Y,options:z});for(const[be,le]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(be)&&le.resolve($e);return $e}onInit(G,z){var Y;const $e=this.normalizeInstanceIdentifier(z),be=null!==(Y=this.onInitCallbacks.get($e))&&void 0!==Y?Y:new Set;be.add(G),this.onInitCallbacks.set($e,be);const le=this.instances.get($e);return le&&G(le,$e),()=>{be.delete(G)}}invokeOnInitCallbacks(G,z){const Y=this.onInitCallbacks.get(z);if(Y)for(const $e of Y)try{$e(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=G,ye===ae?void 0:ye),options:z}),this.instances.set(G,Y),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var ye;return Y||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new ie(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ee,V)=>{"use strict";V.d(Ee,{Am:()=>ye,Ub:()=>_e,Yd:()=>ve,in:()=>u});const I=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const B={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ae=u.INFO,ie={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},fe=(G,z,...Y)=>{if(z<G.logLevel)return;const $e=(new Date).toISOString(),be=ie[z];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[be](`[${$e}]  ${G.name}:`,...Y)};class ve{constructor(z){this.name=z,this._logLevel=ae,this._logHandler=fe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in u))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...z),this._logHandler(this,u.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...z),this._logHandler(this,u.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,u.INFO,...z),this._logHandler(this,u.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,u.WARN,...z),this._logHandler(this,u.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...z),this._logHandler(this,u.ERROR,...z)}}function _e(G){I.forEach(z=>{z.setLogLevel(G)})}function ye(G,z){for(const Y of I){let $e=null;z&&z.level&&($e=B[z.level]),Y.userLogHandler=null===G?null:(be,le,...He)=>{const ge=He.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");le>=($e??be.logLevel)&&G({level:u[le].toLowerCase(),message:ge,args:He,type:be.name})}}}},8766:(mt,Ee,V)=>{"use strict";V.d(Ee,{Lj:()=>xe,X3:()=>it});var I=V(5861);let B,ae;const ve=new WeakMap,_e=new WeakMap,ye=new WeakMap,G=new WeakMap,z=new WeakMap;let be={get(q,Te,X){if(q instanceof IDBTransaction){if("done"===Te)return _e.get(q);if("objectStoreNames"===Te)return q.objectStoreNames||ye.get(q);if("store"===Te)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return de(q[Te])},set:(q,Te,X)=>(q[Te]=X,!0),has:(q,Te)=>q instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in q};function ge(q){return"function"==typeof q?function He(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Te){return q.apply(Ye(this),Te),de(ve.get(this))}:function(...Te){return de(q.apply(Ye(this),Te))}:function(Te,...X){const re=q.call(Ye(this),Te,...X);return ye.set(re,Te.sort?Te.sort():[Te]),de(re)}}(q):(q instanceof IDBTransaction&&function $e(q){if(_e.has(q))return;const Te=new Promise((X,re)=>{const he=()=>{q.removeEventListener("complete",ce),q.removeEventListener("error",Fe),q.removeEventListener("abort",Fe)},ce=()=>{X(),he()},Fe=()=>{re(q.error||new DOMException("AbortError","AbortError")),he()};q.addEventListener("complete",ce),q.addEventListener("error",Fe),q.addEventListener("abort",Fe)});_e.set(q,Te)}(q),((q,Te)=>Te.some(X=>q instanceof X))(q,function ie(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,be):q)}function de(q){if(q instanceof IDBRequest)return function Y(q){const Te=new Promise((X,re)=>{const he=()=>{q.removeEventListener("success",ce),q.removeEventListener("error",Fe)},ce=()=>{X(de(q.result)),he()},Fe=()=>{re(q.error),he()};q.addEventListener("success",ce),q.addEventListener("error",Fe)});return Te.then(X=>{X instanceof IDBCursor&&ve.set(X,q)}).catch(()=>{}),z.set(Te,q),Te}(q);if(G.has(q))return G.get(q);const Te=ge(q);return Te!==q&&(G.set(q,Te),z.set(Te,q)),Te}const Ye=q=>z.get(q);function it(q,Te,{blocked:X,upgrade:re,blocking:he,terminated:ce}={}){const Fe=indexedDB.open(q,Te),Ge=de(Fe);return re&&Fe.addEventListener("upgradeneeded",vt=>{re(de(Fe.result),vt.oldVersion,vt.newVersion,de(Fe.transaction))}),X&&Fe.addEventListener("blocked",()=>X()),Ge.then(vt=>{ce&&vt.addEventListener("close",()=>ce()),he&&vt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ge}function xe(q,{blocked:Te}={}){const X=indexedDB.deleteDatabase(q);return Te&&X.addEventListener("blocked",()=>Te()),de(X).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ke=new Map;function Je(q,Te){if(!(q instanceof IDBDatabase)||Te in q||"string"!=typeof Te)return;if(Ke.get(Te))return Ke.get(Te);const X=Te.replace(/FromIndex$/,""),re=Te!==X,he=Re.includes(X);if(!(X in(re?IDBIndex:IDBObjectStore).prototype)||!he&&!Se.includes(X))return;const ce=function(){var Fe=(0,I.Z)(function*(Ge,...vt){const on=this.transaction(Ge,he?"readwrite":"readonly");let qt=on.store;return re&&(qt=qt.index(vt.shift())),(yield Promise.all([qt[X](...vt),he&&on.done]))[0]});return function(vt){return Fe.apply(this,arguments)}}();return Ke.set(Te,ce),ce}!function le(q){be=q(be)}(q=>({...q,get:(Te,X,re)=>Je(Te,X)||q.get(Te,X,re),has:(Te,X)=>!!Je(Te,X)||q.has(Te,X)}))},5861:(mt,Ee,V)=>{"use strict";function I(B,ae,ie,fe,ve,_e,ye){try{var G=B[_e](ye),z=G.value}catch(Y){return void ie(Y)}G.done?ae(z):Promise.resolve(z).then(fe,ve)}function u(B){return function(){var ae=this,ie=arguments;return new Promise(function(fe,ve){var _e=B.apply(ae,ie);function ye(z){I(_e,fe,ve,ye,G,"next",z)}function G(z){I(_e,fe,ve,ye,G,"throw",z)}ye(void 0)})}}V.d(Ee,{Z:()=>u})}},mt=>{mt(mt.s=6179)}]);